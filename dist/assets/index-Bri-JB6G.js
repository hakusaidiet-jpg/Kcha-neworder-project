(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function t1(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Um={exports:{}},Jl={};var _E;function e1(){if(_E)return Jl;_E=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:a,type:r,key:c,ref:o!==void 0?o:null,props:u}}return Jl.Fragment=t,Jl.jsx=n,Jl.jsxs=n,Jl}var vE;function n1(){return vE||(vE=1,Um.exports=e1()),Um.exports}var U=n1(),Bm={exports:{}},wt={};var EE;function i1(){if(EE)return wt;EE=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),b=Symbol.iterator;function D(O){return O===null||typeof O!="object"?null:(O=b&&O[b]||O["@@iterator"],typeof O=="function"?O:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q=Object.assign,K={};function z(O,rt,ft){this.props=O,this.context=rt,this.refs=K,this.updater=ft||G}z.prototype.isReactComponent={},z.prototype.setState=function(O,rt){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,rt,"setState")},z.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function H(){}H.prototype=z.prototype;function J(O,rt,ft){this.props=O,this.context=rt,this.refs=K,this.updater=ft||G}var et=J.prototype=new H;et.constructor=J,Q(et,z.prototype),et.isPureReactComponent=!0;var at=Array.isArray;function ot(){}var R={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function I(O,rt,ft){var dt=ft.ref;return{$$typeof:a,type:O,key:rt,ref:dt!==void 0?dt:null,props:ft}}function M(O,rt){return I(O.type,rt,O.props)}function N(O){return typeof O=="object"&&O!==null&&O.$$typeof===a}function L(O){var rt={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ft){return rt[ft]})}var C=/\/+/g;function oe(O,rt){return typeof O=="object"&&O!==null&&O.key!=null?L(""+O.key):rt.toString(36)}function Pe(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(ot,ot):(O.status="pending",O.then(function(rt){O.status==="pending"&&(O.status="fulfilled",O.value=rt)},function(rt){O.status==="pending"&&(O.status="rejected",O.reason=rt)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function tt(O,rt,ft,dt,At){var Ct=typeof O;(Ct==="undefined"||Ct==="boolean")&&(O=null);var Lt=!1;if(O===null)Lt=!0;else switch(Ct){case"bigint":case"string":case"number":Lt=!0;break;case"object":switch(O.$$typeof){case a:case t:Lt=!0;break;case v:return Lt=O._init,tt(Lt(O._payload),rt,ft,dt,At)}}if(Lt)return At=At(O),Lt=dt===""?"."+oe(O,0):dt,at(At)?(ft="",Lt!=null&&(ft=Lt.replace(C,"$&/")+"/"),tt(At,rt,ft,"",function(ha){return ha})):At!=null&&(N(At)&&(At=M(At,ft+(At.key==null||O&&O.key===At.key?"":(""+At.key).replace(C,"$&/")+"/")+Lt)),rt.push(At)),1;Lt=0;var ze=dt===""?".":dt+":";if(at(O))for(var le=0;le<O.length;le++)dt=O[le],Ct=ze+oe(dt,le),Lt+=tt(dt,rt,ft,Ct,At);else if(le=D(O),typeof le=="function")for(O=le.call(O),le=0;!(dt=O.next()).done;)dt=dt.value,Ct=ze+oe(dt,le++),Lt+=tt(dt,rt,ft,Ct,At);else if(Ct==="object"){if(typeof O.then=="function")return tt(Pe(O),rt,ft,dt,At);throw rt=String(O),Error("Objects are not valid as a React child (found: "+(rt==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":rt)+"). If you meant to render a collection of children, use an array instead.")}return Lt}function ht(O,rt,ft){if(O==null)return O;var dt=[],At=0;return tt(O,dt,"","",function(Ct){return rt.call(ft,Ct,At++)}),dt}function Tt(O){if(O._status===-1){var rt=O._result;rt=rt(),rt.then(function(ft){(O._status===0||O._status===-1)&&(O._status=1,O._result=ft)},function(ft){(O._status===0||O._status===-1)&&(O._status=2,O._result=ft)}),O._status===-1&&(O._status=0,O._result=rt)}if(O._status===1)return O._result.default;throw O._result}var kt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var rt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(rt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Kt={map:ht,forEach:function(O,rt,ft){ht(O,function(){rt.apply(this,arguments)},ft)},count:function(O){var rt=0;return ht(O,function(){rt++}),rt},toArray:function(O){return ht(O,function(rt){return rt})||[]},only:function(O){if(!N(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return wt.Activity=T,wt.Children=Kt,wt.Component=z,wt.Fragment=n,wt.Profiler=o,wt.PureComponent=J,wt.StrictMode=r,wt.Suspense=g,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,wt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return R.H.useMemoCache(O)}},wt.cache=function(O){return function(){return O.apply(null,arguments)}},wt.cacheSignal=function(){return null},wt.cloneElement=function(O,rt,ft){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var dt=Q({},O.props),At=O.key;if(rt!=null)for(Ct in rt.key!==void 0&&(At=""+rt.key),rt)!w.call(rt,Ct)||Ct==="key"||Ct==="__self"||Ct==="__source"||Ct==="ref"&&rt.ref===void 0||(dt[Ct]=rt[Ct]);var Ct=arguments.length-2;if(Ct===1)dt.children=ft;else if(1<Ct){for(var Lt=Array(Ct),ze=0;ze<Ct;ze++)Lt[ze]=arguments[ze+2];dt.children=Lt}return I(O.type,At,dt)},wt.createContext=function(O){return O={$$typeof:c,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},wt.createElement=function(O,rt,ft){var dt,At={},Ct=null;if(rt!=null)for(dt in rt.key!==void 0&&(Ct=""+rt.key),rt)w.call(rt,dt)&&dt!=="key"&&dt!=="__self"&&dt!=="__source"&&(At[dt]=rt[dt]);var Lt=arguments.length-2;if(Lt===1)At.children=ft;else if(1<Lt){for(var ze=Array(Lt),le=0;le<Lt;le++)ze[le]=arguments[le+2];At.children=ze}if(O&&O.defaultProps)for(dt in Lt=O.defaultProps,Lt)At[dt]===void 0&&(At[dt]=Lt[dt]);return I(O,Ct,At)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(O){return{$$typeof:m,render:O}},wt.isValidElement=N,wt.lazy=function(O){return{$$typeof:v,_payload:{_status:-1,_result:O},_init:Tt}},wt.memo=function(O,rt){return{$$typeof:p,type:O,compare:rt===void 0?null:rt}},wt.startTransition=function(O){var rt=R.T,ft={};R.T=ft;try{var dt=O(),At=R.S;At!==null&&At(ft,dt),typeof dt=="object"&&dt!==null&&typeof dt.then=="function"&&dt.then(ot,kt)}catch(Ct){kt(Ct)}finally{rt!==null&&ft.types!==null&&(rt.types=ft.types),R.T=rt}},wt.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},wt.use=function(O){return R.H.use(O)},wt.useActionState=function(O,rt,ft){return R.H.useActionState(O,rt,ft)},wt.useCallback=function(O,rt){return R.H.useCallback(O,rt)},wt.useContext=function(O){return R.H.useContext(O)},wt.useDebugValue=function(){},wt.useDeferredValue=function(O,rt){return R.H.useDeferredValue(O,rt)},wt.useEffect=function(O,rt){return R.H.useEffect(O,rt)},wt.useEffectEvent=function(O){return R.H.useEffectEvent(O)},wt.useId=function(){return R.H.useId()},wt.useImperativeHandle=function(O,rt,ft){return R.H.useImperativeHandle(O,rt,ft)},wt.useInsertionEffect=function(O,rt){return R.H.useInsertionEffect(O,rt)},wt.useLayoutEffect=function(O,rt){return R.H.useLayoutEffect(O,rt)},wt.useMemo=function(O,rt){return R.H.useMemo(O,rt)},wt.useOptimistic=function(O,rt){return R.H.useOptimistic(O,rt)},wt.useReducer=function(O,rt,ft){return R.H.useReducer(O,rt,ft)},wt.useRef=function(O){return R.H.useRef(O)},wt.useState=function(O){return R.H.useState(O)},wt.useSyncExternalStore=function(O,rt,ft){return R.H.useSyncExternalStore(O,rt,ft)},wt.useTransition=function(){return R.H.useTransition()},wt.version="19.2.4",wt}var TE;function Gg(){return TE||(TE=1,Bm.exports=i1()),Bm.exports}var Y=Gg();const r1=t1(Y);var km={exports:{}},Zl={},jm={exports:{}},qm={};var SE;function a1(){return SE||(SE=1,(function(a){function t(tt,ht){var Tt=tt.length;tt.push(ht);t:for(;0<Tt;){var kt=Tt-1>>>1,Kt=tt[kt];if(0<o(Kt,ht))tt[kt]=ht,tt[Tt]=Kt,Tt=kt;else break t}}function n(tt){return tt.length===0?null:tt[0]}function r(tt){if(tt.length===0)return null;var ht=tt[0],Tt=tt.pop();if(Tt!==ht){tt[0]=Tt;t:for(var kt=0,Kt=tt.length,O=Kt>>>1;kt<O;){var rt=2*(kt+1)-1,ft=tt[rt],dt=rt+1,At=tt[dt];if(0>o(ft,Tt))dt<Kt&&0>o(At,ft)?(tt[kt]=At,tt[dt]=Tt,kt=dt):(tt[kt]=ft,tt[rt]=Tt,kt=rt);else if(dt<Kt&&0>o(At,Tt))tt[kt]=At,tt[dt]=Tt,kt=dt;else break t}}return ht}function o(tt,ht){var Tt=tt.sortIndex-ht.sortIndex;return Tt!==0?Tt:tt.id-ht.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;a.unstable_now=function(){return u.now()}}else{var c=Date,m=c.now();a.unstable_now=function(){return c.now()-m}}var g=[],p=[],v=1,T=null,b=3,D=!1,G=!1,Q=!1,K=!1,z=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function et(tt){for(var ht=n(p);ht!==null;){if(ht.callback===null)r(p);else if(ht.startTime<=tt)r(p),ht.sortIndex=ht.expirationTime,t(g,ht);else break;ht=n(p)}}function at(tt){if(Q=!1,et(tt),!G)if(n(g)!==null)G=!0,ot||(ot=!0,L());else{var ht=n(p);ht!==null&&Pe(at,ht.startTime-tt)}}var ot=!1,R=-1,w=5,I=-1;function M(){return K?!0:!(a.unstable_now()-I<w)}function N(){if(K=!1,ot){var tt=a.unstable_now();I=tt;var ht=!0;try{t:{G=!1,Q&&(Q=!1,H(R),R=-1),D=!0;var Tt=b;try{e:{for(et(tt),T=n(g);T!==null&&!(T.expirationTime>tt&&M());){var kt=T.callback;if(typeof kt=="function"){T.callback=null,b=T.priorityLevel;var Kt=kt(T.expirationTime<=tt);if(tt=a.unstable_now(),typeof Kt=="function"){T.callback=Kt,et(tt),ht=!0;break e}T===n(g)&&r(g),et(tt)}else r(g);T=n(g)}if(T!==null)ht=!0;else{var O=n(p);O!==null&&Pe(at,O.startTime-tt),ht=!1}}break t}finally{T=null,b=Tt,D=!1}ht=void 0}}finally{ht?L():ot=!1}}}var L;if(typeof J=="function")L=function(){J(N)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,oe=C.port2;C.port1.onmessage=N,L=function(){oe.postMessage(null)}}else L=function(){z(N,0)};function Pe(tt,ht){R=z(function(){tt(a.unstable_now())},ht)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(tt){tt.callback=null},a.unstable_forceFrameRate=function(tt){0>tt||125<tt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<tt?Math.floor(1e3/tt):5},a.unstable_getCurrentPriorityLevel=function(){return b},a.unstable_next=function(tt){switch(b){case 1:case 2:case 3:var ht=3;break;default:ht=b}var Tt=b;b=ht;try{return tt()}finally{b=Tt}},a.unstable_requestPaint=function(){K=!0},a.unstable_runWithPriority=function(tt,ht){switch(tt){case 1:case 2:case 3:case 4:case 5:break;default:tt=3}var Tt=b;b=tt;try{return ht()}finally{b=Tt}},a.unstable_scheduleCallback=function(tt,ht,Tt){var kt=a.unstable_now();switch(typeof Tt=="object"&&Tt!==null?(Tt=Tt.delay,Tt=typeof Tt=="number"&&0<Tt?kt+Tt:kt):Tt=kt,tt){case 1:var Kt=-1;break;case 2:Kt=250;break;case 5:Kt=1073741823;break;case 4:Kt=1e4;break;default:Kt=5e3}return Kt=Tt+Kt,tt={id:v++,callback:ht,priorityLevel:tt,startTime:Tt,expirationTime:Kt,sortIndex:-1},Tt>kt?(tt.sortIndex=Tt,t(p,tt),n(g)===null&&tt===n(p)&&(Q?(H(R),R=-1):Q=!0,Pe(at,Tt-kt))):(tt.sortIndex=Kt,t(g,tt),G||D||(G=!0,ot||(ot=!0,L()))),tt},a.unstable_shouldYield=M,a.unstable_wrapCallback=function(tt){var ht=b;return function(){var Tt=b;b=ht;try{return tt.apply(this,arguments)}finally{b=Tt}}}})(qm)),qm}var AE;function s1(){return AE||(AE=1,jm.exports=a1()),jm.exports}var Fm={exports:{}},Je={};var bE;function o1(){if(bE)return Je;bE=1;var a=Gg();function t(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,p,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:g,containerInfo:p,implementation:v}}var c=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Je.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Je.createPortal=function(g,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return u(g,p,null,v)},Je.flushSync=function(g){var p=c.T,v=r.p;try{if(c.T=null,r.p=2,g)return g()}finally{c.T=p,r.p=v,r.d.f()}},Je.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(g,p))},Je.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},Je.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var v=p.as,T=m(v,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,D=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?r.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:T,integrity:b,fetchPriority:D}):v==="script"&&r.d.X(g,{crossOrigin:T,integrity:b,fetchPriority:D,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Je.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=m(p.as,p.crossOrigin);r.d.M(g,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(g)},Je.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,T=m(v,p.crossOrigin);r.d.L(g,v,{crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Je.preloadModule=function(g,p){if(typeof g=="string")if(p){var v=m(p.as,p.crossOrigin);r.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(g)},Je.requestFormReset=function(g){r.d.r(g)},Je.unstable_batchedUpdates=function(g,p){return g(p)},Je.useFormState=function(g,p,v){return c.H.useFormState(g,p,v)},Je.useFormStatus=function(){return c.H.useHostTransitionStatus()},Je.version="19.2.4",Je}var wE;function l1(){if(wE)return Fm.exports;wE=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Fm.exports=o1(),Fm.exports}var RE;function u1(){if(RE)return Zl;RE=1;var a=s1(),t=Gg(),n=l1();function r(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,s=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(s=i.return),e=i.return;while(e)}return i.tag===3?s:null}function c(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function m(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function g(e){if(u(e)!==e)throw Error(r(188))}function p(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(r(188));return i!==e?null:e}for(var s=e,l=i;;){var f=s.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){s=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===s)return g(f),e;if(d===l)return g(f),i;d=d.sibling}throw Error(r(188))}if(s.return!==l.return)s=f,l=d;else{for(var _=!1,S=f.child;S;){if(S===s){_=!0,s=f,l=d;break}if(S===l){_=!0,l=f,s=d;break}S=S.sibling}if(!_){for(S=d.child;S;){if(S===s){_=!0,s=d,l=f;break}if(S===l){_=!0,l=d,s=f;break}S=S.sibling}if(!_)throw Error(r(189))}}if(s.alternate!==l)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?e:i}function v(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=v(e),i!==null)return i;e=e.sibling}return null}var T=Object.assign,b=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),H=Symbol.for("react.consumer"),J=Symbol.for("react.context"),et=Symbol.for("react.forward_ref"),at=Symbol.for("react.suspense"),ot=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var C=Symbol.for("react.client.reference");function oe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===C?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Q:return"Fragment";case z:return"Profiler";case K:return"StrictMode";case at:return"Suspense";case ot:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case G:return"Portal";case J:return e.displayName||"Context";case H:return(e._context.displayName||"Context")+".Consumer";case et:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case R:return i=e.displayName||null,i!==null?i:oe(e.type)||"Memo";case w:i=e._payload,e=e._init;try{return oe(e(i))}catch{}}return null}var Pe=Array.isArray,tt=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Tt={pending:!1,data:null,method:null,action:null},kt=[],Kt=-1;function O(e){return{current:e}}function rt(e){0>Kt||(e.current=kt[Kt],kt[Kt]=null,Kt--)}function ft(e,i){Kt++,kt[Kt]=e.current,e.current=i}var dt=O(null),At=O(null),Ct=O(null),Lt=O(null);function ze(e,i){switch(ft(Ct,i),ft(At,e),ft(dt,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?jv(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=jv(i),e=qv(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}rt(dt),ft(dt,e)}function le(){rt(dt),rt(At),rt(Ct)}function ha(e){e.memoizedState!==null&&ft(Lt,e);var i=dt.current,s=qv(i,e.type);i!==s&&(ft(At,e),ft(dt,s))}function ms(e){At.current===e&&(rt(dt),rt(At)),Lt.current===e&&(rt(Lt),Ql._currentValue=Tt)}var gs,ps;function li(e){if(gs===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);gs=i&&i[1]||"",ps=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+gs+e+ps}var Qo=!1;function fa(e,i){if(!e||Qo)return"";Qo=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var it=function(){throw Error()};if(Object.defineProperty(it.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(it,[])}catch($){var F=$}Reflect.construct(e,[],it)}else{try{it.call()}catch($){F=$}e.call(it.prototype)}}else{try{throw Error()}catch($){F=$}(it=e())&&typeof it.catch=="function"&&it.catch(function(){})}}catch($){if($&&F&&typeof $.stack=="string")return[$.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],S=d[1];if(_&&S){var x=_.split(`
`),q=S.split(`
`);for(f=l=0;l<x.length&&!x[l].includes("DetermineComponentFrameRoot");)l++;for(;f<q.length&&!q[f].includes("DetermineComponentFrameRoot");)f++;if(l===x.length||f===q.length)for(l=x.length-1,f=q.length-1;1<=l&&0<=f&&x[l]!==q[f];)f--;for(;1<=l&&0<=f;l--,f--)if(x[l]!==q[f]){if(l!==1||f!==1)do if(l--,f--,0>f||x[l]!==q[f]){var W=`
`+x[l].replace(" at new "," at ");return e.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",e.displayName)),W}while(1<=l&&0<=f);break}}}finally{Qo=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?li(s):""}function Yo(e,i){switch(e.tag){case 26:case 27:case 5:return li(e.type);case 16:return li("Lazy");case 13:return e.child!==i&&i!==null?li("Suspense Fallback"):li("Suspense");case 19:return li("SuspenseList");case 0:case 15:return fa(e.type,!1);case 11:return fa(e.type.render,!1);case 1:return fa(e.type,!0);case 31:return li("Activity");default:return""}}function Xo(e){try{var i="",s=null;do i+=Yo(e,s),s=e,e=e.return;while(e);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Ae=Object.prototype.hasOwnProperty,Le=a.unstable_scheduleCallback,dr=a.unstable_cancelCallback,kf=a.unstable_shouldYield,Yu=a.unstable_requestPaint,rn=a.unstable_now,da=a.unstable_getCurrentPriorityLevel,$o=a.unstable_ImmediatePriority,Jo=a.unstable_UserBlockingPriority,mr=a.unstable_NormalPriority,jf=a.unstable_LowPriority,Xu=a.unstable_IdlePriority,$u=a.log,Ju=a.unstable_setDisableYieldValue,Qn=null,He=null;function Nn(e){if(typeof $u=="function"&&Ju(e),He&&typeof He.setStrictMode=="function")try{He.setStrictMode(Qn,e)}catch{}}var ye=Math.clz32?Math.clz32:Wu,Zu=Math.log,ys=Math.LN2;function Wu(e){return e>>>=0,e===0?32:31-(Zu(e)/ys|0)|0}var ui=256,ma=262144,be=4194304;function ci(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function hi(e,i,s){var l=e.pendingLanes;if(l===0)return 0;var f=0,d=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?f=ci(l):(_&=S,_!==0?f=ci(_):s||(s=S&~e,s!==0&&(f=ci(s))))):(S=l&~d,S!==0?f=ci(S):_!==0?f=ci(_):s||(s=l&~e,s!==0&&(f=ci(s)))),f===0?0:i!==0&&i!==f&&(i&d)===0&&(d=f&-f,s=i&-i,d>=s||d===32&&(s&4194048)!==0)?i:f}function Yn(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function qf(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tc(){var e=be;return be<<=1,(be&62914560)===0&&(be=4194304),e}function fi(e){for(var i=[],s=0;31>s;s++)i.push(e);return i}function ga(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ff(e,i,s,l,f,d){var _=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var S=e.entanglements,x=e.expirationTimes,q=e.hiddenUpdates;for(s=_&~s;0<s;){var W=31-ye(s),it=1<<W;S[W]=0,x[W]=-1;var F=q[W];if(F!==null)for(q[W]=null,W=0;W<F.length;W++){var $=F[W];$!==null&&($.lane&=-536870913)}s&=~it}l!==0&&pa(e,l,0),d!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=d&~(_&~i))}function pa(e,i,s){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-ye(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|s&261930}function Zo(e,i){var s=e.entangledLanes|=i;for(e=e.entanglements;s;){var l=31-ye(s),f=1<<l;f&i|e[l]&i&&(e[l]|=i),s&=~f}}function Wo(e,i){var s=i&-i;return s=(s&42)!==0?1:ya(s),(s&(e.suspendedLanes|i))!==0?0:s}function ya(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ui(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ec(){var e=ht.p;return e!==0?e:(e=window.event,e===void 0?32:hE(e.type))}function Xn(e,i){var s=ht.p;try{return ht.p=e,i()}finally{ht.p=s}}var $n=Math.random().toString(36).slice(2),we="__reactFiber$"+$n,ke="__reactProps$"+$n,di="__reactContainer$"+$n,_s="__reactEvents$"+$n,Hf="__reactListeners$"+$n,nc="__reactHandles$"+$n,ic="__reactResources$"+$n,mi="__reactMarker$"+$n;function vs(e){delete e[we],delete e[ke],delete e[_s],delete e[Hf],delete e[nc]}function gi(e){var i=e[we];if(i)return i;for(var s=e.parentNode;s;){if(i=s[di]||s[we]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(e=Xv(e);e!==null;){if(s=e[we])return s;e=Xv(e)}return i}e=s,s=e.parentNode}return null}function On(e){if(e=e[we]||e[di]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function _n(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(r(33))}function pi(e){var i=e[ic];return i||(i=e[ic]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Re(e){e[mi]=!0}var tl=new Set,el={};function yi(e,i){_i(e,i),_i(e+"Capture",i)}function _i(e,i){for(el[e]=i,e=0;e<i.length;e++)tl.add(i[e])}var nl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),il={},rl={};function rc(e){return Ae.call(rl,e)?!0:Ae.call(il,e)?!1:nl.test(e)?rl[e]=!0:(il[e]=!0,!1)}function Es(e,i,s){if(rc(i))if(s===null)e.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+s)}}function vn(e,i,s){if(s===null)e.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+s)}}function Ie(e,i,s,l){if(l===null)e.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(i,s,""+l)}}function je(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function gr(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function al(e,i,s){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return f.call(this)},set:function(_){s=""+_,d.call(this,_)}}),Object.defineProperty(e,i,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(_){s=""+_},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Qt(e){if(!e._valueTracker){var i=gr(e)?"checked":"value";e._valueTracker=al(e,i,""+e[i])}}function _a(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var s=i.getValue(),l="";return e&&(l=gr(e)?e.checked?"true":"false":e.value),e=l,e!==s?(i.setValue(e),!0):!1}function vi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var va=/[\n"\\]/g;function ln(e){return e.replace(va,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ts(e,i,s,l,f,d,_,S){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),i!=null?_==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+je(i)):e.value!==""+je(i)&&(e.value=""+je(i)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),i!=null?sl(e,_,je(i)):s!=null?sl(e,_,je(s)):l!=null&&e.removeAttribute("value"),f==null&&d!=null&&(e.defaultChecked=!!d),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.name=""+je(S):e.removeAttribute("name")}function ac(e,i,s,l,f,d,_,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Qt(e);return}s=s!=null?""+je(s):"",i=i!=null?""+je(i):s,S||i===e.value||(e.value=i),e.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=S?e.checked:!!l,e.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),Qt(e)}function sl(e,i,s){i==="number"&&vi(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function pr(e,i,s,l){if(e=e.options,i){i={};for(var f=0;f<s.length;f++)i["$"+s[f]]=!0;for(s=0;s<e.length;s++)f=i.hasOwnProperty("$"+e[s].value),e[s].selected!==f&&(e[s].selected=f),f&&l&&(e[s].defaultSelected=!0)}else{for(s=""+je(s),i=null,f=0;f<e.length;f++){if(e[f].value===s){e[f].selected=!0,l&&(e[f].defaultSelected=!0);return}i!==null||e[f].disabled||(i=e[f])}i!==null&&(i.selected=!0)}}function sc(e,i,s){if(i!=null&&(i=""+je(i),i!==e.value&&(e.value=i),s==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=s!=null?""+je(s):""}function yr(e,i,s,l){if(i==null){if(l!=null){if(s!=null)throw Error(r(92));if(Pe(l)){if(1<l.length)throw Error(r(93));l=l[0]}s=l}s==null&&(s=""),i=s}s=je(i),e.defaultValue=s,l=e.textContent,l===s&&l!==""&&l!==null&&(e.value=l),Qt(e)}function un(e,i){if(i){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=i;return}}e.textContent=i}var oc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ol(e,i,s){var l=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,s):typeof s!="number"||s===0||oc.has(i)?i==="float"?e.cssFloat=s:e[i]=(""+s).trim():e[i]=s+"px"}function ll(e,i,s){if(i!=null&&typeof i!="object")throw Error(r(62));if(e=e.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&s[f]!==l&&ol(e,f,l)}else for(var d in i)i.hasOwnProperty(d)&&ol(e,d,i[d])}function Ss(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_r=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function As(e){return _r.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Jn(){}var ul=null;function Mn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var vr=null,Ei=null;function Ea(e){var i=On(e);if(i&&(e=i.stateNode)){var s=e[ke]||null;t:switch(e=i.stateNode,i.type){case"input":if(Ts(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+ln(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var l=s[i];if(l!==e&&l.form===e.form){var f=l[ke]||null;if(!f)throw Error(r(90));Ts(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<s.length;i++)l=s[i],l.form===e.form&&_a(l)}break t;case"textarea":sc(e,s.value,s.defaultValue);break t;case"select":i=s.value,i!=null&&pr(e,!!s.multiple,i,!1)}}}var bs=!1;function Er(e,i,s){if(bs)return e(i,s);bs=!0;try{var l=e(i);return l}finally{if(bs=!1,(vr!==null||Ei!==null)&&(eh(),vr&&(i=vr,e=Ei,Ei=vr=null,Ea(i),e)))for(i=0;i<e.length;i++)Ea(e[i])}}function Zn(e,i){var s=e.stateNode;if(s===null)return null;var l=s[ke]||null;if(l===null)return null;s=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(r(231,i,typeof s));return s}var Pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ta=!1;if(Pn)try{var Wt={};Object.defineProperty(Wt,"passive",{get:function(){Ta=!0}}),window.addEventListener("test",Wt,Wt),window.removeEventListener("test",Wt,Wt)}catch{Ta=!1}var Ti=null,cl=null,Sa=null;function hl(){if(Sa)return Sa;var e,i=cl,s=i.length,l,f="value"in Ti?Ti.value:Ti.textContent,d=f.length;for(e=0;e<s&&i[e]===f[e];e++);var _=s-e;for(l=1;l<=_&&i[s-l]===f[d-l];l++);return Sa=f.slice(e,1<l?1-l:void 0)}function Aa(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Bi(){return!0}function Wn(){return!1}function Ge(e){function i(s,l,f,d,_){this._reactName=s,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var S in e)e.hasOwnProperty(S)&&(s=e[S],this[S]=s?s(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Bi:Wn,this.isPropagationStopped=Wn,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Bi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Bi)},persist:function(){},isPersistent:Bi}),i}var ki={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Si=Ge(ki),Tr=T({},ki,{view:0,detail:0}),fl=Ge(Tr),Sr,ws,Ai,Rs=T({},Tr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ar,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ai&&(Ai&&e.type==="mousemove"?(Sr=e.screenX-Ai.screenX,ws=e.screenY-Ai.screenY):ws=Sr=0,Ai=e),Sr)},movementY:function(e){return"movementY"in e?e.movementY:ws}}),dl=Ge(Rs),ba=T({},Rs,{dataTransfer:0}),uc=Ge(ba),cc=T({},Tr,{relatedTarget:0}),wa=Ge(cc),ml=T({},ki,{animationName:0,elapsedTime:0,pseudoElement:0}),hc=Ge(ml),Is=T({},ki,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),fc=Ge(Is),dc=T({},ki,{data:0}),bi=Ge(dc),mc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yc(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=pc[e])?!!i[e]:!1}function Ar(){return yc}var an=T({},Tr,{key:function(e){if(e.key){var i=mc[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Aa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?gc[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ar,charCode:function(e){return e.type==="keypress"?Aa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Aa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),_c=Ge(an),vc=T({},Rs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ji=Ge(vc),h=T({},Tr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ar}),y=Ge(h),E=T({},ki,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Ge(E),k=T({},Rs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),X=Ge(k),ut=T({},ki,{newState:0,oldState:0}),Rt=Ge(ut),_e=[9,13,27,32],Ft=Pn&&"CompositionEvent"in window,ue=null;Pn&&"documentMode"in document&&(ue=document.documentMode);var zn=Pn&&"TextEvent"in window&&!ue,wi=Pn&&(!Ft||ue&&8<ue&&11>=ue),ti=" ",ei=!1;function Ra(e,i){switch(e){case"keyup":return _e.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cs(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var xs=!1;function bb(e,i){switch(e){case"compositionend":return Cs(i);case"keypress":return i.which!==32?null:(ei=!0,ti);case"textInput":return e=i.data,e===ti&&ei?null:e;default:return null}}function wb(e,i){if(xs)return e==="compositionend"||!Ft&&Ra(e,i)?(e=hl(),Sa=cl=Ti=null,xs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return wi&&i.locale!=="ko"?null:i.data;default:return null}}var Rb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zp(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!Rb[e.type]:i==="textarea"}function Wp(e,i,s,l){vr?Ei?Ei.push(l):Ei=[l]:vr=l,i=lh(i,"onChange"),0<i.length&&(s=new Si("onChange","change",null,s,l),e.push({event:s,listeners:i}))}var gl=null,pl=null;function Ib(e){Pv(e,0)}function Ec(e){var i=_n(e);if(_a(i))return e}function ty(e,i){if(e==="change")return i}var ey=!1;if(Pn){var Gf;if(Pn){var Kf="oninput"in document;if(!Kf){var ny=document.createElement("div");ny.setAttribute("oninput","return;"),Kf=typeof ny.oninput=="function"}Gf=Kf}else Gf=!1;ey=Gf&&(!document.documentMode||9<document.documentMode)}function iy(){gl&&(gl.detachEvent("onpropertychange",ry),pl=gl=null)}function ry(e){if(e.propertyName==="value"&&Ec(pl)){var i=[];Wp(i,pl,e,Mn(e)),Er(Ib,i)}}function Cb(e,i,s){e==="focusin"?(iy(),gl=i,pl=s,gl.attachEvent("onpropertychange",ry)):e==="focusout"&&iy()}function xb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ec(pl)}function Db(e,i){if(e==="click")return Ec(i)}function Vb(e,i){if(e==="input"||e==="change")return Ec(i)}function Nb(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var En=typeof Object.is=="function"?Object.is:Nb;function yl(e,i){if(En(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var s=Object.keys(e),l=Object.keys(i);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var f=s[l];if(!Ae.call(i,f)||!En(e[f],i[f]))return!1}return!0}function ay(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sy(e,i){var s=ay(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=i&&l>=i)return{node:s,offset:i-e};e=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=ay(s)}}function oy(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?oy(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function ly(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=vi(e.document);i instanceof e.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)e=i.contentWindow;else break;i=vi(e.document)}return i}function Qf(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var Ob=Pn&&"documentMode"in document&&11>=document.documentMode,Ds=null,Yf=null,_l=null,Xf=!1;function uy(e,i,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Xf||Ds==null||Ds!==vi(l)||(l=Ds,"selectionStart"in l&&Qf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),_l&&yl(_l,l)||(_l=l,l=lh(Yf,"onSelect"),0<l.length&&(i=new Si("onSelect","select",null,i,s),e.push({event:i,listeners:l}),i.target=Ds)))}function Ia(e,i){var s={};return s[e.toLowerCase()]=i.toLowerCase(),s["Webkit"+e]="webkit"+i,s["Moz"+e]="moz"+i,s}var Vs={animationend:Ia("Animation","AnimationEnd"),animationiteration:Ia("Animation","AnimationIteration"),animationstart:Ia("Animation","AnimationStart"),transitionrun:Ia("Transition","TransitionRun"),transitionstart:Ia("Transition","TransitionStart"),transitioncancel:Ia("Transition","TransitionCancel"),transitionend:Ia("Transition","TransitionEnd")},$f={},cy={};Pn&&(cy=document.createElement("div").style,"AnimationEvent"in window||(delete Vs.animationend.animation,delete Vs.animationiteration.animation,delete Vs.animationstart.animation),"TransitionEvent"in window||delete Vs.transitionend.transition);function Ca(e){if($f[e])return $f[e];if(!Vs[e])return e;var i=Vs[e],s;for(s in i)if(i.hasOwnProperty(s)&&s in cy)return $f[e]=i[s];return e}var hy=Ca("animationend"),fy=Ca("animationiteration"),dy=Ca("animationstart"),Mb=Ca("transitionrun"),Pb=Ca("transitionstart"),zb=Ca("transitioncancel"),my=Ca("transitionend"),gy=new Map,Jf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jf.push("scrollEnd");function ni(e,i){gy.set(e,i),yi(i,[e])}var Tc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ln=[],Ns=0,Zf=0;function Sc(){for(var e=Ns,i=Zf=Ns=0;i<e;){var s=Ln[i];Ln[i++]=null;var l=Ln[i];Ln[i++]=null;var f=Ln[i];Ln[i++]=null;var d=Ln[i];if(Ln[i++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}d!==0&&py(s,f,d)}}function Ac(e,i,s,l){Ln[Ns++]=e,Ln[Ns++]=i,Ln[Ns++]=s,Ln[Ns++]=l,Zf|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Wf(e,i,s,l){return Ac(e,i,s,l),bc(e)}function xa(e,i){return Ac(e,null,null,i),bc(e)}function py(e,i,s){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s);for(var f=!1,d=e.return;d!==null;)d.childLanes|=s,l=d.alternate,l!==null&&(l.childLanes|=s),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(f=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,f&&i!==null&&(f=31-ye(s),e=d.hiddenUpdates,l=e[f],l===null?e[f]=[i]:l.push(i),i.lane=s|536870912),d):null}function bc(e){if(50<kl)throw kl=0,lm=null,Error(r(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var Os={};function Lb(e,i,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(e,i,s,l){return new Lb(e,i,s,l)}function td(e){return e=e.prototype,!(!e||!e.isReactComponent)}function qi(e,i){var s=e.alternate;return s===null?(s=Tn(e.tag,i,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=i,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,i=e.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function yy(e,i){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,i=s.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function wc(e,i,s,l,f,d){var _=0;if(l=e,typeof e=="function")td(e)&&(_=1);else if(typeof e=="string")_=qw(e,s,dt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=Tn(31,s,i,f),e.elementType=I,e.lanes=d,e;case Q:return Da(s.children,f,d,i);case K:_=8,f|=24;break;case z:return e=Tn(12,s,i,f|2),e.elementType=z,e.lanes=d,e;case at:return e=Tn(13,s,i,f),e.elementType=at,e.lanes=d,e;case ot:return e=Tn(19,s,i,f),e.elementType=ot,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case J:_=10;break t;case H:_=9;break t;case et:_=11;break t;case R:_=14;break t;case w:_=16,l=null;break t}_=29,s=Error(r(130,e===null?"null":typeof e,"")),l=null}return i=Tn(_,s,i,f),i.elementType=e,i.type=l,i.lanes=d,i}function Da(e,i,s,l){return e=Tn(7,e,l,i),e.lanes=s,e}function ed(e,i,s){return e=Tn(6,e,null,i),e.lanes=s,e}function _y(e){var i=Tn(18,null,null,0);return i.stateNode=e,i}function nd(e,i,s){return i=Tn(4,e.children!==null?e.children:[],e.key,i),i.lanes=s,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var vy=new WeakMap;function Un(e,i){if(typeof e=="object"&&e!==null){var s=vy.get(e);return s!==void 0?s:(i={value:e,source:i,stack:Xo(i)},vy.set(e,i),i)}return{value:e,source:i,stack:Xo(i)}}var Ms=[],Ps=0,Rc=null,vl=0,Bn=[],kn=0,br=null,Ri=1,Ii="";function Fi(e,i){Ms[Ps++]=vl,Ms[Ps++]=Rc,Rc=e,vl=i}function Ey(e,i,s){Bn[kn++]=Ri,Bn[kn++]=Ii,Bn[kn++]=br,br=e;var l=Ri;e=Ii;var f=32-ye(l)-1;l&=~(1<<f),s+=1;var d=32-ye(i)+f;if(30<d){var _=f-f%5;d=(l&(1<<_)-1).toString(32),l>>=_,f-=_,Ri=1<<32-ye(i)+f|s<<f|l,Ii=d+e}else Ri=1<<d|s<<f|l,Ii=e}function id(e){e.return!==null&&(Fi(e,1),Ey(e,1,0))}function rd(e){for(;e===Rc;)Rc=Ms[--Ps],Ms[Ps]=null,vl=Ms[--Ps],Ms[Ps]=null;for(;e===br;)br=Bn[--kn],Bn[kn]=null,Ii=Bn[--kn],Bn[kn]=null,Ri=Bn[--kn],Bn[kn]=null}function Ty(e,i){Bn[kn++]=Ri,Bn[kn++]=Ii,Bn[kn++]=br,Ri=i.id,Ii=i.overflow,br=e}var Ke=null,ae=null,zt=!1,wr=null,jn=!1,ad=Error(r(519));function Rr(e){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw El(Un(i,e)),ad}function Sy(e){var i=e.stateNode,s=e.type,l=e.memoizedProps;switch(i[we]=e,i[ke]=l,s){case"dialog":Nt("cancel",i),Nt("close",i);break;case"iframe":case"object":case"embed":Nt("load",i);break;case"video":case"audio":for(s=0;s<ql.length;s++)Nt(ql[s],i);break;case"source":Nt("error",i);break;case"img":case"image":case"link":Nt("error",i),Nt("load",i);break;case"details":Nt("toggle",i);break;case"input":Nt("invalid",i),ac(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Nt("invalid",i);break;case"textarea":Nt("invalid",i),yr(i,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||l.suppressHydrationWarning===!0||Bv(i.textContent,s)?(l.popover!=null&&(Nt("beforetoggle",i),Nt("toggle",i)),l.onScroll!=null&&Nt("scroll",i),l.onScrollEnd!=null&&Nt("scrollend",i),l.onClick!=null&&(i.onclick=Jn),i=!0):i=!1,i||Rr(e,!0)}function Ay(e){for(Ke=e.return;Ke;)switch(Ke.tag){case 5:case 31:case 13:jn=!1;return;case 27:case 3:jn=!0;return;default:Ke=Ke.return}}function zs(e){if(e!==Ke)return!1;if(!zt)return Ay(e),zt=!0,!1;var i=e.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||Am(e.type,e.memoizedProps)),s=!s),s&&ae&&Rr(e),Ay(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ae=Yv(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ae=Yv(e)}else i===27?(i=ae,kr(e.type)?(e=Cm,Cm=null,ae=e):ae=i):ae=Ke?Fn(e.stateNode.nextSibling):null;return!0}function Va(){ae=Ke=null,zt=!1}function sd(){var e=wr;return e!==null&&(dn===null?dn=e:dn.push.apply(dn,e),wr=null),e}function El(e){wr===null?wr=[e]:wr.push(e)}var od=O(null),Na=null,Hi=null;function Ir(e,i,s){ft(od,i._currentValue),i._currentValue=s}function Gi(e){e._currentValue=od.current,rt(od)}function ld(e,i,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===s)break;e=e.return}}function ud(e,i,s,l){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;t:for(;d!==null;){var S=d;d=f;for(var x=0;x<i.length;x++)if(S.context===i[x]){d.lanes|=s,S=d.alternate,S!==null&&(S.lanes|=s),ld(d.return,s,e),l||(_=null);break t}d=S.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(r(341));_.lanes|=s,d=_.alternate,d!==null&&(d.lanes|=s),ld(_,s,e),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===e){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function Ls(e,i,s,l){e=null;for(var f=i,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var S=f.type;En(f.pendingProps.value,_.value)||(e!==null?e.push(S):e=[S])}}else if(f===Lt.current){if(_=f.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(Ql):e=[Ql])}f=f.return}e!==null&&ud(i,e,s,l),i.flags|=262144}function Ic(e){for(e=e.firstContext;e!==null;){if(!En(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Oa(e){Na=e,Hi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Qe(e){return by(Na,e)}function Cc(e,i){return Na===null&&Oa(e),by(e,i)}function by(e,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},Hi===null){if(e===null)throw Error(r(308));Hi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Hi=Hi.next=i;return s}var Ub=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(s,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(s){return s()})}},Bb=a.unstable_scheduleCallback,kb=a.unstable_NormalPriority,Ce={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cd(){return{controller:new Ub,data:new Map,refCount:0}}function Tl(e){e.refCount--,e.refCount===0&&Bb(kb,function(){e.controller.abort()})}var Sl=null,hd=0,Us=0,Bs=null;function jb(e,i){if(Sl===null){var s=Sl=[];hd=0,Us=mm(),Bs={status:"pending",value:void 0,then:function(l){s.push(l)}}}return hd++,i.then(wy,wy),i}function wy(){if(--hd===0&&Sl!==null){Bs!==null&&(Bs.status="fulfilled");var e=Sl;Sl=null,Us=0,Bs=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function qb(e,i){var s=[],l={status:"pending",value:null,reason:null,then:function(f){s.push(f)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<s.length;f++)(0,s[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<s.length;f++)(0,s[f])(void 0)}),l}var Ry=tt.S;tt.S=function(e,i){uv=rn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&jb(e,i),Ry!==null&&Ry(e,i)};var Ma=O(null);function fd(){var e=Ma.current;return e!==null?e:ie.pooledCache}function xc(e,i){i===null?ft(Ma,Ma.current):ft(Ma,i.pool)}function Iy(){var e=fd();return e===null?null:{parent:Ce._currentValue,pool:e}}var ks=Error(r(460)),dd=Error(r(474)),Dc=Error(r(542)),Vc={then:function(){}};function Cy(e){return e=e.status,e==="fulfilled"||e==="rejected"}function xy(e,i,s){switch(s=e[s],s===void 0?e.push(i):s!==i&&(i.then(Jn,Jn),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Vy(e),e;default:if(typeof i.status=="string")i.then(Jn,Jn);else{if(e=ie,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Vy(e),e}throw za=i,ks}}function Pa(e){try{var i=e._init;return i(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(za=s,ks):s}}var za=null;function Dy(){if(za===null)throw Error(r(459));var e=za;return za=null,e}function Vy(e){if(e===ks||e===Dc)throw Error(r(483))}var js=null,Al=0;function Nc(e){var i=Al;return Al+=1,js===null&&(js=[]),xy(js,e,i)}function bl(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Oc(e,i){throw i.$$typeof===b?Error(r(525)):(e=Object.prototype.toString.call(i),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Ny(e){function i(P,V){if(e){var j=P.deletions;j===null?(P.deletions=[V],P.flags|=16):j.push(V)}}function s(P,V){if(!e)return null;for(;V!==null;)i(P,V),V=V.sibling;return null}function l(P){for(var V=new Map;P!==null;)P.key!==null?V.set(P.key,P):V.set(P.index,P),P=P.sibling;return V}function f(P,V){return P=qi(P,V),P.index=0,P.sibling=null,P}function d(P,V,j){return P.index=j,e?(j=P.alternate,j!==null?(j=j.index,j<V?(P.flags|=67108866,V):j):(P.flags|=67108866,V)):(P.flags|=1048576,V)}function _(P){return e&&P.alternate===null&&(P.flags|=67108866),P}function S(P,V,j,nt){return V===null||V.tag!==6?(V=ed(j,P.mode,nt),V.return=P,V):(V=f(V,j),V.return=P,V)}function x(P,V,j,nt){var vt=j.type;return vt===Q?W(P,V,j.props.children,nt,j.key):V!==null&&(V.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===w&&Pa(vt)===V.type)?(V=f(V,j.props),bl(V,j),V.return=P,V):(V=wc(j.type,j.key,j.props,null,P.mode,nt),bl(V,j),V.return=P,V)}function q(P,V,j,nt){return V===null||V.tag!==4||V.stateNode.containerInfo!==j.containerInfo||V.stateNode.implementation!==j.implementation?(V=nd(j,P.mode,nt),V.return=P,V):(V=f(V,j.children||[]),V.return=P,V)}function W(P,V,j,nt,vt){return V===null||V.tag!==7?(V=Da(j,P.mode,nt,vt),V.return=P,V):(V=f(V,j),V.return=P,V)}function it(P,V,j){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=ed(""+V,P.mode,j),V.return=P,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case D:return j=wc(V.type,V.key,V.props,null,P.mode,j),bl(j,V),j.return=P,j;case G:return V=nd(V,P.mode,j),V.return=P,V;case w:return V=Pa(V),it(P,V,j)}if(Pe(V)||L(V))return V=Da(V,P.mode,j,null),V.return=P,V;if(typeof V.then=="function")return it(P,Nc(V),j);if(V.$$typeof===J)return it(P,Cc(P,V),j);Oc(P,V)}return null}function F(P,V,j,nt){var vt=V!==null?V.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return vt!==null?null:S(P,V,""+j,nt);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case D:return j.key===vt?x(P,V,j,nt):null;case G:return j.key===vt?q(P,V,j,nt):null;case w:return j=Pa(j),F(P,V,j,nt)}if(Pe(j)||L(j))return vt!==null?null:W(P,V,j,nt,null);if(typeof j.then=="function")return F(P,V,Nc(j),nt);if(j.$$typeof===J)return F(P,V,Cc(P,j),nt);Oc(P,j)}return null}function $(P,V,j,nt,vt){if(typeof nt=="string"&&nt!==""||typeof nt=="number"||typeof nt=="bigint")return P=P.get(j)||null,S(V,P,""+nt,vt);if(typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case D:return P=P.get(nt.key===null?j:nt.key)||null,x(V,P,nt,vt);case G:return P=P.get(nt.key===null?j:nt.key)||null,q(V,P,nt,vt);case w:return nt=Pa(nt),$(P,V,j,nt,vt)}if(Pe(nt)||L(nt))return P=P.get(j)||null,W(V,P,nt,vt,null);if(typeof nt.then=="function")return $(P,V,j,Nc(nt),vt);if(nt.$$typeof===J)return $(P,V,j,Cc(V,nt),vt);Oc(V,nt)}return null}function gt(P,V,j,nt){for(var vt=null,jt=null,yt=V,xt=V=0,Mt=null;yt!==null&&xt<j.length;xt++){yt.index>xt?(Mt=yt,yt=null):Mt=yt.sibling;var qt=F(P,yt,j[xt],nt);if(qt===null){yt===null&&(yt=Mt);break}e&&yt&&qt.alternate===null&&i(P,yt),V=d(qt,V,xt),jt===null?vt=qt:jt.sibling=qt,jt=qt,yt=Mt}if(xt===j.length)return s(P,yt),zt&&Fi(P,xt),vt;if(yt===null){for(;xt<j.length;xt++)yt=it(P,j[xt],nt),yt!==null&&(V=d(yt,V,xt),jt===null?vt=yt:jt.sibling=yt,jt=yt);return zt&&Fi(P,xt),vt}for(yt=l(yt);xt<j.length;xt++)Mt=$(yt,P,xt,j[xt],nt),Mt!==null&&(e&&Mt.alternate!==null&&yt.delete(Mt.key===null?xt:Mt.key),V=d(Mt,V,xt),jt===null?vt=Mt:jt.sibling=Mt,jt=Mt);return e&&yt.forEach(function(Gr){return i(P,Gr)}),zt&&Fi(P,xt),vt}function St(P,V,j,nt){if(j==null)throw Error(r(151));for(var vt=null,jt=null,yt=V,xt=V=0,Mt=null,qt=j.next();yt!==null&&!qt.done;xt++,qt=j.next()){yt.index>xt?(Mt=yt,yt=null):Mt=yt.sibling;var Gr=F(P,yt,qt.value,nt);if(Gr===null){yt===null&&(yt=Mt);break}e&&yt&&Gr.alternate===null&&i(P,yt),V=d(Gr,V,xt),jt===null?vt=Gr:jt.sibling=Gr,jt=Gr,yt=Mt}if(qt.done)return s(P,yt),zt&&Fi(P,xt),vt;if(yt===null){for(;!qt.done;xt++,qt=j.next())qt=it(P,qt.value,nt),qt!==null&&(V=d(qt,V,xt),jt===null?vt=qt:jt.sibling=qt,jt=qt);return zt&&Fi(P,xt),vt}for(yt=l(yt);!qt.done;xt++,qt=j.next())qt=$(yt,P,xt,qt.value,nt),qt!==null&&(e&&qt.alternate!==null&&yt.delete(qt.key===null?xt:qt.key),V=d(qt,V,xt),jt===null?vt=qt:jt.sibling=qt,jt=qt);return e&&yt.forEach(function(Ww){return i(P,Ww)}),zt&&Fi(P,xt),vt}function ne(P,V,j,nt){if(typeof j=="object"&&j!==null&&j.type===Q&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case D:t:{for(var vt=j.key;V!==null;){if(V.key===vt){if(vt=j.type,vt===Q){if(V.tag===7){s(P,V.sibling),nt=f(V,j.props.children),nt.return=P,P=nt;break t}}else if(V.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===w&&Pa(vt)===V.type){s(P,V.sibling),nt=f(V,j.props),bl(nt,j),nt.return=P,P=nt;break t}s(P,V);break}else i(P,V);V=V.sibling}j.type===Q?(nt=Da(j.props.children,P.mode,nt,j.key),nt.return=P,P=nt):(nt=wc(j.type,j.key,j.props,null,P.mode,nt),bl(nt,j),nt.return=P,P=nt)}return _(P);case G:t:{for(vt=j.key;V!==null;){if(V.key===vt)if(V.tag===4&&V.stateNode.containerInfo===j.containerInfo&&V.stateNode.implementation===j.implementation){s(P,V.sibling),nt=f(V,j.children||[]),nt.return=P,P=nt;break t}else{s(P,V);break}else i(P,V);V=V.sibling}nt=nd(j,P.mode,nt),nt.return=P,P=nt}return _(P);case w:return j=Pa(j),ne(P,V,j,nt)}if(Pe(j))return gt(P,V,j,nt);if(L(j)){if(vt=L(j),typeof vt!="function")throw Error(r(150));return j=vt.call(j),St(P,V,j,nt)}if(typeof j.then=="function")return ne(P,V,Nc(j),nt);if(j.$$typeof===J)return ne(P,V,Cc(P,j),nt);Oc(P,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,V!==null&&V.tag===6?(s(P,V.sibling),nt=f(V,j),nt.return=P,P=nt):(s(P,V),nt=ed(j,P.mode,nt),nt.return=P,P=nt),_(P)):s(P,V)}return function(P,V,j,nt){try{Al=0;var vt=ne(P,V,j,nt);return js=null,vt}catch(yt){if(yt===ks||yt===Dc)throw yt;var jt=Tn(29,yt,null,P.mode);return jt.lanes=nt,jt.return=P,jt}}}var La=Ny(!0),Oy=Ny(!1),Cr=!1;function md(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gd(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function xr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Dr(e,i,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ht&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=bc(e),py(e,null,s),i}return Ac(e,l,i,s),bc(e)}function wl(e,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,s|=l,i.lanes=s,Zo(e,s)}}function pd(e,i){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var f=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var _={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,s=s.next}while(s!==null);d===null?f=d=i:d=d.next=i}else f=d=i;s={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=i:e.next=i,s.lastBaseUpdate=i}var yd=!1;function Rl(){if(yd){var e=Bs;if(e!==null)throw e}}function Il(e,i,s,l){yd=!1;var f=e.updateQueue;Cr=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var x=S,q=x.next;x.next=null,_===null?d=q:_.next=q,_=x;var W=e.alternate;W!==null&&(W=W.updateQueue,S=W.lastBaseUpdate,S!==_&&(S===null?W.firstBaseUpdate=q:S.next=q,W.lastBaseUpdate=x))}if(d!==null){var it=f.baseState;_=0,W=q=x=null,S=d;do{var F=S.lane&-536870913,$=F!==S.lane;if($?(Ot&F)===F:(l&F)===F){F!==0&&F===Us&&(yd=!0),W!==null&&(W=W.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var gt=e,St=S;F=i;var ne=s;switch(St.tag){case 1:if(gt=St.payload,typeof gt=="function"){it=gt.call(ne,it,F);break t}it=gt;break t;case 3:gt.flags=gt.flags&-65537|128;case 0:if(gt=St.payload,F=typeof gt=="function"?gt.call(ne,it,F):gt,F==null)break t;it=T({},it,F);break t;case 2:Cr=!0}}F=S.callback,F!==null&&(e.flags|=64,$&&(e.flags|=8192),$=f.callbacks,$===null?f.callbacks=[F]:$.push(F))}else $={lane:F,tag:S.tag,payload:S.payload,callback:S.callback,next:null},W===null?(q=W=$,x=it):W=W.next=$,_|=F;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;$=S,S=$.next,$.next=null,f.lastBaseUpdate=$,f.shared.pending=null}}while(!0);W===null&&(x=it),f.baseState=x,f.firstBaseUpdate=q,f.lastBaseUpdate=W,d===null&&(f.shared.lanes=0),Pr|=_,e.lanes=_,e.memoizedState=it}}function My(e,i){if(typeof e!="function")throw Error(r(191,e));e.call(i)}function Py(e,i){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)My(s[e],i)}var qs=O(null),Mc=O(0);function zy(e,i){e=tr,ft(Mc,e),ft(qs,i),tr=e|i.baseLanes}function _d(){ft(Mc,tr),ft(qs,qs.current)}function vd(){tr=Mc.current,rt(qs),rt(Mc)}var Sn=O(null),qn=null;function Vr(e){var i=e.alternate;ft(ve,ve.current&1),ft(Sn,e),qn===null&&(i===null||qs.current!==null||i.memoizedState!==null)&&(qn=e)}function Ed(e){ft(ve,ve.current),ft(Sn,e),qn===null&&(qn=e)}function Ly(e){e.tag===22?(ft(ve,ve.current),ft(Sn,e),qn===null&&(qn=e)):Nr()}function Nr(){ft(ve,ve.current),ft(Sn,Sn.current)}function An(e){rt(Sn),qn===e&&(qn=null),rt(ve)}var ve=O(0);function Pc(e){for(var i=e;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Rm(s)||Im(s)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Ki=0,It=null,te=null,xe=null,zc=!1,Fs=!1,Ua=!1,Lc=0,Cl=0,Hs=null,Fb=0;function me(){throw Error(r(321))}function Td(e,i){if(i===null)return!1;for(var s=0;s<i.length&&s<e.length;s++)if(!En(e[s],i[s]))return!1;return!0}function Sd(e,i,s,l,f,d){return Ki=d,It=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,tt.H=e===null||e.memoizedState===null?E_:Ld,Ua=!1,d=s(l,f),Ua=!1,Fs&&(d=By(i,s,l,f)),Uy(e),d}function Uy(e){tt.H=Vl;var i=te!==null&&te.next!==null;if(Ki=0,xe=te=It=null,zc=!1,Cl=0,Hs=null,i)throw Error(r(300));e===null||De||(e=e.dependencies,e!==null&&Ic(e)&&(De=!0))}function By(e,i,s,l){It=e;var f=0;do{if(Fs&&(Hs=null),Cl=0,Fs=!1,25<=f)throw Error(r(301));if(f+=1,xe=te=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}tt.H=T_,d=i(s,l)}while(Fs);return d}function Hb(){var e=tt.H,i=e.useState()[0];return i=typeof i.then=="function"?xl(i):i,e=e.useState()[0],(te!==null?te.memoizedState:null)!==e&&(It.flags|=1024),i}function Ad(){var e=Lc!==0;return Lc=0,e}function bd(e,i,s){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~s}function wd(e){if(zc){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}zc=!1}Ki=0,xe=te=It=null,Fs=!1,Cl=Lc=0,Hs=null}function sn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xe===null?It.memoizedState=xe=e:xe=xe.next=e,xe}function Ee(){if(te===null){var e=It.alternate;e=e!==null?e.memoizedState:null}else e=te.next;var i=xe===null?It.memoizedState:xe.next;if(i!==null)xe=i,te=e;else{if(e===null)throw It.alternate===null?Error(r(467)):Error(r(310));te=e,e={memoizedState:te.memoizedState,baseState:te.baseState,baseQueue:te.baseQueue,queue:te.queue,next:null},xe===null?It.memoizedState=xe=e:xe=xe.next=e}return xe}function Uc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function xl(e){var i=Cl;return Cl+=1,Hs===null&&(Hs=[]),e=xy(Hs,e,i),i=It,(xe===null?i.memoizedState:xe.next)===null&&(i=i.alternate,tt.H=i===null||i.memoizedState===null?E_:Ld),e}function Bc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return xl(e);if(e.$$typeof===J)return Qe(e)}throw Error(r(438,String(e)))}function Rd(e){var i=null,s=It.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var l=It.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=Uc(),It.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(e),l=0;l<e;l++)s[l]=M;return i.index++,s}function Qi(e,i){return typeof i=="function"?i(e):i}function kc(e){var i=Ee();return Id(i,te,e)}function Id(e,i,s){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var f=e.baseQueue,d=l.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}i.baseQueue=f=d,l.pending=null}if(d=e.baseState,f===null)e.memoizedState=d;else{i=f.next;var S=_=null,x=null,q=i,W=!1;do{var it=q.lane&-536870913;if(it!==q.lane?(Ot&it)===it:(Ki&it)===it){var F=q.revertLane;if(F===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),it===Us&&(W=!0);else if((Ki&F)===F){q=q.next,F===Us&&(W=!0);continue}else it={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},x===null?(S=x=it,_=d):x=x.next=it,It.lanes|=F,Pr|=F;it=q.action,Ua&&s(d,it),d=q.hasEagerState?q.eagerState:s(d,it)}else F={lane:it,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},x===null?(S=x=F,_=d):x=x.next=F,It.lanes|=it,Pr|=it;q=q.next}while(q!==null&&q!==i);if(x===null?_=d:x.next=S,!En(d,e.memoizedState)&&(De=!0,W&&(s=Bs,s!==null)))throw s;e.memoizedState=d,e.baseState=_,e.baseQueue=x,l.lastRenderedState=d}return f===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Cd(e){var i=Ee(),s=i.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var l=s.dispatch,f=s.pending,d=i.memoizedState;if(f!==null){s.pending=null;var _=f=f.next;do d=e(d,_.action),_=_.next;while(_!==f);En(d,i.memoizedState)||(De=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),s.lastRenderedState=d}return[d,l]}function ky(e,i,s){var l=It,f=Ee(),d=zt;if(d){if(s===void 0)throw Error(r(407));s=s()}else s=i();var _=!En((te||f).memoizedState,s);if(_&&(f.memoizedState=s,De=!0),f=f.queue,Vd(Fy.bind(null,l,f,e),[e]),f.getSnapshot!==i||_||xe!==null&&xe.memoizedState.tag&1){if(l.flags|=2048,Gs(9,{destroy:void 0},qy.bind(null,l,f,s,i),null),ie===null)throw Error(r(349));d||(Ki&127)!==0||jy(l,i,s)}return s}function jy(e,i,s){e.flags|=16384,e={getSnapshot:i,value:s},i=It.updateQueue,i===null?(i=Uc(),It.updateQueue=i,i.stores=[e]):(s=i.stores,s===null?i.stores=[e]:s.push(e))}function qy(e,i,s,l){i.value=s,i.getSnapshot=l,Hy(i)&&Gy(e)}function Fy(e,i,s){return s(function(){Hy(i)&&Gy(e)})}function Hy(e){var i=e.getSnapshot;e=e.value;try{var s=i();return!En(e,s)}catch{return!0}}function Gy(e){var i=xa(e,2);i!==null&&mn(i,e,2)}function xd(e){var i=sn();if(typeof e=="function"){var s=e;if(e=s(),Ua){Nn(!0);try{s()}finally{Nn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:e},i}function Ky(e,i,s,l){return e.baseState=s,Id(e,te,typeof l=="function"?l:Qi)}function Gb(e,i,s,l,f){if(Fc(e))throw Error(r(485));if(e=i.action,e!==null){var d={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};tt.T!==null?s(!0):d.isTransition=!1,l(d),s=i.pending,s===null?(d.next=i.pending=d,Qy(i,d)):(d.next=s.next,i.pending=s.next=d)}}function Qy(e,i){var s=i.action,l=i.payload,f=e.state;if(i.isTransition){var d=tt.T,_={};tt.T=_;try{var S=s(f,l),x=tt.S;x!==null&&x(_,S),Yy(e,i,S)}catch(q){Dd(e,i,q)}finally{d!==null&&_.types!==null&&(d.types=_.types),tt.T=d}}else try{d=s(f,l),Yy(e,i,d)}catch(q){Dd(e,i,q)}}function Yy(e,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Xy(e,i,l)},function(l){return Dd(e,i,l)}):Xy(e,i,s)}function Xy(e,i,s){i.status="fulfilled",i.value=s,$y(i),e.state=s,i=e.pending,i!==null&&(s=i.next,s===i?e.pending=null:(s=s.next,i.next=s,Qy(e,s)))}function Dd(e,i,s){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=s,$y(i),i=i.next;while(i!==l)}e.action=null}function $y(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Jy(e,i){return i}function Zy(e,i){if(zt){var s=ie.formState;if(s!==null){t:{var l=It;if(zt){if(ae){e:{for(var f=ae,d=jn;f.nodeType!==8;){if(!d){f=null;break e}if(f=Fn(f.nextSibling),f===null){f=null;break e}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){ae=Fn(f.nextSibling),l=f.data==="F!";break t}}Rr(l)}l=!1}l&&(i=s[0])}}return s=sn(),s.memoizedState=s.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jy,lastRenderedState:i},s.queue=l,s=y_.bind(null,It,l),l.dispatch=s,l=xd(!1),d=zd.bind(null,It,!1,l.queue),l=sn(),f={state:i,dispatch:null,action:e,pending:null},l.queue=f,s=Gb.bind(null,It,f,d,s),f.dispatch=s,l.memoizedState=e,[i,s,!1]}function Wy(e){var i=Ee();return t_(i,te,e)}function t_(e,i,s){if(i=Id(e,i,Jy)[0],e=kc(Qi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=xl(i)}catch(_){throw _===ks?Dc:_}else l=i;i=Ee();var f=i.queue,d=f.dispatch;return s!==i.memoizedState&&(It.flags|=2048,Gs(9,{destroy:void 0},Kb.bind(null,f,s),null)),[l,d,e]}function Kb(e,i){e.action=i}function e_(e){var i=Ee(),s=te;if(s!==null)return t_(i,s,e);Ee(),i=i.memoizedState,s=Ee();var l=s.queue.dispatch;return s.memoizedState=e,[i,l,!1]}function Gs(e,i,s,l){return e={tag:e,create:s,deps:l,inst:i,next:null},i=It.updateQueue,i===null&&(i=Uc(),It.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,i.lastEffect=e),e}function n_(){return Ee().memoizedState}function jc(e,i,s,l){var f=sn();It.flags|=e,f.memoizedState=Gs(1|i,{destroy:void 0},s,l===void 0?null:l)}function qc(e,i,s,l){var f=Ee();l=l===void 0?null:l;var d=f.memoizedState.inst;te!==null&&l!==null&&Td(l,te.memoizedState.deps)?f.memoizedState=Gs(i,d,s,l):(It.flags|=e,f.memoizedState=Gs(1|i,d,s,l))}function i_(e,i){jc(8390656,8,e,i)}function Vd(e,i){qc(2048,8,e,i)}function Qb(e){It.flags|=4;var i=It.updateQueue;if(i===null)i=Uc(),It.updateQueue=i,i.events=[e];else{var s=i.events;s===null?i.events=[e]:s.push(e)}}function r_(e){var i=Ee().memoizedState;return Qb({ref:i,nextImpl:e}),function(){if((Ht&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function a_(e,i){return qc(4,2,e,i)}function s_(e,i){return qc(4,4,e,i)}function o_(e,i){if(typeof i=="function"){e=e();var s=i(e);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function l_(e,i,s){s=s!=null?s.concat([e]):null,qc(4,4,o_.bind(null,i,e),s)}function Nd(){}function u_(e,i){var s=Ee();i=i===void 0?null:i;var l=s.memoizedState;return i!==null&&Td(i,l[1])?l[0]:(s.memoizedState=[e,i],e)}function c_(e,i){var s=Ee();i=i===void 0?null:i;var l=s.memoizedState;if(i!==null&&Td(i,l[1]))return l[0];if(l=e(),Ua){Nn(!0);try{e()}finally{Nn(!1)}}return s.memoizedState=[l,i],l}function Od(e,i,s){return s===void 0||(Ki&1073741824)!==0&&(Ot&261930)===0?e.memoizedState=i:(e.memoizedState=s,e=hv(),It.lanes|=e,Pr|=e,s)}function h_(e,i,s,l){return En(s,i)?s:qs.current!==null?(e=Od(e,s,l),En(e,i)||(De=!0),e):(Ki&42)===0||(Ki&1073741824)!==0&&(Ot&261930)===0?(De=!0,e.memoizedState=s):(e=hv(),It.lanes|=e,Pr|=e,i)}function f_(e,i,s,l,f){var d=ht.p;ht.p=d!==0&&8>d?d:8;var _=tt.T,S={};tt.T=S,zd(e,!1,i,s);try{var x=f(),q=tt.S;if(q!==null&&q(S,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var W=qb(x,l);Dl(e,i,W,Rn(e))}else Dl(e,i,l,Rn(e))}catch(it){Dl(e,i,{then:function(){},status:"rejected",reason:it},Rn())}finally{ht.p=d,_!==null&&S.types!==null&&(_.types=S.types),tt.T=_}}function Yb(){}function Md(e,i,s,l){if(e.tag!==5)throw Error(r(476));var f=d_(e).queue;f_(e,f,i,Tt,s===null?Yb:function(){return m_(e),s(l)})}function d_(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:Tt,baseState:Tt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:Tt},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:s},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function m_(e){var i=d_(e);i.next===null&&(i=e.alternate.memoizedState),Dl(e,i.next.queue,{},Rn())}function Pd(){return Qe(Ql)}function g_(){return Ee().memoizedState}function p_(){return Ee().memoizedState}function Xb(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var s=Rn();e=xr(s);var l=Dr(i,e,s);l!==null&&(mn(l,i,s),wl(l,i,s)),i={cache:cd()},e.payload=i;return}i=i.return}}function $b(e,i,s){var l=Rn();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Fc(e)?__(i,s):(s=Wf(e,i,s,l),s!==null&&(mn(s,e,l),v_(s,i,l)))}function y_(e,i,s){var l=Rn();Dl(e,i,s,l)}function Dl(e,i,s,l){var f={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Fc(e))__(i,f);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,S=d(_,s);if(f.hasEagerState=!0,f.eagerState=S,En(S,_))return Ac(e,i,f,0),ie===null&&Sc(),!1}catch{}if(s=Wf(e,i,f,l),s!==null)return mn(s,e,l),v_(s,i,l),!0}return!1}function zd(e,i,s,l){if(l={lane:2,revertLane:mm(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Fc(e)){if(i)throw Error(r(479))}else i=Wf(e,s,l,2),i!==null&&mn(i,e,2)}function Fc(e){var i=e.alternate;return e===It||i!==null&&i===It}function __(e,i){Fs=zc=!0;var s=e.pending;s===null?i.next=i:(i.next=s.next,s.next=i),e.pending=i}function v_(e,i,s){if((s&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,s|=l,i.lanes=s,Zo(e,s)}}var Vl={readContext:Qe,use:Bc,useCallback:me,useContext:me,useEffect:me,useImperativeHandle:me,useLayoutEffect:me,useInsertionEffect:me,useMemo:me,useReducer:me,useRef:me,useState:me,useDebugValue:me,useDeferredValue:me,useTransition:me,useSyncExternalStore:me,useId:me,useHostTransitionStatus:me,useFormState:me,useActionState:me,useOptimistic:me,useMemoCache:me,useCacheRefresh:me};Vl.useEffectEvent=me;var E_={readContext:Qe,use:Bc,useCallback:function(e,i){return sn().memoizedState=[e,i===void 0?null:i],e},useContext:Qe,useEffect:i_,useImperativeHandle:function(e,i,s){s=s!=null?s.concat([e]):null,jc(4194308,4,o_.bind(null,i,e),s)},useLayoutEffect:function(e,i){return jc(4194308,4,e,i)},useInsertionEffect:function(e,i){jc(4,2,e,i)},useMemo:function(e,i){var s=sn();i=i===void 0?null:i;var l=e();if(Ua){Nn(!0);try{e()}finally{Nn(!1)}}return s.memoizedState=[l,i],l},useReducer:function(e,i,s){var l=sn();if(s!==void 0){var f=s(i);if(Ua){Nn(!0);try{s(i)}finally{Nn(!1)}}}else f=i;return l.memoizedState=l.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},l.queue=e,e=e.dispatch=$b.bind(null,It,e),[l.memoizedState,e]},useRef:function(e){var i=sn();return e={current:e},i.memoizedState=e},useState:function(e){e=xd(e);var i=e.queue,s=y_.bind(null,It,i);return i.dispatch=s,[e.memoizedState,s]},useDebugValue:Nd,useDeferredValue:function(e,i){var s=sn();return Od(s,e,i)},useTransition:function(){var e=xd(!1);return e=f_.bind(null,It,e.queue,!0,!1),sn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,s){var l=It,f=sn();if(zt){if(s===void 0)throw Error(r(407));s=s()}else{if(s=i(),ie===null)throw Error(r(349));(Ot&127)!==0||jy(l,i,s)}f.memoizedState=s;var d={value:s,getSnapshot:i};return f.queue=d,i_(Fy.bind(null,l,d,e),[e]),l.flags|=2048,Gs(9,{destroy:void 0},qy.bind(null,l,d,s,i),null),s},useId:function(){var e=sn(),i=ie.identifierPrefix;if(zt){var s=Ii,l=Ri;s=(l&~(1<<32-ye(l)-1)).toString(32)+s,i="_"+i+"R_"+s,s=Lc++,0<s&&(i+="H"+s.toString(32)),i+="_"}else s=Fb++,i="_"+i+"r_"+s.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:Pd,useFormState:Zy,useActionState:Zy,useOptimistic:function(e){var i=sn();i.memoizedState=i.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=zd.bind(null,It,!0,s),s.dispatch=i,[e,i]},useMemoCache:Rd,useCacheRefresh:function(){return sn().memoizedState=Xb.bind(null,It)},useEffectEvent:function(e){var i=sn(),s={impl:e};return i.memoizedState=s,function(){if((Ht&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}},Ld={readContext:Qe,use:Bc,useCallback:u_,useContext:Qe,useEffect:Vd,useImperativeHandle:l_,useInsertionEffect:a_,useLayoutEffect:s_,useMemo:c_,useReducer:kc,useRef:n_,useState:function(){return kc(Qi)},useDebugValue:Nd,useDeferredValue:function(e,i){var s=Ee();return h_(s,te.memoizedState,e,i)},useTransition:function(){var e=kc(Qi)[0],i=Ee().memoizedState;return[typeof e=="boolean"?e:xl(e),i]},useSyncExternalStore:ky,useId:g_,useHostTransitionStatus:Pd,useFormState:Wy,useActionState:Wy,useOptimistic:function(e,i){var s=Ee();return Ky(s,te,e,i)},useMemoCache:Rd,useCacheRefresh:p_};Ld.useEffectEvent=r_;var T_={readContext:Qe,use:Bc,useCallback:u_,useContext:Qe,useEffect:Vd,useImperativeHandle:l_,useInsertionEffect:a_,useLayoutEffect:s_,useMemo:c_,useReducer:Cd,useRef:n_,useState:function(){return Cd(Qi)},useDebugValue:Nd,useDeferredValue:function(e,i){var s=Ee();return te===null?Od(s,e,i):h_(s,te.memoizedState,e,i)},useTransition:function(){var e=Cd(Qi)[0],i=Ee().memoizedState;return[typeof e=="boolean"?e:xl(e),i]},useSyncExternalStore:ky,useId:g_,useHostTransitionStatus:Pd,useFormState:e_,useActionState:e_,useOptimistic:function(e,i){var s=Ee();return te!==null?Ky(s,te,e,i):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:Rd,useCacheRefresh:p_};T_.useEffectEvent=r_;function Ud(e,i,s,l){i=e.memoizedState,s=s(l,i),s=s==null?i:T({},i,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Bd={enqueueSetState:function(e,i,s){e=e._reactInternals;var l=Rn(),f=xr(l);f.payload=i,s!=null&&(f.callback=s),i=Dr(e,f,l),i!==null&&(mn(i,e,l),wl(i,e,l))},enqueueReplaceState:function(e,i,s){e=e._reactInternals;var l=Rn(),f=xr(l);f.tag=1,f.payload=i,s!=null&&(f.callback=s),i=Dr(e,f,l),i!==null&&(mn(i,e,l),wl(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var s=Rn(),l=xr(s);l.tag=2,i!=null&&(l.callback=i),i=Dr(e,l,s),i!==null&&(mn(i,e,s),wl(i,e,s))}};function S_(e,i,s,l,f,d,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!yl(s,l)||!yl(f,d):!0}function A_(e,i,s,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,l),i.state!==e&&Bd.enqueueReplaceState(i,i.state,null)}function Ba(e,i){var s=i;if("ref"in i){s={};for(var l in i)l!=="ref"&&(s[l]=i[l])}if(e=e.defaultProps){s===i&&(s=T({},s));for(var f in e)s[f]===void 0&&(s[f]=e[f])}return s}function b_(e){Tc(e)}function w_(e){console.error(e)}function R_(e){Tc(e)}function Hc(e,i){try{var s=e.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function I_(e,i,s){try{var l=e.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function kd(e,i,s){return s=xr(s),s.tag=3,s.payload={element:null},s.callback=function(){Hc(e,i)},s}function C_(e){return e=xr(e),e.tag=3,e}function x_(e,i,s,l){var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;e.payload=function(){return f(d)},e.callback=function(){I_(i,s,l)}}var _=s.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){I_(i,s,l),typeof f!="function"&&(zr===null?zr=new Set([this]):zr.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function Jb(e,i,s,l,f){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=s.alternate,i!==null&&Ls(i,s,f,!0),s=Sn.current,s!==null){switch(s.tag){case 31:case 13:return qn===null?nh():s.alternate===null&&ge===0&&(ge=3),s.flags&=-257,s.flags|=65536,s.lanes=f,l===Vc?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([l]):i.add(l),hm(e,l,f)),!1;case 22:return s.flags|=65536,l===Vc?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([l]):s.add(l)),hm(e,l,f)),!1}throw Error(r(435,s.tag))}return hm(e,l,f),nh(),!1}if(zt)return i=Sn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==ad&&(e=Error(r(422),{cause:l}),El(Un(e,s)))):(l!==ad&&(i=Error(r(423),{cause:l}),El(Un(i,s))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,l=Un(l,s),f=kd(e.stateNode,l,f),pd(e,f),ge!==4&&(ge=2)),!1;var d=Error(r(520),{cause:l});if(d=Un(d,s),Bl===null?Bl=[d]:Bl.push(d),ge!==4&&(ge=2),i===null)return!0;l=Un(l,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,e=f&-f,s.lanes|=e,e=kd(s.stateNode,l,e),pd(s,e),!1;case 1:if(i=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(zr===null||!zr.has(d))))return s.flags|=65536,f&=-f,s.lanes|=f,f=C_(f),x_(f,e,s,l),pd(s,f),!1}s=s.return}while(s!==null);return!1}var jd=Error(r(461)),De=!1;function Ye(e,i,s,l){i.child=e===null?Oy(i,null,s,l):La(i,e.child,s,l)}function D_(e,i,s,l,f){s=s.render;var d=i.ref;if("ref"in l){var _={};for(var S in l)S!=="ref"&&(_[S]=l[S])}else _=l;return Oa(i),l=Sd(e,i,s,_,d,f),S=Ad(),e!==null&&!De?(bd(e,i,f),Yi(e,i,f)):(zt&&S&&id(i),i.flags|=1,Ye(e,i,l,f),i.child)}function V_(e,i,s,l,f){if(e===null){var d=s.type;return typeof d=="function"&&!td(d)&&d.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=d,N_(e,i,d,l,f)):(e=wc(s.type,null,l,i,i.mode,f),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!Xd(e,f)){var _=d.memoizedProps;if(s=s.compare,s=s!==null?s:yl,s(_,l)&&e.ref===i.ref)return Yi(e,i,f)}return i.flags|=1,e=qi(d,l),e.ref=i.ref,e.return=i,i.child=e}function N_(e,i,s,l,f){if(e!==null){var d=e.memoizedProps;if(yl(d,l)&&e.ref===i.ref)if(De=!1,i.pendingProps=l=d,Xd(e,f))(e.flags&131072)!==0&&(De=!0);else return i.lanes=e.lanes,Yi(e,i,f)}return qd(e,i,s,l,f)}function O_(e,i,s,l){var f=l.children,d=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|s:s,e!==null){for(l=i.child=e.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,i.child=null;return M_(e,i,d,s,l)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&xc(i,d!==null?d.cachePool:null),d!==null?zy(i,d):_d(),Ly(i);else return l=i.lanes=536870912,M_(e,i,d!==null?d.baseLanes|s:s,s,l)}else d!==null?(xc(i,d.cachePool),zy(i,d),Nr(),i.memoizedState=null):(e!==null&&xc(i,null),_d(),Nr());return Ye(e,i,f,s),i.child}function Nl(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function M_(e,i,s,l,f){var d=fd();return d=d===null?null:{parent:Ce._currentValue,pool:d},i.memoizedState={baseLanes:s,cachePool:d},e!==null&&xc(i,null),_d(),Ly(i),e!==null&&Ls(e,i,l,!0),i.childLanes=f,null}function Gc(e,i){return i=Qc({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function P_(e,i,s){return La(i,e.child,null,s),e=Gc(i,i.pendingProps),e.flags|=2,An(i),i.memoizedState=null,e}function Zb(e,i,s){var l=i.pendingProps,f=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(zt){if(l.mode==="hidden")return e=Gc(i,l),i.lanes=536870912,Nl(null,e);if(Ed(i),(e=ae)?(e=Qv(e,jn),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:br!==null?{id:Ri,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},s=_y(e),s.return=i,i.child=s,Ke=i,ae=null)):e=null,e===null)throw Rr(i);return i.lanes=536870912,null}return Gc(i,l)}var d=e.memoizedState;if(d!==null){var _=d.dehydrated;if(Ed(i),f)if(i.flags&256)i.flags&=-257,i=P_(e,i,s);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(r(558));else if(De||Ls(e,i,s,!1),f=(s&e.childLanes)!==0,De||f){if(l=ie,l!==null&&(_=Wo(l,s),_!==0&&_!==d.retryLane))throw d.retryLane=_,xa(e,_),mn(l,e,_),jd;nh(),i=P_(e,i,s)}else e=d.treeContext,ae=Fn(_.nextSibling),Ke=i,zt=!0,wr=null,jn=!1,e!==null&&Ty(i,e),i=Gc(i,l),i.flags|=4096;return i}return e=qi(e.child,{mode:l.mode,children:l.children}),e.ref=i.ref,i.child=e,e.return=i,e}function Kc(e,i){var s=i.ref;if(s===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(e===null||e.ref!==s)&&(i.flags|=4194816)}}function qd(e,i,s,l,f){return Oa(i),s=Sd(e,i,s,l,void 0,f),l=Ad(),e!==null&&!De?(bd(e,i,f),Yi(e,i,f)):(zt&&l&&id(i),i.flags|=1,Ye(e,i,s,f),i.child)}function z_(e,i,s,l,f,d){return Oa(i),i.updateQueue=null,s=By(i,l,s,f),Uy(e),l=Ad(),e!==null&&!De?(bd(e,i,d),Yi(e,i,d)):(zt&&l&&id(i),i.flags|=1,Ye(e,i,s,d),i.child)}function L_(e,i,s,l,f){if(Oa(i),i.stateNode===null){var d=Os,_=s.contextType;typeof _=="object"&&_!==null&&(d=Qe(_)),d=new s(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Bd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},md(i),_=s.contextType,d.context=typeof _=="object"&&_!==null?Qe(_):Os,d.state=i.memoizedState,_=s.getDerivedStateFromProps,typeof _=="function"&&(Ud(i,s,_,l),d.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Bd.enqueueReplaceState(d,d.state,null),Il(i,l,d,f),Rl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var S=i.memoizedProps,x=Ba(s,S);d.props=x;var q=d.context,W=s.contextType;_=Os,typeof W=="object"&&W!==null&&(_=Qe(W));var it=s.getDerivedStateFromProps;W=typeof it=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,W||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||q!==_)&&A_(i,d,l,_),Cr=!1;var F=i.memoizedState;d.state=F,Il(i,l,d,f),Rl(),q=i.memoizedState,S||F!==q||Cr?(typeof it=="function"&&(Ud(i,s,it,l),q=i.memoizedState),(x=Cr||S_(i,s,x,l,F,q,_))?(W||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=q),d.props=l,d.state=q,d.context=_,l=x):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,gd(e,i),_=i.memoizedProps,W=Ba(s,_),d.props=W,it=i.pendingProps,F=d.context,q=s.contextType,x=Os,typeof q=="object"&&q!==null&&(x=Qe(q)),S=s.getDerivedStateFromProps,(q=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==it||F!==x)&&A_(i,d,l,x),Cr=!1,F=i.memoizedState,d.state=F,Il(i,l,d,f),Rl();var $=i.memoizedState;_!==it||F!==$||Cr||e!==null&&e.dependencies!==null&&Ic(e.dependencies)?(typeof S=="function"&&(Ud(i,s,S,l),$=i.memoizedState),(W=Cr||S_(i,s,W,l,F,$,x)||e!==null&&e.dependencies!==null&&Ic(e.dependencies))?(q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,$,x),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,$,x)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&F===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&F===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=$),d.props=l,d.state=$,d.context=x,l=W):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&F===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&F===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,Kc(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=La(i,e.child,null,f),i.child=La(i,null,s,f)):Ye(e,i,s,f),i.memoizedState=d.state,e=i.child):e=Yi(e,i,f),e}function U_(e,i,s,l){return Va(),i.flags|=256,Ye(e,i,s,l),i.child}var Fd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hd(e){return{baseLanes:e,cachePool:Iy()}}function Gd(e,i,s){return e=e!==null?e.childLanes&~s:0,i&&(e|=wn),e}function B_(e,i,s){var l=i.pendingProps,f=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=e!==null&&e.memoizedState===null?!1:(ve.current&2)!==0),_&&(f=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,e===null){if(zt){if(f?Vr(i):Nr(),(e=ae)?(e=Qv(e,jn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:br!==null?{id:Ri,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},s=_y(e),s.return=i,i.child=s,Ke=i,ae=null)):e=null,e===null)throw Rr(i);return Im(e)?i.lanes=32:i.lanes=536870912,null}var S=l.children;return l=l.fallback,f?(Nr(),f=i.mode,S=Qc({mode:"hidden",children:S},f),l=Da(l,f,s,null),S.return=i,l.return=i,S.sibling=l,i.child=S,l=i.child,l.memoizedState=Hd(s),l.childLanes=Gd(e,_,s),i.memoizedState=Fd,Nl(null,l)):(Vr(i),Kd(i,S))}var x=e.memoizedState;if(x!==null&&(S=x.dehydrated,S!==null)){if(d)i.flags&256?(Vr(i),i.flags&=-257,i=Qd(e,i,s)):i.memoizedState!==null?(Nr(),i.child=e.child,i.flags|=128,i=null):(Nr(),S=l.fallback,f=i.mode,l=Qc({mode:"visible",children:l.children},f),S=Da(S,f,s,null),S.flags|=2,l.return=i,S.return=i,l.sibling=S,i.child=l,La(i,e.child,null,s),l=i.child,l.memoizedState=Hd(s),l.childLanes=Gd(e,_,s),i.memoizedState=Fd,i=Nl(null,l));else if(Vr(i),Im(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var q=_.dgst;_=q,l=Error(r(419)),l.stack="",l.digest=_,El({value:l,source:null,stack:null}),i=Qd(e,i,s)}else if(De||Ls(e,i,s,!1),_=(s&e.childLanes)!==0,De||_){if(_=ie,_!==null&&(l=Wo(_,s),l!==0&&l!==x.retryLane))throw x.retryLane=l,xa(e,l),mn(_,e,l),jd;Rm(S)||nh(),i=Qd(e,i,s)}else Rm(S)?(i.flags|=192,i.child=e.child,i=null):(e=x.treeContext,ae=Fn(S.nextSibling),Ke=i,zt=!0,wr=null,jn=!1,e!==null&&Ty(i,e),i=Kd(i,l.children),i.flags|=4096);return i}return f?(Nr(),S=l.fallback,f=i.mode,x=e.child,q=x.sibling,l=qi(x,{mode:"hidden",children:l.children}),l.subtreeFlags=x.subtreeFlags&65011712,q!==null?S=qi(q,S):(S=Da(S,f,s,null),S.flags|=2),S.return=i,l.return=i,l.sibling=S,i.child=l,Nl(null,l),l=i.child,S=e.child.memoizedState,S===null?S=Hd(s):(f=S.cachePool,f!==null?(x=Ce._currentValue,f=f.parent!==x?{parent:x,pool:x}:f):f=Iy(),S={baseLanes:S.baseLanes|s,cachePool:f}),l.memoizedState=S,l.childLanes=Gd(e,_,s),i.memoizedState=Fd,Nl(e.child,l)):(Vr(i),s=e.child,e=s.sibling,s=qi(s,{mode:"visible",children:l.children}),s.return=i,s.sibling=null,e!==null&&(_=i.deletions,_===null?(i.deletions=[e],i.flags|=16):_.push(e)),i.child=s,i.memoizedState=null,s)}function Kd(e,i){return i=Qc({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Qc(e,i){return e=Tn(22,e,null,i),e.lanes=0,e}function Qd(e,i,s){return La(i,e.child,null,s),e=Kd(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function k_(e,i,s){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),ld(e.return,i,s)}function Yd(e,i,s,l,f,d){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:f,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=s,_.tailMode=f,_.treeForkCount=d)}function j_(e,i,s){var l=i.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var _=ve.current,S=(_&2)!==0;if(S?(_=_&1|2,i.flags|=128):_&=1,ft(ve,_),Ye(e,i,l,s),l=zt?vl:0,!S&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&k_(e,s,i);else if(e.tag===19)k_(e,s,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(s=i.child,f=null;s!==null;)e=s.alternate,e!==null&&Pc(e)===null&&(f=s),s=s.sibling;s=f,s===null?(f=i.child,i.child=null):(f=s.sibling,s.sibling=null),Yd(i,!1,f,s,d,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,f=i.child,i.child=null;f!==null;){if(e=f.alternate,e!==null&&Pc(e)===null){i.child=f;break}e=f.sibling,f.sibling=s,s=f,f=e}Yd(i,!0,s,null,d,l);break;case"together":Yd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Yi(e,i,s){if(e!==null&&(i.dependencies=e.dependencies),Pr|=i.lanes,(s&i.childLanes)===0)if(e!==null){if(Ls(e,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(r(153));if(i.child!==null){for(e=i.child,s=qi(e,e.pendingProps),i.child=s,s.return=i;e.sibling!==null;)e=e.sibling,s=s.sibling=qi(e,e.pendingProps),s.return=i;s.sibling=null}return i.child}function Xd(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Ic(e)))}function Wb(e,i,s){switch(i.tag){case 3:ze(i,i.stateNode.containerInfo),Ir(i,Ce,e.memoizedState.cache),Va();break;case 27:case 5:ha(i);break;case 4:ze(i,i.stateNode.containerInfo);break;case 10:Ir(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Ed(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Vr(i),i.flags|=128,null):(s&i.child.childLanes)!==0?B_(e,i,s):(Vr(i),e=Yi(e,i,s),e!==null?e.sibling:null);Vr(i);break;case 19:var f=(e.flags&128)!==0;if(l=(s&i.childLanes)!==0,l||(Ls(e,i,s,!1),l=(s&i.childLanes)!==0),f){if(l)return j_(e,i,s);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ft(ve,ve.current),l)break;return null;case 22:return i.lanes=0,O_(e,i,s,i.pendingProps);case 24:Ir(i,Ce,e.memoizedState.cache)}return Yi(e,i,s)}function q_(e,i,s){if(e!==null)if(e.memoizedProps!==i.pendingProps)De=!0;else{if(!Xd(e,s)&&(i.flags&128)===0)return De=!1,Wb(e,i,s);De=(e.flags&131072)!==0}else De=!1,zt&&(i.flags&1048576)!==0&&Ey(i,vl,i.index);switch(i.lanes=0,i.tag){case 16:t:{var l=i.pendingProps;if(e=Pa(i.elementType),i.type=e,typeof e=="function")td(e)?(l=Ba(e,l),i.tag=1,i=L_(null,i,e,l,s)):(i.tag=0,i=qd(null,i,e,l,s));else{if(e!=null){var f=e.$$typeof;if(f===et){i.tag=11,i=D_(null,i,e,l,s);break t}else if(f===R){i.tag=14,i=V_(null,i,e,l,s);break t}}throw i=oe(e)||e,Error(r(306,i,""))}}return i;case 0:return qd(e,i,i.type,i.pendingProps,s);case 1:return l=i.type,f=Ba(l,i.pendingProps),L_(e,i,l,f,s);case 3:t:{if(ze(i,i.stateNode.containerInfo),e===null)throw Error(r(387));l=i.pendingProps;var d=i.memoizedState;f=d.element,gd(e,i),Il(i,l,null,s);var _=i.memoizedState;if(l=_.cache,Ir(i,Ce,l),l!==d.cache&&ud(i,[Ce],s,!0),Rl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=U_(e,i,l,s);break t}else if(l!==f){f=Un(Error(r(424)),i),El(f),i=U_(e,i,l,s);break t}else for(e=i.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ae=Fn(e.firstChild),Ke=i,zt=!0,wr=null,jn=!0,s=Oy(i,null,l,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Va(),l===f){i=Yi(e,i,s);break t}Ye(e,i,l,s)}i=i.child}return i;case 26:return Kc(e,i),e===null?(s=Wv(i.type,null,i.pendingProps,null))?i.memoizedState=s:zt||(s=i.type,e=i.pendingProps,l=uh(Ct.current).createElement(s),l[we]=i,l[ke]=e,Xe(l,s,e),Re(l),i.stateNode=l):i.memoizedState=Wv(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return ha(i),e===null&&zt&&(l=i.stateNode=$v(i.type,i.pendingProps,Ct.current),Ke=i,jn=!0,f=ae,kr(i.type)?(Cm=f,ae=Fn(l.firstChild)):ae=f),Ye(e,i,i.pendingProps.children,s),Kc(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&zt&&((f=l=ae)&&(l=xw(l,i.type,i.pendingProps,jn),l!==null?(i.stateNode=l,Ke=i,ae=Fn(l.firstChild),jn=!1,f=!0):f=!1),f||Rr(i)),ha(i),f=i.type,d=i.pendingProps,_=e!==null?e.memoizedProps:null,l=d.children,Am(f,d)?l=null:_!==null&&Am(f,_)&&(i.flags|=32),i.memoizedState!==null&&(f=Sd(e,i,Hb,null,null,s),Ql._currentValue=f),Kc(e,i),Ye(e,i,l,s),i.child;case 6:return e===null&&zt&&((e=s=ae)&&(s=Dw(s,i.pendingProps,jn),s!==null?(i.stateNode=s,Ke=i,ae=null,e=!0):e=!1),e||Rr(i)),null;case 13:return B_(e,i,s);case 4:return ze(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=La(i,null,l,s):Ye(e,i,l,s),i.child;case 11:return D_(e,i,i.type,i.pendingProps,s);case 7:return Ye(e,i,i.pendingProps,s),i.child;case 8:return Ye(e,i,i.pendingProps.children,s),i.child;case 12:return Ye(e,i,i.pendingProps.children,s),i.child;case 10:return l=i.pendingProps,Ir(i,i.type,l.value),Ye(e,i,l.children,s),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,Oa(i),f=Qe(f),l=l(f),i.flags|=1,Ye(e,i,l,s),i.child;case 14:return V_(e,i,i.type,i.pendingProps,s);case 15:return N_(e,i,i.type,i.pendingProps,s);case 19:return j_(e,i,s);case 31:return Zb(e,i,s);case 22:return O_(e,i,s,i.pendingProps);case 24:return Oa(i),l=Qe(Ce),e===null?(f=fd(),f===null&&(f=ie,d=cd(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=s),f=d),i.memoizedState={parent:l,cache:f},md(i),Ir(i,Ce,f)):((e.lanes&s)!==0&&(gd(e,i),Il(i,null,null,s),Rl()),f=e.memoizedState,d=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Ir(i,Ce,l)):(l=d.cache,Ir(i,Ce,l),l!==f.cache&&ud(i,[Ce],s,!0))),Ye(e,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function Xi(e){e.flags|=4}function $d(e,i,s,l,f){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(gv())e.flags|=8192;else throw za=Vc,dd}else e.flags&=-16777217}function F_(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!rE(i))if(gv())e.flags|=8192;else throw za=Vc,dd}function Yc(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?tc():536870912,e.lanes|=i,Xs|=i)}function Ol(e,i){if(!zt)switch(e.tailMode){case"hidden":i=e.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function se(e){var i=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(i)for(var f=e.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=l,e.childLanes=s,i}function tw(e,i,s){var l=i.pendingProps;switch(rd(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return se(i),null;case 1:return se(i),null;case 3:return s=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Gi(Ce),le(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(zs(i)?Xi(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,sd())),se(i),null;case 26:var f=i.type,d=i.memoizedState;return e===null?(Xi(i),d!==null?(se(i),F_(i,d)):(se(i),$d(i,f,null,l,s))):d?d!==e.memoizedState?(Xi(i),se(i),F_(i,d)):(se(i),i.flags&=-16777217):(e=e.memoizedProps,e!==l&&Xi(i),se(i),$d(i,f,e,l,s)),null;case 27:if(ms(i),s=Ct.current,f=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Xi(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return se(i),null}e=dt.current,zs(i)?Sy(i):(e=$v(f,l,s),i.stateNode=e,Xi(i))}return se(i),null;case 5:if(ms(i),f=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Xi(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return se(i),null}if(d=dt.current,zs(i))Sy(i);else{var _=uh(Ct.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(f,{is:l.is}):_.createElement(f)}}d[we]=i,d[ke]=l;t:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break t;for(;_.sibling===null;){if(_.return===null||_.return===i)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;t:switch(Xe(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Xi(i)}}return se(i),$d(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,s),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&Xi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(r(166));if(e=Ct.current,zs(i)){if(e=i.stateNode,s=i.memoizedProps,l=null,f=Ke,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}e[we]=i,e=!!(e.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||Bv(e.nodeValue,s)),e||Rr(i,!0)}else e=uh(e).createTextNode(l),e[we]=i,i.stateNode=e}return se(i),null;case 31:if(s=i.memoizedState,e===null||e.memoizedState!==null){if(l=zs(i),s!==null){if(e===null){if(!l)throw Error(r(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[we]=i}else Va(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;se(i),e=!1}else s=sd(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return i.flags&256?(An(i),i):(An(i),null);if((i.flags&128)!==0)throw Error(r(558))}return se(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=zs(i),l!==null&&l.dehydrated!==null){if(e===null){if(!f)throw Error(r(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[we]=i}else Va(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;se(i),f=!1}else f=sd(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(An(i),i):(An(i),null)}return An(i),(i.flags&128)!==0?(i.lanes=s,i):(s=l!==null,e=e!==null&&e.memoizedState!==null,s&&(l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),s!==e&&s&&(i.child.flags|=8192),Yc(i,i.updateQueue),se(i),null);case 4:return le(),e===null&&_m(i.stateNode.containerInfo),se(i),null;case 10:return Gi(i.type),se(i),null;case 19:if(rt(ve),l=i.memoizedState,l===null)return se(i),null;if(f=(i.flags&128)!==0,d=l.rendering,d===null)if(f)Ol(l,!1);else{if(ge!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=Pc(e),d!==null){for(i.flags|=128,Ol(l,!1),e=d.updateQueue,i.updateQueue=e,Yc(i,e),i.subtreeFlags=0,e=s,s=i.child;s!==null;)yy(s,e),s=s.sibling;return ft(ve,ve.current&1|2),zt&&Fi(i,l.treeForkCount),i.child}e=e.sibling}l.tail!==null&&rn()>Wc&&(i.flags|=128,f=!0,Ol(l,!1),i.lanes=4194304)}else{if(!f)if(e=Pc(d),e!==null){if(i.flags|=128,f=!0,e=e.updateQueue,i.updateQueue=e,Yc(i,e),Ol(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!zt)return se(i),null}else 2*rn()-l.renderingStartTime>Wc&&s!==536870912&&(i.flags|=128,f=!0,Ol(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(e=l.last,e!==null?e.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=rn(),e.sibling=null,s=ve.current,ft(ve,f?s&1|2:s&1),zt&&Fi(i,l.treeForkCount),e):(se(i),null);case 22:case 23:return An(i),vd(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(s&536870912)!==0&&(i.flags&128)===0&&(se(i),i.subtreeFlags&6&&(i.flags|=8192)):se(i),s=i.updateQueue,s!==null&&Yc(i,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==s&&(i.flags|=2048),e!==null&&rt(Ma),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),Gi(Ce),se(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function ew(e,i){switch(rd(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Gi(Ce),le(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return ms(i),null;case 31:if(i.memoizedState!==null){if(An(i),i.alternate===null)throw Error(r(340));Va()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(An(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Va()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return rt(ve),null;case 4:return le(),null;case 10:return Gi(i.type),null;case 22:case 23:return An(i),vd(),e!==null&&rt(Ma),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Gi(Ce),null;case 25:return null;default:return null}}function H_(e,i){switch(rd(i),i.tag){case 3:Gi(Ce),le();break;case 26:case 27:case 5:ms(i);break;case 4:le();break;case 31:i.memoizedState!==null&&An(i);break;case 13:An(i);break;case 19:rt(ve);break;case 10:Gi(i.type);break;case 22:case 23:An(i),vd(),e!==null&&rt(Ma);break;case 24:Gi(Ce)}}function Ml(e,i){try{var s=i.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var f=l.next;s=f;do{if((s.tag&e)===e){l=void 0;var d=s.create,_=s.inst;l=d(),_.destroy=l}s=s.next}while(s!==f)}}catch(S){Xt(i,i.return,S)}}function Or(e,i,s){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&e)===e){var _=l.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,f=i;var x=s,q=S;try{q()}catch(W){Xt(f,x,W)}}}l=l.next}while(l!==d)}}catch(W){Xt(i,i.return,W)}}function G_(e){var i=e.updateQueue;if(i!==null){var s=e.stateNode;try{Py(i,s)}catch(l){Xt(e,e.return,l)}}}function K_(e,i,s){s.props=Ba(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(l){Xt(e,i,l)}}function Pl(e,i){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof s=="function"?e.refCleanup=s(l):s.current=l}}catch(f){Xt(e,i,f)}}function Ci(e,i){var s=e.ref,l=e.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(f){Xt(e,i,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(f){Xt(e,i,f)}else s.current=null}function Q_(e){var i=e.type,s=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(f){Xt(e,e.return,f)}}function Jd(e,i,s){try{var l=e.stateNode;Aw(l,e.type,s,i),l[ke]=i}catch(f){Xt(e,e.return,f)}}function Y_(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&kr(e.type)||e.tag===4}function Zd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Y_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&kr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Wd(e,i,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(e),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=Jn));else if(l!==4&&(l===27&&kr(e.type)&&(s=e.stateNode,i=null),e=e.child,e!==null))for(Wd(e,i,s),e=e.sibling;e!==null;)Wd(e,i,s),e=e.sibling}function Xc(e,i,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?s.insertBefore(e,i):s.appendChild(e);else if(l!==4&&(l===27&&kr(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Xc(e,i,s),e=e.sibling;e!==null;)Xc(e,i,s),e=e.sibling}function X_(e){var i=e.stateNode,s=e.memoizedProps;try{for(var l=e.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);Xe(i,l,s),i[we]=e,i[ke]=s}catch(d){Xt(e,e.return,d)}}var $i=!1,Ve=!1,tm=!1,$_=typeof WeakSet=="function"?WeakSet:Set,qe=null;function nw(e,i){if(e=e.containerInfo,Tm=ph,e=ly(e),Qf(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break t}var _=0,S=-1,x=-1,q=0,W=0,it=e,F=null;e:for(;;){for(var $;it!==s||f!==0&&it.nodeType!==3||(S=_+f),it!==d||l!==0&&it.nodeType!==3||(x=_+l),it.nodeType===3&&(_+=it.nodeValue.length),($=it.firstChild)!==null;)F=it,it=$;for(;;){if(it===e)break e;if(F===s&&++q===f&&(S=_),F===d&&++W===l&&(x=_),($=it.nextSibling)!==null)break;it=F,F=it.parentNode}it=$}s=S===-1||x===-1?null:{start:S,end:x}}else s=null}s=s||{start:0,end:0}}else s=null;for(Sm={focusedElem:e,selectionRange:s},ph=!1,qe=i;qe!==null;)if(i=qe,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,qe=e;else for(;qe!==null;){switch(i=qe,d=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)f=e[s],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,s=i,f=d.memoizedProps,d=d.memoizedState,l=s.stateNode;try{var gt=Ba(s.type,f);e=l.getSnapshotBeforeUpdate(gt,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(St){Xt(s,s.return,St)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,s=e.nodeType,s===9)wm(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":wm(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=i.sibling,e!==null){e.return=i.return,qe=e;break}qe=i.return}}function J_(e,i,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Zi(e,s),l&4&&Ml(5,s);break;case 1:if(Zi(e,s),l&4)if(e=s.stateNode,i===null)try{e.componentDidMount()}catch(_){Xt(s,s.return,_)}else{var f=Ba(s.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(f,i,e.__reactInternalSnapshotBeforeUpdate)}catch(_){Xt(s,s.return,_)}}l&64&&G_(s),l&512&&Pl(s,s.return);break;case 3:if(Zi(e,s),l&64&&(e=s.updateQueue,e!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{Py(e,i)}catch(_){Xt(s,s.return,_)}}break;case 27:i===null&&l&4&&X_(s);case 26:case 5:Zi(e,s),i===null&&l&4&&Q_(s),l&512&&Pl(s,s.return);break;case 12:Zi(e,s);break;case 31:Zi(e,s),l&4&&tv(e,s);break;case 13:Zi(e,s),l&4&&ev(e,s),l&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=hw.bind(null,s),Vw(e,s))));break;case 22:if(l=s.memoizedState!==null||$i,!l){i=i!==null&&i.memoizedState!==null||Ve,f=$i;var d=Ve;$i=l,(Ve=i)&&!d?Wi(e,s,(s.subtreeFlags&8772)!==0):Zi(e,s),$i=f,Ve=d}break;case 30:break;default:Zi(e,s)}}function Z_(e){var i=e.alternate;i!==null&&(e.alternate=null,Z_(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&vs(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ce=null,cn=!1;function Ji(e,i,s){for(s=s.child;s!==null;)W_(e,i,s),s=s.sibling}function W_(e,i,s){if(He&&typeof He.onCommitFiberUnmount=="function")try{He.onCommitFiberUnmount(Qn,s)}catch{}switch(s.tag){case 26:Ve||Ci(s,i),Ji(e,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Ve||Ci(s,i);var l=ce,f=cn;kr(s.type)&&(ce=s.stateNode,cn=!1),Ji(e,i,s),Hl(s.stateNode),ce=l,cn=f;break;case 5:Ve||Ci(s,i);case 6:if(l=ce,f=cn,ce=null,Ji(e,i,s),ce=l,cn=f,ce!==null)if(cn)try{(ce.nodeType===9?ce.body:ce.nodeName==="HTML"?ce.ownerDocument.body:ce).removeChild(s.stateNode)}catch(d){Xt(s,i,d)}else try{ce.removeChild(s.stateNode)}catch(d){Xt(s,i,d)}break;case 18:ce!==null&&(cn?(e=ce,Gv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),io(e)):Gv(ce,s.stateNode));break;case 4:l=ce,f=cn,ce=s.stateNode.containerInfo,cn=!0,Ji(e,i,s),ce=l,cn=f;break;case 0:case 11:case 14:case 15:Or(2,s,i),Ve||Or(4,s,i),Ji(e,i,s);break;case 1:Ve||(Ci(s,i),l=s.stateNode,typeof l.componentWillUnmount=="function"&&K_(s,i,l)),Ji(e,i,s);break;case 21:Ji(e,i,s);break;case 22:Ve=(l=Ve)||s.memoizedState!==null,Ji(e,i,s),Ve=l;break;default:Ji(e,i,s)}}function tv(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{io(e)}catch(s){Xt(i,i.return,s)}}}function ev(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{io(e)}catch(s){Xt(i,i.return,s)}}function iw(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new $_),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new $_),i;default:throw Error(r(435,e.tag))}}function $c(e,i){var s=iw(e);i.forEach(function(l){if(!s.has(l)){s.add(l);var f=fw.bind(null,e,l);l.then(f,f)}})}function hn(e,i){var s=i.deletions;if(s!==null)for(var l=0;l<s.length;l++){var f=s[l],d=e,_=i,S=_;t:for(;S!==null;){switch(S.tag){case 27:if(kr(S.type)){ce=S.stateNode,cn=!1;break t}break;case 5:ce=S.stateNode,cn=!1;break t;case 3:case 4:ce=S.stateNode.containerInfo,cn=!0;break t}S=S.return}if(ce===null)throw Error(r(160));W_(d,_,f),ce=null,cn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)nv(i,e),i=i.sibling}var ii=null;function nv(e,i){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:hn(i,e),fn(e),l&4&&(Or(3,e,e.return),Ml(3,e),Or(5,e,e.return));break;case 1:hn(i,e),fn(e),l&512&&(Ve||s===null||Ci(s,s.return)),l&64&&$i&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var f=ii;if(hn(i,e),fn(e),l&512&&(Ve||s===null||Ci(s,s.return)),l&4){var d=s!==null?s.memoizedState:null;if(l=e.memoizedState,s===null)if(l===null)if(e.stateNode===null){t:{l=e.type,s=e.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[mi]||d[we]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Xe(d,l,s),d[we]=e,Re(d),l=d;break t;case"link":var _=nE("link","href",f).get(l+(s.href||""));if(_){for(var S=0;S<_.length;S++)if(d=_[S],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){_.splice(S,1);break e}}d=f.createElement(l),Xe(d,l,s),f.head.appendChild(d);break;case"meta":if(_=nE("meta","content",f).get(l+(s.content||""))){for(S=0;S<_.length;S++)if(d=_[S],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){_.splice(S,1);break e}}d=f.createElement(l),Xe(d,l,s),f.head.appendChild(d);break;default:throw Error(r(468,l))}d[we]=e,Re(d),l=d}e.stateNode=l}else iE(f,e.type,e.stateNode);else e.stateNode=eE(f,l,e.memoizedProps);else d!==l?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,l===null?iE(f,e.type,e.stateNode):eE(f,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Jd(e,e.memoizedProps,s.memoizedProps)}break;case 27:hn(i,e),fn(e),l&512&&(Ve||s===null||Ci(s,s.return)),s!==null&&l&4&&Jd(e,e.memoizedProps,s.memoizedProps);break;case 5:if(hn(i,e),fn(e),l&512&&(Ve||s===null||Ci(s,s.return)),e.flags&32){f=e.stateNode;try{un(f,"")}catch(gt){Xt(e,e.return,gt)}}l&4&&e.stateNode!=null&&(f=e.memoizedProps,Jd(e,f,s!==null?s.memoizedProps:f)),l&1024&&(tm=!0);break;case 6:if(hn(i,e),fn(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,s=e.stateNode;try{s.nodeValue=l}catch(gt){Xt(e,e.return,gt)}}break;case 3:if(fh=null,f=ii,ii=ch(i.containerInfo),hn(i,e),ii=f,fn(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{io(i.containerInfo)}catch(gt){Xt(e,e.return,gt)}tm&&(tm=!1,iv(e));break;case 4:l=ii,ii=ch(e.stateNode.containerInfo),hn(i,e),fn(e),ii=l;break;case 12:hn(i,e),fn(e);break;case 31:hn(i,e),fn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,$c(e,l)));break;case 13:hn(i,e),fn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Zc=rn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,$c(e,l)));break;case 22:f=e.memoizedState!==null;var x=s!==null&&s.memoizedState!==null,q=$i,W=Ve;if($i=q||f,Ve=W||x,hn(i,e),Ve=W,$i=q,fn(e),l&8192)t:for(i=e.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(s===null||x||$i||Ve||ka(e)),s=null,i=e;;){if(i.tag===5||i.tag===26){if(s===null){x=s=i;try{if(d=x.stateNode,f)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=x.stateNode;var it=x.memoizedProps.style,F=it!=null&&it.hasOwnProperty("display")?it.display:null;S.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(gt){Xt(x,x.return,gt)}}}else if(i.tag===6){if(s===null){x=i;try{x.stateNode.nodeValue=f?"":x.memoizedProps}catch(gt){Xt(x,x.return,gt)}}}else if(i.tag===18){if(s===null){x=i;try{var $=x.stateNode;f?Kv($,!0):Kv(x.stateNode,!1)}catch(gt){Xt(x,x.return,gt)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,$c(e,s))));break;case 19:hn(i,e),fn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,$c(e,l)));break;case 30:break;case 21:break;default:hn(i,e),fn(e)}}function fn(e){var i=e.flags;if(i&2){try{for(var s,l=e.return;l!==null;){if(Y_(l)){s=l;break}l=l.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var f=s.stateNode,d=Zd(e);Xc(e,d,f);break;case 5:var _=s.stateNode;s.flags&32&&(un(_,""),s.flags&=-33);var S=Zd(e);Xc(e,S,_);break;case 3:case 4:var x=s.stateNode.containerInfo,q=Zd(e);Wd(e,q,x);break;default:throw Error(r(161))}}catch(W){Xt(e,e.return,W)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function iv(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;iv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Zi(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)J_(e,i.alternate,i),i=i.sibling}function ka(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Or(4,i,i.return),ka(i);break;case 1:Ci(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&K_(i,i.return,s),ka(i);break;case 27:Hl(i.stateNode);case 26:case 5:Ci(i,i.return),ka(i);break;case 22:i.memoizedState===null&&ka(i);break;case 30:ka(i);break;default:ka(i)}e=e.sibling}}function Wi(e,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=e,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:Wi(f,d,s),Ml(4,d);break;case 1:if(Wi(f,d,s),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(q){Xt(l,l.return,q)}if(l=d,f=l.updateQueue,f!==null){var S=l.stateNode;try{var x=f.shared.hiddenCallbacks;if(x!==null)for(f.shared.hiddenCallbacks=null,f=0;f<x.length;f++)My(x[f],S)}catch(q){Xt(l,l.return,q)}}s&&_&64&&G_(d),Pl(d,d.return);break;case 27:X_(d);case 26:case 5:Wi(f,d,s),s&&l===null&&_&4&&Q_(d),Pl(d,d.return);break;case 12:Wi(f,d,s);break;case 31:Wi(f,d,s),s&&_&4&&tv(f,d);break;case 13:Wi(f,d,s),s&&_&4&&ev(f,d);break;case 22:d.memoizedState===null&&Wi(f,d,s),Pl(d,d.return);break;case 30:break;default:Wi(f,d,s)}i=i.sibling}}function em(e,i){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Tl(s))}function nm(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Tl(e))}function ri(e,i,s,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)rv(e,i,s,l),i=i.sibling}function rv(e,i,s,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:ri(e,i,s,l),f&2048&&Ml(9,i);break;case 1:ri(e,i,s,l);break;case 3:ri(e,i,s,l),f&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Tl(e)));break;case 12:if(f&2048){ri(e,i,s,l),e=i.stateNode;try{var d=i.memoizedProps,_=d.id,S=d.onPostCommit;typeof S=="function"&&S(_,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(x){Xt(i,i.return,x)}}else ri(e,i,s,l);break;case 31:ri(e,i,s,l);break;case 13:ri(e,i,s,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?ri(e,i,s,l):zl(e,i):d._visibility&2?ri(e,i,s,l):(d._visibility|=2,Ks(e,i,s,l,(i.subtreeFlags&10256)!==0||!1)),f&2048&&em(_,i);break;case 24:ri(e,i,s,l),f&2048&&nm(i.alternate,i);break;default:ri(e,i,s,l)}}function Ks(e,i,s,l,f){for(f=f&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=e,_=i,S=s,x=l,q=_.flags;switch(_.tag){case 0:case 11:case 15:Ks(d,_,S,x,f),Ml(8,_);break;case 23:break;case 22:var W=_.stateNode;_.memoizedState!==null?W._visibility&2?Ks(d,_,S,x,f):zl(d,_):(W._visibility|=2,Ks(d,_,S,x,f)),f&&q&2048&&em(_.alternate,_);break;case 24:Ks(d,_,S,x,f),f&&q&2048&&nm(_.alternate,_);break;default:Ks(d,_,S,x,f)}i=i.sibling}}function zl(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=e,l=i,f=l.flags;switch(l.tag){case 22:zl(s,l),f&2048&&em(l.alternate,l);break;case 24:zl(s,l),f&2048&&nm(l.alternate,l);break;default:zl(s,l)}i=i.sibling}}var Ll=8192;function Qs(e,i,s){if(e.subtreeFlags&Ll)for(e=e.child;e!==null;)av(e,i,s),e=e.sibling}function av(e,i,s){switch(e.tag){case 26:Qs(e,i,s),e.flags&Ll&&e.memoizedState!==null&&Fw(s,ii,e.memoizedState,e.memoizedProps);break;case 5:Qs(e,i,s);break;case 3:case 4:var l=ii;ii=ch(e.stateNode.containerInfo),Qs(e,i,s),ii=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Ll,Ll=16777216,Qs(e,i,s),Ll=l):Qs(e,i,s));break;default:Qs(e,i,s)}}function sv(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function Ul(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];qe=l,lv(l,e)}sv(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ov(e),e=e.sibling}function ov(e){switch(e.tag){case 0:case 11:case 15:Ul(e),e.flags&2048&&Or(9,e,e.return);break;case 3:Ul(e);break;case 12:Ul(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Jc(e)):Ul(e);break;default:Ul(e)}}function Jc(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];qe=l,lv(l,e)}sv(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Or(8,i,i.return),Jc(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,Jc(i));break;default:Jc(i)}e=e.sibling}}function lv(e,i){for(;qe!==null;){var s=qe;switch(s.tag){case 0:case 11:case 15:Or(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Tl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,qe=l;else t:for(s=e;qe!==null;){l=qe;var f=l.sibling,d=l.return;if(Z_(l),l===s){qe=null;break t}if(f!==null){f.return=d,qe=f;break t}qe=d}}}var rw={getCacheForType:function(e){var i=Qe(Ce),s=i.data.get(e);return s===void 0&&(s=e(),i.data.set(e,s)),s},cacheSignal:function(){return Qe(Ce).controller.signal}},aw=typeof WeakMap=="function"?WeakMap:Map,Ht=0,ie=null,Vt=null,Ot=0,Yt=0,bn=null,Mr=!1,Ys=!1,im=!1,tr=0,ge=0,Pr=0,ja=0,rm=0,wn=0,Xs=0,Bl=null,dn=null,am=!1,Zc=0,uv=0,Wc=1/0,th=null,zr=null,Ue=0,Lr=null,$s=null,er=0,sm=0,om=null,cv=null,kl=0,lm=null;function Rn(){return(Ht&2)!==0&&Ot!==0?Ot&-Ot:tt.T!==null?mm():ec()}function hv(){if(wn===0)if((Ot&536870912)===0||zt){var e=ma;ma<<=1,(ma&3932160)===0&&(ma=262144),wn=e}else wn=536870912;return e=Sn.current,e!==null&&(e.flags|=32),wn}function mn(e,i,s){(e===ie&&(Yt===2||Yt===9)||e.cancelPendingCommit!==null)&&(Js(e,0),Ur(e,Ot,wn,!1)),ga(e,s),((Ht&2)===0||e!==ie)&&(e===ie&&((Ht&2)===0&&(ja|=s),ge===4&&Ur(e,Ot,wn,!1)),xi(e))}function fv(e,i,s){if((Ht&6)!==0)throw Error(r(327));var l=!s&&(i&127)===0&&(i&e.expiredLanes)===0||Yn(e,i),f=l?lw(e,i):cm(e,i,!0),d=l;do{if(f===0){Ys&&!l&&Ur(e,i,0,!1);break}else{if(s=e.current.alternate,d&&!sw(s)){f=cm(e,i,!1),d=!1;continue}if(f===2){if(d=i,e.errorRecoveryDisabledLanes&d)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;t:{var S=e;f=Bl;var x=S.current.memoizedState.isDehydrated;if(x&&(Js(S,_).flags|=256),_=cm(S,_,!1),_!==2){if(im&&!x){S.errorRecoveryDisabledLanes|=d,ja|=d,f=4;break t}d=dn,dn=f,d!==null&&(dn===null?dn=d:dn.push.apply(dn,d))}f=_}if(d=!1,f!==2)continue}}if(f===1){Js(e,0),Ur(e,i,0,!0);break}t:{switch(l=e,d=f,d){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Ur(l,i,wn,!Mr);break t;case 2:dn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(f=Zc+300-rn(),10<f)){if(Ur(l,i,wn,!Mr),hi(l,0,!0)!==0)break t;er=i,l.timeoutHandle=Fv(dv.bind(null,l,s,dn,th,am,i,wn,ja,Xs,Mr,d,"Throttled",-0,0),f);break t}dv(l,s,dn,th,am,i,wn,ja,Xs,Mr,d,null,-0,0)}}break}while(!0);xi(e)}function dv(e,i,s,l,f,d,_,S,x,q,W,it,F,$){if(e.timeoutHandle=-1,it=i.subtreeFlags,it&8192||(it&16785408)===16785408){it={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Jn},av(i,d,it);var gt=(d&62914560)===d?Zc-rn():(d&4194048)===d?uv-rn():0;if(gt=Hw(it,gt),gt!==null){er=d,e.cancelPendingCommit=gt(Tv.bind(null,e,i,d,s,l,f,_,S,x,W,it,null,F,$)),Ur(e,d,_,!q);return}}Tv(e,i,d,s,l,f,_,S,x)}function sw(e){for(var i=e;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var f=s[l],d=f.getSnapshot;f=f.value;try{if(!En(d(),f))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ur(e,i,s,l){i&=~rm,i&=~ja,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var f=i;0<f;){var d=31-ye(f),_=1<<d;l[d]=-1,f&=~_}s!==0&&pa(e,s,i)}function eh(){return(Ht&6)===0?(jl(0),!1):!0}function um(){if(Vt!==null){if(Yt===0)var e=Vt.return;else e=Vt,Hi=Na=null,wd(e),js=null,Al=0,e=Vt;for(;e!==null;)H_(e.alternate,e),e=e.return;Vt=null}}function Js(e,i){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,Rw(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),er=0,um(),ie=e,Vt=s=qi(e.current,null),Ot=i,Yt=0,bn=null,Mr=!1,Ys=Yn(e,i),im=!1,Xs=wn=rm=ja=Pr=ge=0,dn=Bl=null,am=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var f=31-ye(l),d=1<<f;i|=e[f],l&=~d}return tr=i,Sc(),s}function mv(e,i){It=null,tt.H=Vl,i===ks||i===Dc?(i=Dy(),Yt=3):i===dd?(i=Dy(),Yt=4):Yt=i===jd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,bn=i,Vt===null&&(ge=1,Hc(e,Un(i,e.current)))}function gv(){var e=Sn.current;return e===null?!0:(Ot&4194048)===Ot?qn===null:(Ot&62914560)===Ot||(Ot&536870912)!==0?e===qn:!1}function pv(){var e=tt.H;return tt.H=Vl,e===null?Vl:e}function yv(){var e=tt.A;return tt.A=rw,e}function nh(){ge=4,Mr||(Ot&4194048)!==Ot&&Sn.current!==null||(Ys=!0),(Pr&134217727)===0&&(ja&134217727)===0||ie===null||Ur(ie,Ot,wn,!1)}function cm(e,i,s){var l=Ht;Ht|=2;var f=pv(),d=yv();(ie!==e||Ot!==i)&&(th=null,Js(e,i)),i=!1;var _=ge;t:do try{if(Yt!==0&&Vt!==null){var S=Vt,x=bn;switch(Yt){case 8:um(),_=6;break t;case 3:case 2:case 9:case 6:Sn.current===null&&(i=!0);var q=Yt;if(Yt=0,bn=null,Zs(e,S,x,q),s&&Ys){_=0;break t}break;default:q=Yt,Yt=0,bn=null,Zs(e,S,x,q)}}ow(),_=ge;break}catch(W){mv(e,W)}while(!0);return i&&e.shellSuspendCounter++,Hi=Na=null,Ht=l,tt.H=f,tt.A=d,Vt===null&&(ie=null,Ot=0,Sc()),_}function ow(){for(;Vt!==null;)_v(Vt)}function lw(e,i){var s=Ht;Ht|=2;var l=pv(),f=yv();ie!==e||Ot!==i?(th=null,Wc=rn()+500,Js(e,i)):Ys=Yn(e,i);t:do try{if(Yt!==0&&Vt!==null){i=Vt;var d=bn;e:switch(Yt){case 1:Yt=0,bn=null,Zs(e,i,d,1);break;case 2:case 9:if(Cy(d)){Yt=0,bn=null,vv(i);break}i=function(){Yt!==2&&Yt!==9||ie!==e||(Yt=7),xi(e)},d.then(i,i);break t;case 3:Yt=7;break t;case 4:Yt=5;break t;case 7:Cy(d)?(Yt=0,bn=null,vv(i)):(Yt=0,bn=null,Zs(e,i,d,7));break;case 5:var _=null;switch(Vt.tag){case 26:_=Vt.memoizedState;case 5:case 27:var S=Vt;if(_?rE(_):S.stateNode.complete){Yt=0,bn=null;var x=S.sibling;if(x!==null)Vt=x;else{var q=S.return;q!==null?(Vt=q,ih(q)):Vt=null}break e}}Yt=0,bn=null,Zs(e,i,d,5);break;case 6:Yt=0,bn=null,Zs(e,i,d,6);break;case 8:um(),ge=6;break t;default:throw Error(r(462))}}uw();break}catch(W){mv(e,W)}while(!0);return Hi=Na=null,tt.H=l,tt.A=f,Ht=s,Vt!==null?0:(ie=null,Ot=0,Sc(),ge)}function uw(){for(;Vt!==null&&!kf();)_v(Vt)}function _v(e){var i=q_(e.alternate,e,tr);e.memoizedProps=e.pendingProps,i===null?ih(e):Vt=i}function vv(e){var i=e,s=i.alternate;switch(i.tag){case 15:case 0:i=z_(s,i,i.pendingProps,i.type,void 0,Ot);break;case 11:i=z_(s,i,i.pendingProps,i.type.render,i.ref,Ot);break;case 5:wd(i);default:H_(s,i),i=Vt=yy(i,tr),i=q_(s,i,tr)}e.memoizedProps=e.pendingProps,i===null?ih(e):Vt=i}function Zs(e,i,s,l){Hi=Na=null,wd(i),js=null,Al=0;var f=i.return;try{if(Jb(e,f,i,s,Ot)){ge=1,Hc(e,Un(s,e.current)),Vt=null;return}}catch(d){if(f!==null)throw Vt=f,d;ge=1,Hc(e,Un(s,e.current)),Vt=null;return}i.flags&32768?(zt||l===1?e=!0:Ys||(Ot&536870912)!==0?e=!1:(Mr=e=!0,(l===2||l===9||l===3||l===6)&&(l=Sn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Ev(i,e)):ih(i)}function ih(e){var i=e;do{if((i.flags&32768)!==0){Ev(i,Mr);return}e=i.return;var s=tw(i.alternate,i,tr);if(s!==null){Vt=s;return}if(i=i.sibling,i!==null){Vt=i;return}Vt=i=e}while(i!==null);ge===0&&(ge=5)}function Ev(e,i){do{var s=ew(e.alternate,e);if(s!==null){s.flags&=32767,Vt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(e=e.sibling,e!==null)){Vt=e;return}Vt=e=s}while(e!==null);ge=6,Vt=null}function Tv(e,i,s,l,f,d,_,S,x){e.cancelPendingCommit=null;do rh();while(Ue!==0);if((Ht&6)!==0)throw Error(r(327));if(i!==null){if(i===e.current)throw Error(r(177));if(d=i.lanes|i.childLanes,d|=Zf,Ff(e,s,d,_,S,x),e===ie&&(Vt=ie=null,Ot=0),$s=i,Lr=e,er=s,sm=d,om=f,cv=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,dw(mr,function(){return Rv(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=tt.T,tt.T=null,f=ht.p,ht.p=2,_=Ht,Ht|=4;try{nw(e,i,s)}finally{Ht=_,ht.p=f,tt.T=l}}Ue=1,Sv(),Av(),bv()}}function Sv(){if(Ue===1){Ue=0;var e=Lr,i=$s,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=tt.T,tt.T=null;var l=ht.p;ht.p=2;var f=Ht;Ht|=4;try{nv(i,e);var d=Sm,_=ly(e.containerInfo),S=d.focusedElem,x=d.selectionRange;if(_!==S&&S&&S.ownerDocument&&oy(S.ownerDocument.documentElement,S)){if(x!==null&&Qf(S)){var q=x.start,W=x.end;if(W===void 0&&(W=q),"selectionStart"in S)S.selectionStart=q,S.selectionEnd=Math.min(W,S.value.length);else{var it=S.ownerDocument||document,F=it&&it.defaultView||window;if(F.getSelection){var $=F.getSelection(),gt=S.textContent.length,St=Math.min(x.start,gt),ne=x.end===void 0?St:Math.min(x.end,gt);!$.extend&&St>ne&&(_=ne,ne=St,St=_);var P=sy(S,St),V=sy(S,ne);if(P&&V&&($.rangeCount!==1||$.anchorNode!==P.node||$.anchorOffset!==P.offset||$.focusNode!==V.node||$.focusOffset!==V.offset)){var j=it.createRange();j.setStart(P.node,P.offset),$.removeAllRanges(),St>ne?($.addRange(j),$.extend(V.node,V.offset)):(j.setEnd(V.node,V.offset),$.addRange(j))}}}}for(it=[],$=S;$=$.parentNode;)$.nodeType===1&&it.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<it.length;S++){var nt=it[S];nt.element.scrollLeft=nt.left,nt.element.scrollTop=nt.top}}ph=!!Tm,Sm=Tm=null}finally{Ht=f,ht.p=l,tt.T=s}}e.current=i,Ue=2}}function Av(){if(Ue===2){Ue=0;var e=Lr,i=$s,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=tt.T,tt.T=null;var l=ht.p;ht.p=2;var f=Ht;Ht|=4;try{J_(e,i.alternate,i)}finally{Ht=f,ht.p=l,tt.T=s}}Ue=3}}function bv(){if(Ue===4||Ue===3){Ue=0,Yu();var e=Lr,i=$s,s=er,l=cv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ue=5:(Ue=0,$s=Lr=null,wv(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(zr=null),Ui(s),i=i.stateNode,He&&typeof He.onCommitFiberRoot=="function")try{He.onCommitFiberRoot(Qn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=tt.T,f=ht.p,ht.p=2,tt.T=null;try{for(var d=e.onRecoverableError,_=0;_<l.length;_++){var S=l[_];d(S.value,{componentStack:S.stack})}}finally{tt.T=i,ht.p=f}}(er&3)!==0&&rh(),xi(e),f=e.pendingLanes,(s&261930)!==0&&(f&42)!==0?e===lm?kl++:(kl=0,lm=e):kl=0,jl(0)}}function wv(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Tl(i)))}function rh(){return Sv(),Av(),bv(),Rv()}function Rv(){if(Ue!==5)return!1;var e=Lr,i=sm;sm=0;var s=Ui(er),l=tt.T,f=ht.p;try{ht.p=32>s?32:s,tt.T=null,s=om,om=null;var d=Lr,_=er;if(Ue=0,$s=Lr=null,er=0,(Ht&6)!==0)throw Error(r(331));var S=Ht;if(Ht|=4,ov(d.current),rv(d,d.current,_,s),Ht=S,jl(0,!1),He&&typeof He.onPostCommitFiberRoot=="function")try{He.onPostCommitFiberRoot(Qn,d)}catch{}return!0}finally{ht.p=f,tt.T=l,wv(e,i)}}function Iv(e,i,s){i=Un(s,i),i=kd(e.stateNode,i,2),e=Dr(e,i,2),e!==null&&(ga(e,2),xi(e))}function Xt(e,i,s){if(e.tag===3)Iv(e,e,s);else for(;i!==null;){if(i.tag===3){Iv(i,e,s);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(zr===null||!zr.has(l))){e=Un(s,e),s=C_(2),l=Dr(i,s,2),l!==null&&(x_(s,l,i,e),ga(l,2),xi(l));break}}i=i.return}}function hm(e,i,s){var l=e.pingCache;if(l===null){l=e.pingCache=new aw;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(s)||(im=!0,f.add(s),e=cw.bind(null,e,i,s),i.then(e,e))}function cw(e,i,s){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,ie===e&&(Ot&s)===s&&(ge===4||ge===3&&(Ot&62914560)===Ot&&300>rn()-Zc?(Ht&2)===0&&Js(e,0):rm|=s,Xs===Ot&&(Xs=0)),xi(e)}function Cv(e,i){i===0&&(i=tc()),e=xa(e,i),e!==null&&(ga(e,i),xi(e))}function hw(e){var i=e.memoizedState,s=0;i!==null&&(s=i.retryLane),Cv(e,s)}function fw(e,i){var s=0;switch(e.tag){case 31:case 13:var l=e.stateNode,f=e.memoizedState;f!==null&&(s=f.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(i),Cv(e,s)}function dw(e,i){return Le(e,i)}var ah=null,Ws=null,fm=!1,sh=!1,dm=!1,Br=0;function xi(e){e!==Ws&&e.next===null&&(Ws===null?ah=Ws=e:Ws=Ws.next=e),sh=!0,fm||(fm=!0,gw())}function jl(e,i){if(!dm&&sh){dm=!0;do for(var s=!1,l=ah;l!==null;){if(e!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var _=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-ye(42|e)+1)-1,d&=f&~(_&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,Nv(l,d))}else d=Ot,d=hi(l,l===ie?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Yn(l,d)||(s=!0,Nv(l,d));l=l.next}while(s);dm=!1}}function mw(){xv()}function xv(){sh=fm=!1;var e=0;Br!==0&&ww()&&(e=Br);for(var i=rn(),s=null,l=ah;l!==null;){var f=l.next,d=Dv(l,i);d===0?(l.next=null,s===null?ah=f:s.next=f,f===null&&(Ws=s)):(s=l,(e!==0||(d&3)!==0)&&(sh=!0)),l=f}Ue!==0&&Ue!==5||jl(e),Br!==0&&(Br=0)}function Dv(e,i){for(var s=e.suspendedLanes,l=e.pingedLanes,f=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var _=31-ye(d),S=1<<_,x=f[_];x===-1?((S&s)===0||(S&l)!==0)&&(f[_]=qf(S,i)):x<=i&&(e.expiredLanes|=S),d&=~S}if(i=ie,s=Ot,s=hi(e,e===i?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,s===0||e===i&&(Yt===2||Yt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&dr(l),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Yn(e,s)){if(i=s&-s,i===e.callbackPriority)return i;switch(l!==null&&dr(l),Ui(s)){case 2:case 8:s=Jo;break;case 32:s=mr;break;case 268435456:s=Xu;break;default:s=mr}return l=Vv.bind(null,e),s=Le(s,l),e.callbackPriority=i,e.callbackNode=s,i}return l!==null&&l!==null&&dr(l),e.callbackPriority=2,e.callbackNode=null,2}function Vv(e,i){if(Ue!==0&&Ue!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(rh()&&e.callbackNode!==s)return null;var l=Ot;return l=hi(e,e===ie?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(fv(e,l,i),Dv(e,rn()),e.callbackNode!=null&&e.callbackNode===s?Vv.bind(null,e):null)}function Nv(e,i){if(rh())return null;fv(e,i,!0)}function gw(){Iw(function(){(Ht&6)!==0?Le($o,mw):xv()})}function mm(){if(Br===0){var e=Us;e===0&&(e=ui,ui<<=1,(ui&261888)===0&&(ui=256)),Br=e}return Br}function Ov(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:As(""+e)}function Mv(e,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,e.id&&s.setAttribute("form",e.id),i.parentNode.insertBefore(s,i),e=new FormData(e),s.parentNode.removeChild(s),e}function pw(e,i,s,l,f){if(i==="submit"&&s&&s.stateNode===f){var d=Ov((f[ke]||null).action),_=l.submitter;_&&(i=(i=_[ke]||null)?Ov(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var S=new Si("action","action",null,l,f);e.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Br!==0){var x=_?Mv(f,_):new FormData(f);Md(s,{pending:!0,data:x,method:f.method,action:d},null,x)}}else typeof d=="function"&&(S.preventDefault(),x=_?Mv(f,_):new FormData(f),Md(s,{pending:!0,data:x,method:f.method,action:d},d,x))},currentTarget:f}]})}}for(var gm=0;gm<Jf.length;gm++){var pm=Jf[gm],yw=pm.toLowerCase(),_w=pm[0].toUpperCase()+pm.slice(1);ni(yw,"on"+_w)}ni(hy,"onAnimationEnd"),ni(fy,"onAnimationIteration"),ni(dy,"onAnimationStart"),ni("dblclick","onDoubleClick"),ni("focusin","onFocus"),ni("focusout","onBlur"),ni(Mb,"onTransitionRun"),ni(Pb,"onTransitionStart"),ni(zb,"onTransitionCancel"),ni(my,"onTransitionEnd"),_i("onMouseEnter",["mouseout","mouseover"]),_i("onMouseLeave",["mouseout","mouseover"]),_i("onPointerEnter",["pointerout","pointerover"]),_i("onPointerLeave",["pointerout","pointerover"]),yi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),yi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),yi("onBeforeInput",["compositionend","keypress","textInput","paste"]),yi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),yi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),yi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ql));function Pv(e,i){i=(i&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],f=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var S=l[_],x=S.instance,q=S.currentTarget;if(S=S.listener,x!==d&&f.isPropagationStopped())break t;d=S,f.currentTarget=q;try{d(f)}catch(W){Tc(W)}f.currentTarget=null,d=x}else for(_=0;_<l.length;_++){if(S=l[_],x=S.instance,q=S.currentTarget,S=S.listener,x!==d&&f.isPropagationStopped())break t;d=S,f.currentTarget=q;try{d(f)}catch(W){Tc(W)}f.currentTarget=null,d=x}}}}function Nt(e,i){var s=i[_s];s===void 0&&(s=i[_s]=new Set);var l=e+"__bubble";s.has(l)||(zv(i,e,2,!1),s.add(l))}function ym(e,i,s){var l=0;i&&(l|=4),zv(s,e,l,i)}var oh="_reactListening"+Math.random().toString(36).slice(2);function _m(e){if(!e[oh]){e[oh]=!0,tl.forEach(function(s){s!=="selectionchange"&&(vw.has(s)||ym(s,!1,e),ym(s,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[oh]||(i[oh]=!0,ym("selectionchange",!1,i))}}function zv(e,i,s,l){switch(hE(i)){case 2:var f=Qw;break;case 8:f=Yw;break;default:f=Om}s=f.bind(null,i,s,e),f=void 0,!Ta||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?e.addEventListener(i,s,{capture:!0,passive:f}):e.addEventListener(i,s,!0):f!==void 0?e.addEventListener(i,s,{passive:f}):e.addEventListener(i,s,!1)}function vm(e,i,s,l,f){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var S=l.stateNode.containerInfo;if(S===f)break;if(_===4)for(_=l.return;_!==null;){var x=_.tag;if((x===3||x===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;S!==null;){if(_=gi(S),_===null)return;if(x=_.tag,x===5||x===6||x===26||x===27){l=d=_;continue t}S=S.parentNode}}l=l.return}Er(function(){var q=d,W=Mn(s),it=[];t:{var F=gy.get(e);if(F!==void 0){var $=Si,gt=e;switch(e){case"keypress":if(Aa(s)===0)break t;case"keydown":case"keyup":$=_c;break;case"focusin":gt="focus",$=wa;break;case"focusout":gt="blur",$=wa;break;case"beforeblur":case"afterblur":$=wa;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=dl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=uc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=y;break;case hy:case fy:case dy:$=hc;break;case my:$=A;break;case"scroll":case"scrollend":$=fl;break;case"wheel":$=X;break;case"copy":case"cut":case"paste":$=fc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=ji;break;case"toggle":case"beforetoggle":$=Rt}var St=(i&4)!==0,ne=!St&&(e==="scroll"||e==="scrollend"),P=St?F!==null?F+"Capture":null:F;St=[];for(var V=q,j;V!==null;){var nt=V;if(j=nt.stateNode,nt=nt.tag,nt!==5&&nt!==26&&nt!==27||j===null||P===null||(nt=Zn(V,P),nt!=null&&St.push(Fl(V,nt,j))),ne)break;V=V.return}0<St.length&&(F=new $(F,gt,null,s,W),it.push({event:F,listeners:St}))}}if((i&7)===0){t:{if(F=e==="mouseover"||e==="pointerover",$=e==="mouseout"||e==="pointerout",F&&s!==ul&&(gt=s.relatedTarget||s.fromElement)&&(gi(gt)||gt[di]))break t;if(($||F)&&(F=W.window===W?W:(F=W.ownerDocument)?F.defaultView||F.parentWindow:window,$?(gt=s.relatedTarget||s.toElement,$=q,gt=gt?gi(gt):null,gt!==null&&(ne=u(gt),St=gt.tag,gt!==ne||St!==5&&St!==27&&St!==6)&&(gt=null)):($=null,gt=q),$!==gt)){if(St=dl,nt="onMouseLeave",P="onMouseEnter",V="mouse",(e==="pointerout"||e==="pointerover")&&(St=ji,nt="onPointerLeave",P="onPointerEnter",V="pointer"),ne=$==null?F:_n($),j=gt==null?F:_n(gt),F=new St(nt,V+"leave",$,s,W),F.target=ne,F.relatedTarget=j,nt=null,gi(W)===q&&(St=new St(P,V+"enter",gt,s,W),St.target=j,St.relatedTarget=ne,nt=St),ne=nt,$&&gt)e:{for(St=Ew,P=$,V=gt,j=0,nt=P;nt;nt=St(nt))j++;nt=0;for(var vt=V;vt;vt=St(vt))nt++;for(;0<j-nt;)P=St(P),j--;for(;0<nt-j;)V=St(V),nt--;for(;j--;){if(P===V||V!==null&&P===V.alternate){St=P;break e}P=St(P),V=St(V)}St=null}else St=null;$!==null&&Lv(it,F,$,St,!1),gt!==null&&ne!==null&&Lv(it,ne,gt,St,!0)}}t:{if(F=q?_n(q):window,$=F.nodeName&&F.nodeName.toLowerCase(),$==="select"||$==="input"&&F.type==="file")var jt=ty;else if(Zp(F))if(ey)jt=Vb;else{jt=xb;var yt=Cb}else $=F.nodeName,!$||$.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?q&&Ss(q.elementType)&&(jt=ty):jt=Db;if(jt&&(jt=jt(e,q))){Wp(it,jt,s,W);break t}yt&&yt(e,F,q),e==="focusout"&&q&&F.type==="number"&&q.memoizedProps.value!=null&&sl(F,"number",F.value)}switch(yt=q?_n(q):window,e){case"focusin":(Zp(yt)||yt.contentEditable==="true")&&(Ds=yt,Yf=q,_l=null);break;case"focusout":_l=Yf=Ds=null;break;case"mousedown":Xf=!0;break;case"contextmenu":case"mouseup":case"dragend":Xf=!1,uy(it,s,W);break;case"selectionchange":if(Ob)break;case"keydown":case"keyup":uy(it,s,W)}var xt;if(Ft)t:{switch(e){case"compositionstart":var Mt="onCompositionStart";break t;case"compositionend":Mt="onCompositionEnd";break t;case"compositionupdate":Mt="onCompositionUpdate";break t}Mt=void 0}else xs?Ra(e,s)&&(Mt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Mt="onCompositionStart");Mt&&(wi&&s.locale!=="ko"&&(xs||Mt!=="onCompositionStart"?Mt==="onCompositionEnd"&&xs&&(xt=hl()):(Ti=W,cl="value"in Ti?Ti.value:Ti.textContent,xs=!0)),yt=lh(q,Mt),0<yt.length&&(Mt=new bi(Mt,e,null,s,W),it.push({event:Mt,listeners:yt}),xt?Mt.data=xt:(xt=Cs(s),xt!==null&&(Mt.data=xt)))),(xt=zn?bb(e,s):wb(e,s))&&(Mt=lh(q,"onBeforeInput"),0<Mt.length&&(yt=new bi("onBeforeInput","beforeinput",null,s,W),it.push({event:yt,listeners:Mt}),yt.data=xt)),pw(it,e,q,s,W)}Pv(it,i)})}function Fl(e,i,s){return{instance:e,listener:i,currentTarget:s}}function lh(e,i){for(var s=i+"Capture",l=[];e!==null;){var f=e,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Zn(e,s),f!=null&&l.unshift(Fl(e,f,d)),f=Zn(e,i),f!=null&&l.push(Fl(e,f,d))),e.tag===3)return l;e=e.return}return[]}function Ew(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Lv(e,i,s,l,f){for(var d=i._reactName,_=[];s!==null&&s!==l;){var S=s,x=S.alternate,q=S.stateNode;if(S=S.tag,x!==null&&x===l)break;S!==5&&S!==26&&S!==27||q===null||(x=q,f?(q=Zn(s,d),q!=null&&_.unshift(Fl(s,q,x))):f||(q=Zn(s,d),q!=null&&_.push(Fl(s,q,x)))),s=s.return}_.length!==0&&e.push({event:i,listeners:_})}var Tw=/\r\n?/g,Sw=/\u0000|\uFFFD/g;function Uv(e){return(typeof e=="string"?e:""+e).replace(Tw,`
`).replace(Sw,"")}function Bv(e,i){return i=Uv(i),Uv(e)===i}function ee(e,i,s,l,f,d){switch(s){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||un(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&un(e,""+l);break;case"className":vn(e,"class",l);break;case"tabIndex":vn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":vn(e,s,l);break;case"style":ll(e,l,d);break;case"data":if(i!=="object"){vn(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||s!=="href")){e.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=As(""+l),e.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(i!=="input"&&ee(e,i,"name",f.name,f,null),ee(e,i,"formEncType",f.formEncType,f,null),ee(e,i,"formMethod",f.formMethod,f,null),ee(e,i,"formTarget",f.formTarget,f,null)):(ee(e,i,"encType",f.encType,f,null),ee(e,i,"method",f.method,f,null),ee(e,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=As(""+l),e.setAttribute(s,l);break;case"onClick":l!=null&&(e.onclick=Jn);break;case"onScroll":l!=null&&Nt("scroll",e);break;case"onScrollEnd":l!=null&&Nt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(f.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}s=As(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""+l):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":l===!0?e.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,l):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(s,l):e.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(s):e.setAttribute(s,l);break;case"popover":Nt("beforetoggle",e),Nt("toggle",e),Es(e,"popover",l);break;case"xlinkActuate":Ie(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ie(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ie(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ie(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ie(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ie(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ie(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ie(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ie(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Es(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=lc.get(s)||s,Es(e,s,l))}}function Em(e,i,s,l,f,d){switch(s){case"style":ll(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(f.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"children":typeof l=="string"?un(e,l):(typeof l=="number"||typeof l=="bigint")&&un(e,""+l);break;case"onScroll":l!=null&&Nt("scroll",e);break;case"onScrollEnd":l!=null&&Nt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Jn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!el.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(f=s.endsWith("Capture"),i=s.slice(2,f?s.length-7:void 0),d=e[ke]||null,d=d!=null?d[s]:null,typeof d=="function"&&e.removeEventListener(i,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(i,l,f);break t}s in e?e[s]=l:l===!0?e.setAttribute(s,""):Es(e,s,l)}}}function Xe(e,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",e),Nt("load",e);var l=!1,f=!1,d;for(d in s)if(s.hasOwnProperty(d)){var _=s[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:ee(e,i,d,_,s,null)}}f&&ee(e,i,"srcSet",s.srcSet,s,null),l&&ee(e,i,"src",s.src,s,null);return;case"input":Nt("invalid",e);var S=d=_=f=null,x=null,q=null;for(l in s)if(s.hasOwnProperty(l)){var W=s[l];if(W!=null)switch(l){case"name":f=W;break;case"type":_=W;break;case"checked":x=W;break;case"defaultChecked":q=W;break;case"value":d=W;break;case"defaultValue":S=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(r(137,i));break;default:ee(e,i,l,W,s,null)}}ac(e,d,S,x,q,_,f,!1);return;case"select":Nt("invalid",e),l=_=d=null;for(f in s)if(s.hasOwnProperty(f)&&(S=s[f],S!=null))switch(f){case"value":d=S;break;case"defaultValue":_=S;break;case"multiple":l=S;default:ee(e,i,f,S,s,null)}i=d,s=_,e.multiple=!!l,i!=null?pr(e,!!l,i,!1):s!=null&&pr(e,!!l,s,!0);return;case"textarea":Nt("invalid",e),d=f=l=null;for(_ in s)if(s.hasOwnProperty(_)&&(S=s[_],S!=null))switch(_){case"value":l=S;break;case"defaultValue":f=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:ee(e,i,_,S,s,null)}yr(e,l,f,d);return;case"option":for(x in s)s.hasOwnProperty(x)&&(l=s[x],l!=null)&&(x==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":ee(e,i,x,l,s,null));return;case"dialog":Nt("beforetoggle",e),Nt("toggle",e),Nt("cancel",e),Nt("close",e);break;case"iframe":case"object":Nt("load",e);break;case"video":case"audio":for(l=0;l<ql.length;l++)Nt(ql[l],e);break;case"image":Nt("error",e),Nt("load",e);break;case"details":Nt("toggle",e);break;case"embed":case"source":case"link":Nt("error",e),Nt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in s)if(s.hasOwnProperty(q)&&(l=s[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:ee(e,i,q,l,s,null)}return;default:if(Ss(i)){for(W in s)s.hasOwnProperty(W)&&(l=s[W],l!==void 0&&Em(e,i,W,l,s,void 0));return}}for(S in s)s.hasOwnProperty(S)&&(l=s[S],l!=null&&ee(e,i,S,l,s,null))}function Aw(e,i,s,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,S=null,x=null,q=null,W=null;for($ in s){var it=s[$];if(s.hasOwnProperty($)&&it!=null)switch($){case"checked":break;case"value":break;case"defaultValue":x=it;default:l.hasOwnProperty($)||ee(e,i,$,null,l,it)}}for(var F in l){var $=l[F];if(it=s[F],l.hasOwnProperty(F)&&($!=null||it!=null))switch(F){case"type":d=$;break;case"name":f=$;break;case"checked":q=$;break;case"defaultChecked":W=$;break;case"value":_=$;break;case"defaultValue":S=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(r(137,i));break;default:$!==it&&ee(e,i,F,$,l,it)}}Ts(e,_,S,x,q,W,d,f);return;case"select":$=_=S=F=null;for(d in s)if(x=s[d],s.hasOwnProperty(d)&&x!=null)switch(d){case"value":break;case"multiple":$=x;default:l.hasOwnProperty(d)||ee(e,i,d,null,l,x)}for(f in l)if(d=l[f],x=s[f],l.hasOwnProperty(f)&&(d!=null||x!=null))switch(f){case"value":F=d;break;case"defaultValue":S=d;break;case"multiple":_=d;default:d!==x&&ee(e,i,f,d,l,x)}i=S,s=_,l=$,F!=null?pr(e,!!s,F,!1):!!l!=!!s&&(i!=null?pr(e,!!s,i,!0):pr(e,!!s,s?[]:"",!1));return;case"textarea":$=F=null;for(S in s)if(f=s[S],s.hasOwnProperty(S)&&f!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:ee(e,i,S,null,l,f)}for(_ in l)if(f=l[_],d=s[_],l.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":F=f;break;case"defaultValue":$=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==d&&ee(e,i,_,f,l,d)}sc(e,F,$);return;case"option":for(var gt in s)F=s[gt],s.hasOwnProperty(gt)&&F!=null&&!l.hasOwnProperty(gt)&&(gt==="selected"?e.selected=!1:ee(e,i,gt,null,l,F));for(x in l)F=l[x],$=s[x],l.hasOwnProperty(x)&&F!==$&&(F!=null||$!=null)&&(x==="selected"?e.selected=F&&typeof F!="function"&&typeof F!="symbol":ee(e,i,x,F,l,$));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var St in s)F=s[St],s.hasOwnProperty(St)&&F!=null&&!l.hasOwnProperty(St)&&ee(e,i,St,null,l,F);for(q in l)if(F=l[q],$=s[q],l.hasOwnProperty(q)&&F!==$&&(F!=null||$!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,i));break;default:ee(e,i,q,F,l,$)}return;default:if(Ss(i)){for(var ne in s)F=s[ne],s.hasOwnProperty(ne)&&F!==void 0&&!l.hasOwnProperty(ne)&&Em(e,i,ne,void 0,l,F);for(W in l)F=l[W],$=s[W],!l.hasOwnProperty(W)||F===$||F===void 0&&$===void 0||Em(e,i,W,F,l,$);return}}for(var P in s)F=s[P],s.hasOwnProperty(P)&&F!=null&&!l.hasOwnProperty(P)&&ee(e,i,P,null,l,F);for(it in l)F=l[it],$=s[it],!l.hasOwnProperty(it)||F===$||F==null&&$==null||ee(e,i,it,F,l,$)}function kv(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function bw(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var f=s[l],d=f.transferSize,_=f.initiatorType,S=f.duration;if(d&&S&&kv(_)){for(_=0,S=f.responseEnd,l+=1;l<s.length;l++){var x=s[l],q=x.startTime;if(q>S)break;var W=x.transferSize,it=x.initiatorType;W&&kv(it)&&(x=x.responseEnd,_+=W*(x<S?1:(S-q)/(x-q)))}if(--l,i+=8*(d+_)/(f.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Tm=null,Sm=null;function uh(e){return e.nodeType===9?e:e.ownerDocument}function jv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function qv(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Am(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var bm=null;function ww(){var e=window.event;return e&&e.type==="popstate"?e===bm?!1:(bm=e,!0):(bm=null,!1)}var Fv=typeof setTimeout=="function"?setTimeout:void 0,Rw=typeof clearTimeout=="function"?clearTimeout:void 0,Hv=typeof Promise=="function"?Promise:void 0,Iw=typeof queueMicrotask=="function"?queueMicrotask:typeof Hv<"u"?function(e){return Hv.resolve(null).then(e).catch(Cw)}:Fv;function Cw(e){setTimeout(function(){throw e})}function kr(e){return e==="head"}function Gv(e,i){var s=i,l=0;do{var f=s.nextSibling;if(e.removeChild(s),f&&f.nodeType===8)if(s=f.data,s==="/$"||s==="/&"){if(l===0){e.removeChild(f),io(i);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")Hl(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,Hl(s);for(var d=s.firstChild;d;){var _=d.nextSibling,S=d.nodeName;d[mi]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&d.rel.toLowerCase()==="stylesheet"||s.removeChild(d),d=_}}else s==="body"&&Hl(e.ownerDocument.body);s=f}while(s);io(i)}function Kv(e,i){var s=e;e=0;do{var l=s.nextSibling;if(s.nodeType===1?i?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(i?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=l}while(s)}function wm(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":wm(s),vs(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function xw(e,i,s,l){for(;e.nodeType===1;){var f=s;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[mi])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Fn(e.nextSibling),e===null)break}return null}function Dw(e,i,s){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Fn(e.nextSibling),e===null))return null;return e}function Qv(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Fn(e.nextSibling),e===null))return null;return e}function Rm(e){return e.data==="$?"||e.data==="$~"}function Im(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Vw(e,i){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||s.readyState!=="loading")i();else{var l=function(){i(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Fn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var Cm=null;function Yv(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(i===0)return Fn(e.nextSibling);i--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||i++}e=e.nextSibling}return null}function Xv(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(i===0)return e;i--}else s!=="/$"&&s!=="/&"||i++}e=e.previousSibling}return null}function $v(e,i,s){switch(i=uh(s),e){case"html":if(e=i.documentElement,!e)throw Error(r(452));return e;case"head":if(e=i.head,!e)throw Error(r(453));return e;case"body":if(e=i.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Hl(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);vs(e)}var Hn=new Map,Jv=new Set;function ch(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var nr=ht.d;ht.d={f:Nw,r:Ow,D:Mw,C:Pw,L:zw,m:Lw,X:Bw,S:Uw,M:kw};function Nw(){var e=nr.f(),i=eh();return e||i}function Ow(e){var i=On(e);i!==null&&i.tag===5&&i.type==="form"?m_(i):nr.r(e)}var to=typeof document>"u"?null:document;function Zv(e,i,s){var l=to;if(l&&typeof i=="string"&&i){var f=ln(i);f='link[rel="'+e+'"][href="'+f+'"]',typeof s=="string"&&(f+='[crossorigin="'+s+'"]'),Jv.has(f)||(Jv.add(f),e={rel:e,crossOrigin:s,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),Xe(i,"link",e),Re(i),l.head.appendChild(i)))}}function Mw(e){nr.D(e),Zv("dns-prefetch",e,null)}function Pw(e,i){nr.C(e,i),Zv("preconnect",e,i)}function zw(e,i,s){nr.L(e,i,s);var l=to;if(l&&e&&i){var f='link[rel="preload"][as="'+ln(i)+'"]';i==="image"&&s&&s.imageSrcSet?(f+='[imagesrcset="'+ln(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(f+='[imagesizes="'+ln(s.imageSizes)+'"]')):f+='[href="'+ln(e)+'"]';var d=f;switch(i){case"style":d=eo(e);break;case"script":d=no(e)}Hn.has(d)||(e=T({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:e,as:i},s),Hn.set(d,e),l.querySelector(f)!==null||i==="style"&&l.querySelector(Gl(d))||i==="script"&&l.querySelector(Kl(d))||(i=l.createElement("link"),Xe(i,"link",e),Re(i),l.head.appendChild(i)))}}function Lw(e,i){nr.m(e,i);var s=to;if(s&&e){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+ln(l)+'"][href="'+ln(e)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=no(e)}if(!Hn.has(d)&&(e=T({rel:"modulepreload",href:e},i),Hn.set(d,e),s.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Kl(d)))return}l=s.createElement("link"),Xe(l,"link",e),Re(l),s.head.appendChild(l)}}}function Uw(e,i,s){nr.S(e,i,s);var l=to;if(l&&e){var f=pi(l).hoistableStyles,d=eo(e);i=i||"default";var _=f.get(d);if(!_){var S={loading:0,preload:null};if(_=l.querySelector(Gl(d)))S.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":i},s),(s=Hn.get(d))&&xm(e,s);var x=_=l.createElement("link");Re(x),Xe(x,"link",e),x._p=new Promise(function(q,W){x.onload=q,x.onerror=W}),x.addEventListener("load",function(){S.loading|=1}),x.addEventListener("error",function(){S.loading|=2}),S.loading|=4,hh(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:S},f.set(d,_)}}}function Bw(e,i){nr.X(e,i);var s=to;if(s&&e){var l=pi(s).hoistableScripts,f=no(e),d=l.get(f);d||(d=s.querySelector(Kl(f)),d||(e=T({src:e,async:!0},i),(i=Hn.get(f))&&Dm(e,i),d=s.createElement("script"),Re(d),Xe(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function kw(e,i){nr.M(e,i);var s=to;if(s&&e){var l=pi(s).hoistableScripts,f=no(e),d=l.get(f);d||(d=s.querySelector(Kl(f)),d||(e=T({src:e,async:!0,type:"module"},i),(i=Hn.get(f))&&Dm(e,i),d=s.createElement("script"),Re(d),Xe(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function Wv(e,i,s,l){var f=(f=Ct.current)?ch(f):null;if(!f)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=eo(s.href),s=pi(f).hoistableStyles,l=s.get(i),l||(l={type:"style",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=eo(s.href);var d=pi(f).hoistableStyles,_=d.get(e);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,_),(d=f.querySelector(Gl(e)))&&!d._p&&(_.instance=d,_.state.loading=5),Hn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Hn.set(e,s),d||jw(f,e,s,_.state))),i&&l===null)throw Error(r(528,""));return _}if(i&&l!==null)throw Error(r(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=no(s),s=pi(f).hoistableScripts,l=s.get(i),l||(l={type:"script",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function eo(e){return'href="'+ln(e)+'"'}function Gl(e){return'link[rel="stylesheet"]['+e+"]"}function tE(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function jw(e,i,s,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Xe(i,"link",s),Re(i),e.head.appendChild(i))}function no(e){return'[src="'+ln(e)+'"]'}function Kl(e){return"script[async]"+e}function eE(e,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+ln(s.href)+'"]');if(l)return i.instance=l,Re(l),l;var f=T({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Re(l),Xe(l,"style",f),hh(l,s.precedence,e),i.instance=l;case"stylesheet":f=eo(s.href);var d=e.querySelector(Gl(f));if(d)return i.state.loading|=4,i.instance=d,Re(d),d;l=tE(s),(f=Hn.get(f))&&xm(l,f),d=(e.ownerDocument||e).createElement("link"),Re(d);var _=d;return _._p=new Promise(function(S,x){_.onload=S,_.onerror=x}),Xe(d,"link",l),i.state.loading|=4,hh(d,s.precedence,e),i.instance=d;case"script":return d=no(s.src),(f=e.querySelector(Kl(d)))?(i.instance=f,Re(f),f):(l=s,(f=Hn.get(d))&&(l=T({},s),Dm(l,f)),e=e.ownerDocument||e,f=e.createElement("script"),Re(f),Xe(f,"link",l),e.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,hh(l,s.precedence,e));return i.instance}function hh(e,i,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,_=0;_<l.length;_++){var S=l[_];if(S.dataset.precedence===i)d=S;else if(d!==f)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(e,i.firstChild))}function xm(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Dm(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var fh=null;function nE(e,i,s){if(fh===null){var l=new Map,f=fh=new Map;f.set(s,l)}else f=fh,l=f.get(s),l||(l=new Map,f.set(s,l));if(l.has(e))return l;for(l.set(e,null),s=s.getElementsByTagName(e),f=0;f<s.length;f++){var d=s[f];if(!(d[mi]||d[we]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=e+_;var S=l.get(_);S?S.push(d):l.set(_,[d])}}return l}function iE(e,i,s){e=e.ownerDocument||e,e.head.insertBefore(s,i==="title"?e.querySelector("head > title"):null)}function qw(e,i,s){if(s===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(e=i.disabled,typeof i.precedence=="string"&&e==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function rE(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Fw(e,i,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=eo(l.href),d=i.querySelector(Gl(f));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=dh.bind(e),i.then(e,e)),s.state.loading|=4,s.instance=d,Re(d);return}d=i.ownerDocument||i,l=tE(l),(f=Hn.get(f))&&xm(l,f),d=d.createElement("link"),Re(d);var _=d;_._p=new Promise(function(S,x){_.onload=S,_.onerror=x}),Xe(d,"link",l),s.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=dh.bind(e),i.addEventListener("load",s),i.addEventListener("error",s))}}var Vm=0;function Hw(e,i){return e.stylesheets&&e.count===0&&gh(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var l=setTimeout(function(){if(e.stylesheets&&gh(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+i);0<e.imgBytes&&Vm===0&&(Vm=62500*bw());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&gh(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>Vm?50:800)+i);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function dh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)gh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var mh=null;function gh(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,mh=new Map,i.forEach(Gw,e),mh=null,dh.call(e))}function Gw(e,i){if(!(i.state.loading&4)){var s=mh.get(e);if(s)var l=s.get(null);else{s=new Map,mh.set(e,s);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(s.set(_.dataset.precedence,_),l=_)}l&&s.set(null,l)}f=i.instance,_=f.getAttribute("data-precedence"),d=s.get(_)||l,d===l&&s.set(null,f),s.set(_,f),this.count++,l=dh.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),i.state.loading|=4}}var Ql={$$typeof:J,Provider:null,Consumer:null,_currentValue:Tt,_currentValue2:Tt,_threadCount:0};function Kw(e,i,s,l,f,d,_,S,x){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fi(0),this.hiddenUpdates=fi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function aE(e,i,s,l,f,d,_,S,x,q,W,it){return e=new Kw(e,i,s,_,x,q,W,it,S),i=1,d===!0&&(i|=24),d=Tn(3,null,null,i),e.current=d,d.stateNode=e,i=cd(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:s,cache:i},md(d),e}function sE(e){return e?(e=Os,e):Os}function oE(e,i,s,l,f,d){f=sE(f),l.context===null?l.context=f:l.pendingContext=f,l=xr(i),l.payload={element:s},d=d===void 0?null:d,d!==null&&(l.callback=d),s=Dr(e,l,i),s!==null&&(mn(s,e,i),wl(s,e,i))}function lE(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<i?s:i}}function Nm(e,i){lE(e,i),(e=e.alternate)&&lE(e,i)}function uE(e){if(e.tag===13||e.tag===31){var i=xa(e,67108864);i!==null&&mn(i,e,67108864),Nm(e,67108864)}}function cE(e){if(e.tag===13||e.tag===31){var i=Rn();i=ya(i);var s=xa(e,i);s!==null&&mn(s,e,i),Nm(e,i)}}var ph=!0;function Qw(e,i,s,l){var f=tt.T;tt.T=null;var d=ht.p;try{ht.p=2,Om(e,i,s,l)}finally{ht.p=d,tt.T=f}}function Yw(e,i,s,l){var f=tt.T;tt.T=null;var d=ht.p;try{ht.p=8,Om(e,i,s,l)}finally{ht.p=d,tt.T=f}}function Om(e,i,s,l){if(ph){var f=Mm(l);if(f===null)vm(e,i,l,yh,s),fE(e,l);else if($w(f,e,i,s,l))l.stopPropagation();else if(fE(e,l),i&4&&-1<Xw.indexOf(e)){for(;f!==null;){var d=On(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=ci(d.pendingLanes);if(_!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var x=1<<31-ye(_);S.entanglements[1]|=x,_&=~x}xi(d),(Ht&6)===0&&(Wc=rn()+500,jl(0))}}break;case 31:case 13:S=xa(d,2),S!==null&&mn(S,d,2),eh(),Nm(d,2)}if(d=Mm(l),d===null&&vm(e,i,l,yh,s),d===f)break;f=d}f!==null&&l.stopPropagation()}else vm(e,i,l,null,s)}}function Mm(e){return e=Mn(e),Pm(e)}var yh=null;function Pm(e){if(yh=null,e=gi(e),e!==null){var i=u(e);if(i===null)e=null;else{var s=i.tag;if(s===13){if(e=c(i),e!==null)return e;e=null}else if(s===31){if(e=m(i),e!==null)return e;e=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return yh=e,null}function hE(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(da()){case $o:return 2;case Jo:return 8;case mr:case jf:return 32;case Xu:return 268435456;default:return 32}default:return 32}}var zm=!1,jr=null,qr=null,Fr=null,Yl=new Map,Xl=new Map,Hr=[],Xw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function fE(e,i){switch(e){case"focusin":case"focusout":jr=null;break;case"dragenter":case"dragleave":qr=null;break;case"mouseover":case"mouseout":Fr=null;break;case"pointerover":case"pointerout":Yl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xl.delete(i.pointerId)}}function $l(e,i,s,l,f,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:s,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},i!==null&&(i=On(i),i!==null&&uE(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),e)}function $w(e,i,s,l,f){switch(i){case"focusin":return jr=$l(jr,e,i,s,l,f),!0;case"dragenter":return qr=$l(qr,e,i,s,l,f),!0;case"mouseover":return Fr=$l(Fr,e,i,s,l,f),!0;case"pointerover":var d=f.pointerId;return Yl.set(d,$l(Yl.get(d)||null,e,i,s,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Xl.set(d,$l(Xl.get(d)||null,e,i,s,l,f)),!0}return!1}function dE(e){var i=gi(e.target);if(i!==null){var s=u(i);if(s!==null){if(i=s.tag,i===13){if(i=c(s),i!==null){e.blockedOn=i,Xn(e.priority,function(){cE(s)});return}}else if(i===31){if(i=m(s),i!==null){e.blockedOn=i,Xn(e.priority,function(){cE(s)});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function _h(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var s=Mm(e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);ul=l,s.target.dispatchEvent(l),ul=null}else return i=On(s),i!==null&&uE(i),e.blockedOn=s,!1;i.shift()}return!0}function mE(e,i,s){_h(e)&&s.delete(i)}function Jw(){zm=!1,jr!==null&&_h(jr)&&(jr=null),qr!==null&&_h(qr)&&(qr=null),Fr!==null&&_h(Fr)&&(Fr=null),Yl.forEach(mE),Xl.forEach(mE)}function vh(e,i){e.blockedOn===i&&(e.blockedOn=null,zm||(zm=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Jw)))}var Eh=null;function gE(e){Eh!==e&&(Eh=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Eh===e&&(Eh=null);for(var i=0;i<e.length;i+=3){var s=e[i],l=e[i+1],f=e[i+2];if(typeof l!="function"){if(Pm(l||s)===null)continue;break}var d=On(s);d!==null&&(e.splice(i,3),i-=3,Md(d,{pending:!0,data:f,method:s.method,action:l},l,f))}}))}function io(e){function i(x){return vh(x,e)}jr!==null&&vh(jr,e),qr!==null&&vh(qr,e),Fr!==null&&vh(Fr,e),Yl.forEach(i),Xl.forEach(i);for(var s=0;s<Hr.length;s++){var l=Hr[s];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Hr.length&&(s=Hr[0],s.blockedOn===null);)dE(s),s.blockedOn===null&&Hr.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var f=s[l],d=s[l+1],_=f[ke]||null;if(typeof d=="function")_||gE(s);else if(_){var S=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[ke]||null)S=_.formAction;else if(Pm(f)!==null)continue}else S=_.action;typeof S=="function"?s[l+1]=S:(s.splice(l,3),l-=3),gE(s)}}}function pE(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function i(){f!==null&&(f(),f=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),f!==null&&(f(),f=null)}}}function Lm(e){this._internalRoot=e}Th.prototype.render=Lm.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(r(409));var s=i.current,l=Rn();oE(s,l,e,i,null,null)},Th.prototype.unmount=Lm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;oE(e.current,2,null,e,null,null),eh(),i[di]=null}};function Th(e){this._internalRoot=e}Th.prototype.unstable_scheduleHydration=function(e){if(e){var i=ec();e={blockedOn:null,target:e,priority:i};for(var s=0;s<Hr.length&&i!==0&&i<Hr[s].priority;s++);Hr.splice(s,0,e),s===0&&dE(e)}};var yE=t.version;if(yE!=="19.2.4")throw Error(r(527,yE,"19.2.4"));ht.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=p(i),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var Zw={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:tt,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sh.isDisabled&&Sh.supportsFiber)try{Qn=Sh.inject(Zw),He=Sh}catch{}}return Zl.createRoot=function(e,i){if(!o(e))throw Error(r(299));var s=!1,l="",f=b_,d=w_,_=R_;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=aE(e,1,!1,null,null,s,l,null,f,d,_,pE),e[di]=i.current,_m(e),new Lm(i)},Zl.hydrateRoot=function(e,i,s){if(!o(e))throw Error(r(299));var l=!1,f="",d=b_,_=w_,S=R_,x=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(S=s.onRecoverableError),s.formState!==void 0&&(x=s.formState)),i=aE(e,1,!0,i,s??null,l,f,x,d,_,S,pE),i.context=sE(null),s=i.current,l=Rn(),l=ya(l),f=xr(l),f.callback=null,Dr(s,f,l),s=l,i.current.lanes=s,ga(i,s),xi(i),e[di]=i.current,_m(e),new Th(i)},Zl.version="19.2.4",Zl}var IE;function c1(){if(IE)return km.exports;IE=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),km.exports=u1(),km.exports}var h1=c1();var CE="popstate";function f1(a={}){function t(o,u){let{pathname:c="/",search:m="",hash:g=""}=fs(o.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),og("",{pathname:c,search:m,hash:g},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let c=o.document.querySelector("base"),m="";if(c&&c.getAttribute("href")){let g=o.location.href,p=g.indexOf("#");m=p===-1?g:g.slice(0,p)}return m+"#"+(typeof u=="string"?u:Tu(u))}function r(o,u){oi(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return m1(t,n,r,a)}function de(a,t){if(a===!1||a===null||typeof a>"u")throw new Error(t)}function oi(a,t){if(!a){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function d1(){return Math.random().toString(36).substring(2,10)}function xE(a,t){return{usr:a.state,key:a.key,idx:t}}function og(a,t,n=null,r){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof t=="string"?fs(t):t,state:n,key:t&&t.key||r||d1()}}function Tu({pathname:a="/",search:t="",hash:n=""}){return t&&t!=="?"&&(a+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(a+=n.charAt(0)==="#"?n:"#"+n),a}function fs(a){let t={};if(a){let n=a.indexOf("#");n>=0&&(t.hash=a.substring(n),a=a.substring(0,n));let r=a.indexOf("?");r>=0&&(t.search=a.substring(r),a=a.substring(0,r)),a&&(t.pathname=a)}return t}function m1(a,t,n,r={}){let{window:o=document.defaultView,v5Compat:u=!1}=r,c=o.history,m="POP",g=null,p=v();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function v(){return(c.state||{idx:null}).idx}function T(){m="POP";let K=v(),z=K==null?null:K-p;p=K,g&&g({action:m,location:Q.location,delta:z})}function b(K,z){m="PUSH";let H=og(Q.location,K,z);n&&n(H,K),p=v()+1;let J=xE(H,p),et=Q.createHref(H);try{c.pushState(J,"",et)}catch(at){if(at instanceof DOMException&&at.name==="DataCloneError")throw at;o.location.assign(et)}u&&g&&g({action:m,location:Q.location,delta:1})}function D(K,z){m="REPLACE";let H=og(Q.location,K,z);n&&n(H,K),p=v();let J=xE(H,p),et=Q.createHref(H);c.replaceState(J,"",et),u&&g&&g({action:m,location:Q.location,delta:0})}function G(K){return g1(K)}let Q={get action(){return m},get location(){return a(o,c)},listen(K){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(CE,T),g=K,()=>{o.removeEventListener(CE,T),g=null}},createHref(K){return t(o,K)},createURL:G,encodeLocation(K){let z=G(K);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:b,replace:D,go(K){return c.go(K)}};return Q}function g1(a,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),de(n,"No window.location.(origin|href) available to create URL");let r=typeof a=="string"?a:Tu(a);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function m0(a,t,n="/"){return p1(a,t,n,!1)}function p1(a,t,n,r){let o=typeof t=="string"?fs(t):t,u=sr(o.pathname||"/",n);if(u==null)return null;let c=g0(a);y1(c);let m=null;for(let g=0;m==null&&g<c.length;++g){let p=C1(u);m=R1(c[g],p,r)}return m}function g0(a,t=[],n=[],r="",o=!1){let u=(c,m,g=o,p)=>{let v={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:m,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(r)&&g)return;de(v.relativePath.startsWith(r),`Absolute route path "${v.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(r.length)}let T=rr([r,v.relativePath]),b=n.concat(v);c.children&&c.children.length>0&&(de(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),g0(c.children,t,b,T,g)),!(c.path==null&&!c.index)&&t.push({path:T,score:b1(T,c.index),routesMeta:b})};return a.forEach((c,m)=>{if(c.path===""||!c.path?.includes("?"))u(c,m);else for(let g of p0(c.path))u(c,m,!0,g)}),t}function p0(a){let t=a.split("/");if(t.length===0)return[];let[n,...r]=t,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(r.length===0)return o?[u,""]:[u];let c=p0(r.join("/")),m=[];return m.push(...c.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...c),m.map(g=>a.startsWith("/")&&g===""?"/":g)}function y1(a){a.sort((t,n)=>t.score!==n.score?n.score-t.score:w1(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var _1=/^:[\w-]+$/,v1=3,E1=2,T1=1,S1=10,A1=-2,DE=a=>a==="*";function b1(a,t){let n=a.split("/"),r=n.length;return n.some(DE)&&(r+=A1),t&&(r+=E1),n.filter(o=>!DE(o)).reduce((o,u)=>o+(_1.test(u)?v1:u===""?T1:S1),r)}function w1(a,t){return a.length===t.length&&a.slice(0,-1).every((r,o)=>r===t[o])?a[a.length-1]-t[t.length-1]:0}function R1(a,t,n=!1){let{routesMeta:r}=a,o={},u="/",c=[];for(let m=0;m<r.length;++m){let g=r[m],p=m===r.length-1,v=u==="/"?t:t.slice(u.length)||"/",T=Gh({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},v),b=g.route;if(!T&&p&&n&&!r[r.length-1].route.index&&(T=Gh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},v)),!T)return null;Object.assign(o,T.params),c.push({params:o,pathname:rr([u,T.pathname]),pathnameBase:N1(rr([u,T.pathnameBase])),route:b}),T.pathnameBase!=="/"&&(u=rr([u,T.pathnameBase]))}return c}function Gh(a,t){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[n,r]=I1(a.path,a.caseSensitive,a.end),o=t.match(n);if(!o)return null;let u=o[0],c=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:r.reduce((p,{paramName:v,isOptional:T},b)=>{if(v==="*"){let G=m[b]||"";c=u.slice(0,u.length-G.length).replace(/(.)\/+$/,"$1")}const D=m[b];return T&&!D?p[v]=void 0:p[v]=(D||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:c,pattern:a}}function I1(a,t=!1,n=!0){oi(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let r=[],o="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,m,g)=>(r.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return a.endsWith("*")?(r.push({paramName:"*"}),o+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":a!==""&&a!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}function C1(a){try{return a.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return oi(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),a}}function sr(a,t){if(t==="/")return a;if(!a.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=a.charAt(n);return r&&r!=="/"?null:a.slice(n)||"/"}var x1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function D1(a,t="/"){let{pathname:n,search:r="",hash:o=""}=typeof a=="string"?fs(a):a,u;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?u=VE(n.substring(1),"/"):u=VE(n,t)):u=t,{pathname:u,search:O1(r),hash:M1(o)}}function VE(a,t){let n=t.replace(/\/+$/,"").split("/");return a.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Hm(a,t,n,r){return`Cannot include a '${a}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function V1(a){return a.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function y0(a){let t=V1(a);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function _0(a,t,n,r=!1){let o;typeof a=="string"?o=fs(a):(o={...a},de(!o.pathname||!o.pathname.includes("?"),Hm("?","pathname","search",o)),de(!o.pathname||!o.pathname.includes("#"),Hm("#","pathname","hash",o)),de(!o.search||!o.search.includes("#"),Hm("#","search","hash",o)));let u=a===""||o.pathname==="",c=u?"/":o.pathname,m;if(c==null)m=n;else{let T=t.length-1;if(!r&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),T-=1;o.pathname=b.join("/")}m=T>=0?t[T]:"/"}let g=D1(o,m),p=c&&c!=="/"&&c.endsWith("/"),v=(u||c===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(p||v)&&(g.pathname+="/"),g}var rr=a=>a.join("/").replace(/\/\/+/g,"/"),N1=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),O1=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,M1=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a,P1=class{constructor(a,t,n,r=!1){this.status=a,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function z1(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}function L1(a){return a.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var v0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function E0(a,t){let n=a;if(typeof n!="string"||!x1.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,o=!1;if(v0)try{let u=new URL(window.location.href),c=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=sr(c.pathname,t);c.origin===u.origin&&m!=null?n=m+c.search+c.hash:o=!0}catch{oi(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var T0=["POST","PUT","PATCH","DELETE"];new Set(T0);var U1=["GET",...T0];new Set(U1);var Bo=Y.createContext(null);Bo.displayName="DataRouter";var gf=Y.createContext(null);gf.displayName="DataRouterState";var B1=Y.createContext(!1),S0=Y.createContext({isTransitioning:!1});S0.displayName="ViewTransition";var k1=Y.createContext(new Map);k1.displayName="Fetchers";var j1=Y.createContext(null);j1.displayName="Await";var Kn=Y.createContext(null);Kn.displayName="Navigation";var Lu=Y.createContext(null);Lu.displayName="Location";var Li=Y.createContext({outlet:null,matches:[],isDataRoute:!1});Li.displayName="Route";var Kg=Y.createContext(null);Kg.displayName="RouteError";var A0="REACT_ROUTER_ERROR",q1="REDIRECT",F1="ROUTE_ERROR_RESPONSE";function H1(a){if(a.startsWith(`${A0}:${q1}:{`))try{let t=JSON.parse(a.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function G1(a){if(a.startsWith(`${A0}:${F1}:{`))try{let t=JSON.parse(a.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new P1(t.status,t.statusText,t.data)}catch{}}function K1(a,{relative:t}={}){de(Uu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=Y.useContext(Kn),{hash:o,pathname:u,search:c}=Bu(a,{relative:t}),m=u;return n!=="/"&&(m=u==="/"?n:rr([n,u])),r.createHref({pathname:m,search:c,hash:o})}function Uu(){return Y.useContext(Lu)!=null}function sa(){return de(Uu(),"useLocation() may be used only in the context of a <Router> component."),Y.useContext(Lu).location}var b0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function w0(a){Y.useContext(Kn).static||Y.useLayoutEffect(a)}function Qg(){let{isDataRoute:a}=Y.useContext(Li);return a?oR():Q1()}function Q1(){de(Uu(),"useNavigate() may be used only in the context of a <Router> component.");let a=Y.useContext(Bo),{basename:t,navigator:n}=Y.useContext(Kn),{matches:r}=Y.useContext(Li),{pathname:o}=sa(),u=JSON.stringify(y0(r)),c=Y.useRef(!1);return w0(()=>{c.current=!0}),Y.useCallback((g,p={})=>{if(oi(c.current,b0),!c.current)return;if(typeof g=="number"){n.go(g);return}let v=_0(g,JSON.parse(u),o,p.relative==="path");a==null&&t!=="/"&&(v.pathname=v.pathname==="/"?t:rr([t,v.pathname])),(p.replace?n.replace:n.push)(v,p.state,p)},[t,n,u,o,a])}var Y1=Y.createContext(null);function X1(a){let t=Y.useContext(Li).outlet;return Y.useMemo(()=>t&&Y.createElement(Y1.Provider,{value:a},t),[t,a])}function Bu(a,{relative:t}={}){let{matches:n}=Y.useContext(Li),{pathname:r}=sa(),o=JSON.stringify(y0(n));return Y.useMemo(()=>_0(a,JSON.parse(o),r,t==="path"),[a,o,r,t])}function $1(a,t){return R0(a,t)}function R0(a,t,n,r,o){de(Uu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=Y.useContext(Kn),{matches:c}=Y.useContext(Li),m=c[c.length-1],g=m?m.params:{},p=m?m.pathname:"/",v=m?m.pathnameBase:"/",T=m&&m.route;{let H=T&&T.path||"";C0(p,!T||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let b=sa(),D;if(t){let H=typeof t=="string"?fs(t):t;de(v==="/"||H.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${H.pathname}" was given in the \`location\` prop.`),D=H}else D=b;let G=D.pathname||"/",Q=G;if(v!=="/"){let H=v.replace(/^\//,"").split("/");Q="/"+G.replace(/^\//,"").split("/").slice(H.length).join("/")}let K=m0(a,{pathname:Q});oi(T||K!=null,`No routes matched location "${D.pathname}${D.search}${D.hash}" `),oi(K==null||K[K.length-1].route.element!==void 0||K[K.length-1].route.Component!==void 0||K[K.length-1].route.lazy!==void 0,`Matched leaf route at location "${D.pathname}${D.search}${D.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let z=eR(K&&K.map(H=>Object.assign({},H,{params:Object.assign({},g,H.params),pathname:rr([v,u.encodeLocation?u.encodeLocation(H.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?v:rr([v,u.encodeLocation?u.encodeLocation(H.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:H.pathnameBase])})),c,n,r,o);return t&&z?Y.createElement(Lu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...D},navigationType:"POP"}},z):z}function J1(){let a=sR(),t=z1(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),n=a instanceof Error?a.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},u={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",a),c=Y.createElement(Y.Fragment,null,Y.createElement("p",null," Hey developer "),Y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Y.createElement("code",{style:u},"ErrorBoundary")," or"," ",Y.createElement("code",{style:u},"errorElement")," prop on your route.")),Y.createElement(Y.Fragment,null,Y.createElement("h2",null,"Unexpected Application Error!"),Y.createElement("h3",{style:{fontStyle:"italic"}},t),n?Y.createElement("pre",{style:o},n):null,c)}var Z1=Y.createElement(J1,null),I0=class extends Y.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,t){return t.location!==a.location||t.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:t.error,location:t.location,revalidation:a.revalidation||t.revalidation}}componentDidCatch(a,t){this.props.onError?this.props.onError(a,t):console.error("React Router caught the following error during render",a)}render(){let a=this.state.error;if(this.context&&typeof a=="object"&&a&&"digest"in a&&typeof a.digest=="string"){const n=G1(a.digest);n&&(a=n)}let t=a!==void 0?Y.createElement(Li.Provider,{value:this.props.routeContext},Y.createElement(Kg.Provider,{value:a,children:this.props.component})):this.props.children;return this.context?Y.createElement(W1,{error:a},t):t}};I0.contextType=B1;var Gm=new WeakMap;function W1({children:a,error:t}){let{basename:n}=Y.useContext(Kn);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let r=H1(t.digest);if(r){let o=Gm.get(t);if(o)throw o;let u=E0(r.location,n);if(v0&&!Gm.get(t))if(u.isExternal||r.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:r.replace}));throw Gm.set(t,c),c}return Y.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return a}function tR({routeContext:a,match:t,children:n}){let r=Y.useContext(Bo);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),Y.createElement(Li.Provider,{value:a},n)}function eR(a,t=[],n=null,r=null,o=null){if(a==null){if(!n)return null;if(n.errors)a=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)a=n.matches;else return null}let u=a,c=n?.errors;if(c!=null){let v=u.findIndex(T=>T.route.id&&c?.[T.route.id]!==void 0);de(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),u=u.slice(0,Math.min(u.length,v+1))}let m=!1,g=-1;if(n)for(let v=0;v<u.length;v++){let T=u[v];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(g=v),T.route.id){let{loaderData:b,errors:D}=n,G=T.route.loader&&!b.hasOwnProperty(T.route.id)&&(!D||D[T.route.id]===void 0);if(T.route.lazy||G){m=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}let p=n&&r?(v,T)=>{r(v,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:L1(n.matches),errorInfo:T})}:void 0;return u.reduceRight((v,T,b)=>{let D,G=!1,Q=null,K=null;n&&(D=c&&T.route.id?c[T.route.id]:void 0,Q=T.route.errorElement||Z1,m&&(g<0&&b===0?(C0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),G=!0,K=null):g===b&&(G=!0,K=T.route.hydrateFallbackElement||null)));let z=t.concat(u.slice(0,b+1)),H=()=>{let J;return D?J=Q:G?J=K:T.route.Component?J=Y.createElement(T.route.Component,null):T.route.element?J=T.route.element:J=v,Y.createElement(tR,{match:T,routeContext:{outlet:v,matches:z,isDataRoute:n!=null},children:J})};return n&&(T.route.ErrorBoundary||T.route.errorElement||b===0)?Y.createElement(I0,{location:n.location,revalidation:n.revalidation,component:Q,error:D,children:H(),routeContext:{outlet:null,matches:z,isDataRoute:!0},onError:p}):H()},null)}function Yg(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nR(a){let t=Y.useContext(Bo);return de(t,Yg(a)),t}function iR(a){let t=Y.useContext(gf);return de(t,Yg(a)),t}function rR(a){let t=Y.useContext(Li);return de(t,Yg(a)),t}function Xg(a){let t=rR(a),n=t.matches[t.matches.length-1];return de(n.route.id,`${a} can only be used on routes that contain a unique "id"`),n.route.id}function aR(){return Xg("useRouteId")}function sR(){let a=Y.useContext(Kg),t=iR("useRouteError"),n=Xg("useRouteError");return a!==void 0?a:t.errors?.[n]}function oR(){let{router:a}=nR("useNavigate"),t=Xg("useNavigate"),n=Y.useRef(!1);return w0(()=>{n.current=!0}),Y.useCallback(async(o,u={})=>{oi(n.current,b0),n.current&&(typeof o=="number"?await a.navigate(o):await a.navigate(o,{fromRouteId:t,...u}))},[a,t])}var NE={};function C0(a,t,n){!t&&!NE[a]&&(NE[a]=!0,oi(!1,n))}Y.memo(lR);function lR({routes:a,future:t,state:n,onError:r}){return R0(a,void 0,n,r,t)}function uR(a){return X1(a.context)}function Fa(a){de(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function cR({basename:a="/",children:t=null,location:n,navigationType:r="POP",navigator:o,static:u=!1,unstable_useTransitions:c}){de(!Uu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=a.replace(/^\/*/,"/"),g=Y.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:c,future:{}}),[m,o,u,c]);typeof n=="string"&&(n=fs(n));let{pathname:p="/",search:v="",hash:T="",state:b=null,key:D="default"}=n,G=Y.useMemo(()=>{let Q=sr(p,m);return Q==null?null:{location:{pathname:Q,search:v,hash:T,state:b,key:D},navigationType:r}},[m,p,v,T,b,D,r]);return oi(G!=null,`<Router basename="${m}"> is not able to match the URL "${p}${v}${T}" because it does not start with the basename, so the <Router> won't render anything.`),G==null?null:Y.createElement(Kn.Provider,{value:g},Y.createElement(Lu.Provider,{children:t,value:G}))}function hR({children:a,location:t}){return $1(lg(a),t)}function lg(a,t=[]){let n=[];return Y.Children.forEach(a,(r,o)=>{if(!Y.isValidElement(r))return;let u=[...t,o];if(r.type===Y.Fragment){n.push.apply(n,lg(r.props.children,u));return}de(r.type===Fa,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),de(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=lg(r.props.children,u)),n.push(c)}),n}var Vh="get",Nh="application/x-www-form-urlencoded";function pf(a){return typeof HTMLElement<"u"&&a instanceof HTMLElement}function fR(a){return pf(a)&&a.tagName.toLowerCase()==="button"}function dR(a){return pf(a)&&a.tagName.toLowerCase()==="form"}function mR(a){return pf(a)&&a.tagName.toLowerCase()==="input"}function gR(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function pR(a,t){return a.button===0&&(!t||t==="_self")&&!gR(a)}var Ah=null;function yR(){if(Ah===null)try{new FormData(document.createElement("form"),0),Ah=!1}catch{Ah=!0}return Ah}var _R=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Km(a){return a!=null&&!_R.has(a)?(oi(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Nh}"`),null):a}function vR(a,t){let n,r,o,u,c;if(dR(a)){let m=a.getAttribute("action");r=m?sr(m,t):null,n=a.getAttribute("method")||Vh,o=Km(a.getAttribute("enctype"))||Nh,u=new FormData(a)}else if(fR(a)||mR(a)&&(a.type==="submit"||a.type==="image")){let m=a.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=a.getAttribute("formaction")||m.getAttribute("action");if(r=g?sr(g,t):null,n=a.getAttribute("formmethod")||m.getAttribute("method")||Vh,o=Km(a.getAttribute("formenctype"))||Km(m.getAttribute("enctype"))||Nh,u=new FormData(m,a),!yR()){let{name:p,type:v,value:T}=a;if(v==="image"){let b=p?`${p}.`:"";u.append(`${b}x`,"0"),u.append(`${b}y`,"0")}else p&&u.append(p,T)}}else{if(pf(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Vh,r=null,o=Nh,c=a}return u&&o==="text/plain"&&(c=u,u=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:u,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function $g(a,t){if(a===!1||a===null||typeof a>"u")throw new Error(t)}function ER(a,t,n,r){let o=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${r}`:o.pathname=`${o.pathname}.${r}`:o.pathname==="/"?o.pathname=`_root.${r}`:t&&sr(o.pathname,t)==="/"?o.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${r}`,o}async function TR(a,t){if(a.id in t)return t[a.id];try{let n=await import(a.module);return t[a.id]=n,n}catch(n){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function SR(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function AR(a,t,n){let r=await Promise.all(a.map(async o=>{let u=t.routes[o.route.id];if(u){let c=await TR(u,n);return c.links?c.links():[]}return[]}));return IR(r.flat(1).filter(SR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function OE(a,t,n,r,o,u){let c=(g,p)=>n[p]?g.route.id!==n[p].route.id:!0,m=(g,p)=>n[p].pathname!==g.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==g.params["*"];return u==="assets"?t.filter((g,p)=>c(g,p)||m(g,p)):u==="data"?t.filter((g,p)=>{let v=r.routes[g.route.id];if(!v||!v.hasLoader)return!1;if(c(g,p)||m(g,p))return!0;if(g.route.shouldRevalidate){let T=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(a,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function bR(a,t,{includeHydrateFallback:n}={}){return wR(a.map(r=>{let o=t.routes[r.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function wR(a){return[...new Set(a)]}function RR(a){let t={},n=Object.keys(a).sort();for(let r of n)t[r]=a[r];return t}function IR(a,t){let n=new Set;return new Set(t),a.reduce((r,o)=>{let u=JSON.stringify(RR(o));return n.has(u)||(n.add(u),r.push({key:u,link:o})),r},[])}function x0(){let a=Y.useContext(Bo);return $g(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function CR(){let a=Y.useContext(gf);return $g(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var Jg=Y.createContext(void 0);Jg.displayName="FrameworkContext";function D0(){let a=Y.useContext(Jg);return $g(a,"You must render this element inside a <HydratedRouter> element"),a}function xR(a,t){let n=Y.useContext(Jg),[r,o]=Y.useState(!1),[u,c]=Y.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:p,onMouseLeave:v,onTouchStart:T}=t,b=Y.useRef(null);Y.useEffect(()=>{if(a==="render"&&c(!0),a==="viewport"){let Q=z=>{z.forEach(H=>{c(H.isIntersecting)})},K=new IntersectionObserver(Q,{threshold:.5});return b.current&&K.observe(b.current),()=>{K.disconnect()}}},[a]),Y.useEffect(()=>{if(r){let Q=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(Q)}}},[r]);let D=()=>{o(!0)},G=()=>{o(!1),c(!1)};return n?a!=="intent"?[u,b,{}]:[u,b,{onFocus:Wl(m,D),onBlur:Wl(g,G),onMouseEnter:Wl(p,D),onMouseLeave:Wl(v,G),onTouchStart:Wl(T,D)}]:[!1,b,{}]}function Wl(a,t){return n=>{a&&a(n),n.defaultPrevented||t(n)}}function DR({page:a,...t}){let{router:n}=x0(),r=Y.useMemo(()=>m0(n.routes,a,n.basename),[n.routes,a,n.basename]);return r?Y.createElement(NR,{page:a,matches:r,...t}):null}function VR(a){let{manifest:t,routeModules:n}=D0(),[r,o]=Y.useState([]);return Y.useEffect(()=>{let u=!1;return AR(a,t,n).then(c=>{u||o(c)}),()=>{u=!0}},[a,t,n]),r}function NR({page:a,matches:t,...n}){let r=sa(),{future:o,manifest:u,routeModules:c}=D0(),{basename:m}=x0(),{loaderData:g,matches:p}=CR(),v=Y.useMemo(()=>OE(a,t,p,u,r,"data"),[a,t,p,u,r]),T=Y.useMemo(()=>OE(a,t,p,u,r,"assets"),[a,t,p,u,r]),b=Y.useMemo(()=>{if(a===r.pathname+r.search+r.hash)return[];let Q=new Set,K=!1;if(t.forEach(H=>{let J=u.routes[H.route.id];!J||!J.hasLoader||(!v.some(et=>et.route.id===H.route.id)&&H.route.id in g&&c[H.route.id]?.shouldRevalidate||J.hasClientLoader?K=!0:Q.add(H.route.id))}),Q.size===0)return[];let z=ER(a,m,o.unstable_trailingSlashAwareDataRequests,"data");return K&&Q.size>0&&z.searchParams.set("_routes",t.filter(H=>Q.has(H.route.id)).map(H=>H.route.id).join(",")),[z.pathname+z.search]},[m,o.unstable_trailingSlashAwareDataRequests,g,r,u,v,t,a,c]),D=Y.useMemo(()=>bR(T,u),[T,u]),G=VR(T);return Y.createElement(Y.Fragment,null,b.map(Q=>Y.createElement("link",{key:Q,rel:"prefetch",as:"fetch",href:Q,...n})),D.map(Q=>Y.createElement("link",{key:Q,rel:"modulepreload",href:Q,...n})),G.map(({key:Q,link:K})=>Y.createElement("link",{key:Q,nonce:n.nonce,...K,crossOrigin:K.crossOrigin??n.crossOrigin})))}function OR(...a){return t=>{a.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var MR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{MR&&(window.__reactRouterVersion="7.13.0")}catch{}function PR({basename:a,children:t,unstable_useTransitions:n,window:r}){let o=Y.useRef();o.current==null&&(o.current=f1({window:r,v5Compat:!0}));let u=o.current,[c,m]=Y.useState({action:u.action,location:u.location}),g=Y.useCallback(p=>{n===!1?m(p):Y.startTransition(()=>m(p))},[n]);return Y.useLayoutEffect(()=>u.listen(g),[u,g]),Y.createElement(cR,{basename:a,children:t,location:c.location,navigationType:c.action,navigator:u,unstable_useTransitions:n})}var V0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,N0=Y.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:o,reloadDocument:u,replace:c,state:m,target:g,to:p,preventScrollReset:v,viewTransition:T,unstable_defaultShouldRevalidate:b,...D},G){let{basename:Q,unstable_useTransitions:K}=Y.useContext(Kn),z=typeof p=="string"&&V0.test(p),H=E0(p,Q);p=H.to;let J=K1(p,{relative:o}),[et,at,ot]=xR(r,D),R=BR(p,{replace:c,state:m,target:g,preventScrollReset:v,relative:o,viewTransition:T,unstable_defaultShouldRevalidate:b,unstable_useTransitions:K});function w(M){t&&t(M),M.defaultPrevented||R(M)}let I=Y.createElement("a",{...D,...ot,href:H.absoluteURL||J,onClick:H.isExternal||u?t:w,ref:OR(G,at),target:g,"data-discover":!z&&n==="render"?"true":void 0});return et&&!z?Y.createElement(Y.Fragment,null,I,Y.createElement(DR,{page:J})):I});N0.displayName="Link";var zR=Y.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:o=!1,style:u,to:c,viewTransition:m,children:g,...p},v){let T=Bu(c,{relative:p.relative}),b=sa(),D=Y.useContext(gf),{navigator:G,basename:Q}=Y.useContext(Kn),K=D!=null&&HR(T)&&m===!0,z=G.encodeLocation?G.encodeLocation(T).pathname:T.pathname,H=b.pathname,J=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;n||(H=H.toLowerCase(),J=J?J.toLowerCase():null,z=z.toLowerCase()),J&&Q&&(J=sr(J,Q)||J);const et=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let at=H===z||!o&&H.startsWith(z)&&H.charAt(et)==="/",ot=J!=null&&(J===z||!o&&J.startsWith(z)&&J.charAt(z.length)==="/"),R={isActive:at,isPending:ot,isTransitioning:K},w=at?t:void 0,I;typeof r=="function"?I=r(R):I=[r,at?"active":null,ot?"pending":null,K?"transitioning":null].filter(Boolean).join(" ");let M=typeof u=="function"?u(R):u;return Y.createElement(N0,{...p,"aria-current":w,className:I,ref:v,style:M,to:c,viewTransition:m},typeof g=="function"?g(R):g)});zR.displayName="NavLink";var LR=Y.forwardRef(({discover:a="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:o,state:u,method:c=Vh,action:m,onSubmit:g,relative:p,preventScrollReset:v,viewTransition:T,unstable_defaultShouldRevalidate:b,...D},G)=>{let{unstable_useTransitions:Q}=Y.useContext(Kn),K=qR(),z=FR(m,{relative:p}),H=c.toLowerCase()==="get"?"get":"post",J=typeof m=="string"&&V0.test(m),et=at=>{if(g&&g(at),at.defaultPrevented)return;at.preventDefault();let ot=at.nativeEvent.submitter,R=ot?.getAttribute("formmethod")||c,w=()=>K(ot||at.currentTarget,{fetcherKey:t,method:R,navigate:n,replace:o,state:u,relative:p,preventScrollReset:v,viewTransition:T,unstable_defaultShouldRevalidate:b});Q&&n!==!1?Y.startTransition(()=>w()):w()};return Y.createElement("form",{ref:G,method:H,action:z,onSubmit:r?g:et,...D,"data-discover":!J&&a==="render"?"true":void 0})});LR.displayName="Form";function UR(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function O0(a){let t=Y.useContext(Bo);return de(t,UR(a)),t}function BR(a,{target:t,replace:n,state:r,preventScrollReset:o,relative:u,viewTransition:c,unstable_defaultShouldRevalidate:m,unstable_useTransitions:g}={}){let p=Qg(),v=sa(),T=Bu(a,{relative:u});return Y.useCallback(b=>{if(pR(b,t)){b.preventDefault();let D=n!==void 0?n:Tu(v)===Tu(T),G=()=>p(a,{replace:D,state:r,preventScrollReset:o,relative:u,viewTransition:c,unstable_defaultShouldRevalidate:m});g?Y.startTransition(()=>G()):G()}},[v,p,T,n,r,t,a,o,u,c,m,g])}var kR=0,jR=()=>`__${String(++kR)}__`;function qR(){let{router:a}=O0("useSubmit"),{basename:t}=Y.useContext(Kn),n=aR(),r=a.fetch,o=a.navigate;return Y.useCallback(async(u,c={})=>{let{action:m,method:g,encType:p,formData:v,body:T}=vR(u,t);if(c.navigate===!1){let b=c.fetcherKey||jR();await r(b,n,c.action||m,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:T,formMethod:c.method||g,formEncType:c.encType||p,flushSync:c.flushSync})}else await o(c.action||m,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:T,formMethod:c.method||g,formEncType:c.encType||p,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[r,o,t,n])}function FR(a,{relative:t}={}){let{basename:n}=Y.useContext(Kn),r=Y.useContext(Li);de(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),u={...Bu(a||".",{relative:t})},c=sa();if(a==null){u.search=c.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(v=>v==="")){m.delete("index"),g.filter(T=>T).forEach(T=>m.append("index",T));let v=m.toString();u.search=v?`?${v}`:""}}return(!a||a===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:rr([n,u.pathname])),Tu(u)}function HR(a,{relative:t}={}){let n=Y.useContext(S0);de(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=O0("useViewTransitionState"),o=Bu(a,{relative:t});if(!n.isTransitioning)return!1;let u=sr(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=sr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Gh(o.pathname,c)!=null||Gh(o.pathname,u)!=null}const GR=()=>{const a=Qg(),n=sa().pathname==="/";return r1.useEffect(()=>{const r=async()=>{try{const c=await fetch("/version.json?t="+new Date().getTime());if(!c.ok)return;const g=(await c.json()).buildTime,p=localStorage.getItem("app_version_timestamp");p&&g>parseInt(p)?(console.log("New version detected. Reloading..."),localStorage.setItem("app_version_timestamp",g),window.location.reload()):p||localStorage.setItem("app_version_timestamp",g)}catch(c){console.error("Failed to check version:",c)}};r();const o=setInterval(r,6e4),u=()=>r();return window.addEventListener("focus",u),()=>{clearInterval(o),window.removeEventListener("focus",u)}},[]),U.jsxs("div",{className:"min-h-screen bg-gray-100 font-sans text-gray-900 relative overflow-hidden",children:[!n&&U.jsx("button",{onClick:()=>a("/"),className:"absolute top-4 left-4 z-50 p-2 bg-white/80 backdrop-blur-sm rounded-full shadow-lg hover:bg-white transition-all active:scale-95","aria-label":"Back to Top",children:U.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:U.jsx("polyline",{points:"15 18 9 12 15 6"})})}),U.jsx(uR,{})]})},KR=()=>{const a=Qg(),t=[{title:`
`,path:"/dashboard",className:"item-1"},{title:`
&
`,path:"/order",className:"item-2"},{title:"",path:"/kitchen",className:"item-3"},{title:"",path:"/extras",className:"item-4"}];return U.jsxs("div",{className:"top-menu-wrapper",children:[U.jsx("h1",{className:"top-menu-title",children:"Kcha-order-pro"}),U.jsx("div",{className:"top-menu-grid",children:t.map((n,r)=>U.jsx("button",{onClick:()=>a(n.path),className:`menu-item ${n.className}`,children:n.title},r))})]})},QR=()=>{};var ME={};const M0=function(a){const t=[];let n=0;for(let r=0;r<a.length;r++){let o=a.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&r+1<a.length&&(a.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++r)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},YR=function(a){const t=[];let n=0,r=0;for(;n<a.length;){const o=a[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=a[n++];t[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=a[n++],c=a[n++],m=a[n++],g=((o&7)<<18|(u&63)<<12|(c&63)<<6|m&63)-65536;t[r++]=String.fromCharCode(55296+(g>>10)),t[r++]=String.fromCharCode(56320+(g&1023))}else{const u=a[n++],c=a[n++];t[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return t.join("")},P0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,t){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<a.length;o+=3){const u=a[o],c=o+1<a.length,m=c?a[o+1]:0,g=o+2<a.length,p=g?a[o+2]:0,v=u>>2,T=(u&3)<<4|m>>4;let b=(m&15)<<2|p>>6,D=p&63;g||(D=64,c||(b=64)),r.push(n[v],n[T],n[b],n[D])}return r.join("")},encodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(a):this.encodeByteArray(M0(a),t)},decodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(a):YR(this.decodeStringToByteArray(a,t))},decodeStringToByteArray(a,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<a.length;){const u=n[a.charAt(o++)],m=o<a.length?n[a.charAt(o)]:0;++o;const p=o<a.length?n[a.charAt(o)]:64;++o;const T=o<a.length?n[a.charAt(o)]:64;if(++o,u==null||m==null||p==null||T==null)throw new XR;const b=u<<2|m>>4;if(r.push(b),p!==64){const D=m<<4&240|p>>2;if(r.push(D),T!==64){const G=p<<6&192|T;r.push(G)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class XR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $R=function(a){const t=M0(a);return P0.encodeByteArray(t,!0)},z0=function(a){return $R(a).replace(/\./g,"")},JR=function(a){try{return P0.decodeString(a,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function L0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const ZR=()=>L0().__FIREBASE_DEFAULTS__,WR=()=>{if(typeof process>"u"||typeof ME>"u")return;const a=ME.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},tI=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=a&&JR(a[1]);return t&&JSON.parse(t)},U0=()=>{try{return QR()||ZR()||WR()||tI()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},eI=()=>U0()?.config;class nI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}function B0(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function iI(a){return(await fetch(a,{credentials:"include"})).ok}function Kh(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function k0(){const a=U0()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function j0(){return!k0()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function q0(){return!k0()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function F0(){try{return typeof indexedDB=="object"}catch{return!1}}function rI(){return new Promise((a,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),a(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(n){t(n)}})}const aI="FirebaseError";class ko extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=aI,Object.setPrototypeOf(this,ko.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,H0.prototype.create)}}class H0{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],c=u?sI(u,r):"Error",m=`${this.serviceName}: ${c} (${o}).`;return new ko(o,m,r)}}function sI(a,t){return a.replace(oI,(n,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const oI=/\{\$([^}]+)}/g;function Qh(a,t){if(a===t)return!0;const n=Object.keys(a),r=Object.keys(t);for(const o of n){if(!r.includes(o))return!1;const u=a[o],c=t[o];if(PE(u)&&PE(c)){if(!Qh(u,c))return!1}else if(u!==c)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function PE(a){return a!==null&&typeof a=="object"}function Pi(a){return a&&a._delegate?a._delegate:a}class Su{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Ha="[DEFAULT]";class lI{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new nI;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(cI(t))try{this.getOrInitializeService({instanceIdentifier:Ha})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(t=Ha){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ha){return this.instances.has(t)}getOptions(t=Ha){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,c]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);r===m&&c.resolve(o)}return o}onInit(t,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(t),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&t(u,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:uI(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Ha){return this.component?this.component.multipleInstances?t:Ha:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function uI(a){return a===Ha?void 0:a}function cI(a){return a.instantiationMode==="EAGER"}class hI{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new lI(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var Bt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Bt||(Bt={}));const fI={debug:Bt.DEBUG,verbose:Bt.VERBOSE,info:Bt.INFO,warn:Bt.WARN,error:Bt.ERROR,silent:Bt.SILENT},dI=Bt.INFO,mI={[Bt.DEBUG]:"log",[Bt.VERBOSE]:"log",[Bt.INFO]:"info",[Bt.WARN]:"warn",[Bt.ERROR]:"error"},gI=(a,t,...n)=>{if(t<a.logLevel)return;const r=new Date().toISOString(),o=mI[t];if(o)console[o](`[${r}]  ${a.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class G0{constructor(t){this.name=t,this._logLevel=dI,this._logHandler=gI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Bt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?fI[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Bt.DEBUG,...t),this._logHandler(this,Bt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Bt.VERBOSE,...t),this._logHandler(this,Bt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Bt.INFO,...t),this._logHandler(this,Bt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Bt.WARN,...t),this._logHandler(this,Bt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Bt.ERROR,...t),this._logHandler(this,Bt.ERROR,...t)}}const pI=(a,t)=>t.some(n=>a instanceof n);let zE,LE;function yI(){return zE||(zE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _I(){return LE||(LE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const K0=new WeakMap,ug=new WeakMap,Q0=new WeakMap,Qm=new WeakMap,Zg=new WeakMap;function vI(a){const t=new Promise((n,r)=>{const o=()=>{a.removeEventListener("success",u),a.removeEventListener("error",c)},u=()=>{n(Jr(a.result)),o()},c=()=>{r(a.error),o()};a.addEventListener("success",u),a.addEventListener("error",c)});return t.then(n=>{n instanceof IDBCursor&&K0.set(n,a)}).catch(()=>{}),Zg.set(t,a),t}function EI(a){if(ug.has(a))return;const t=new Promise((n,r)=>{const o=()=>{a.removeEventListener("complete",u),a.removeEventListener("error",c),a.removeEventListener("abort",c)},u=()=>{n(),o()},c=()=>{r(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",u),a.addEventListener("error",c),a.addEventListener("abort",c)});ug.set(a,t)}let cg={get(a,t,n){if(a instanceof IDBTransaction){if(t==="done")return ug.get(a);if(t==="objectStoreNames")return a.objectStoreNames||Q0.get(a);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Jr(a[t])},set(a,t,n){return a[t]=n,!0},has(a,t){return a instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in a}};function TI(a){cg=a(cg)}function SI(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=a.call(Ym(this),t,...n);return Q0.set(r,t.sort?t.sort():[t]),Jr(r)}:_I().includes(a)?function(...t){return a.apply(Ym(this),t),Jr(K0.get(this))}:function(...t){return Jr(a.apply(Ym(this),t))}}function AI(a){return typeof a=="function"?SI(a):(a instanceof IDBTransaction&&EI(a),pI(a,yI())?new Proxy(a,cg):a)}function Jr(a){if(a instanceof IDBRequest)return vI(a);if(Qm.has(a))return Qm.get(a);const t=AI(a);return t!==a&&(Qm.set(a,t),Zg.set(t,a)),t}const Ym=a=>Zg.get(a);function bI(a,t,{blocked:n,upgrade:r,blocking:o,terminated:u}={}){const c=indexedDB.open(a,t),m=Jr(c);return r&&c.addEventListener("upgradeneeded",g=>{r(Jr(c.result),g.oldVersion,g.newVersion,Jr(c.transaction),g)}),n&&c.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const wI=["get","getKey","getAll","getAllKeys","count"],RI=["put","add","delete","clear"],Xm=new Map;function UE(a,t){if(!(a instanceof IDBDatabase&&!(t in a)&&typeof t=="string"))return;if(Xm.get(t))return Xm.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,o=RI.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||wI.includes(n)))return;const u=async function(c,...m){const g=this.transaction(c,o?"readwrite":"readonly");let p=g.store;return r&&(p=p.index(m.shift())),(await Promise.all([p[n](...m),o&&g.done]))[0]};return Xm.set(t,u),u}TI(a=>({...a,get:(t,n,r)=>UE(t,n)||a.get(t,n,r),has:(t,n)=>!!UE(t,n)||a.has(t,n)}));class II{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(CI(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function CI(a){return a.getComponent()?.type==="VERSION"}const hg="@firebase/app",BE="0.14.8";const or=new G0("@firebase/app"),xI="@firebase/app-compat",DI="@firebase/analytics-compat",VI="@firebase/analytics",NI="@firebase/app-check-compat",OI="@firebase/app-check",MI="@firebase/auth",PI="@firebase/auth-compat",zI="@firebase/database",LI="@firebase/data-connect",UI="@firebase/database-compat",BI="@firebase/functions",kI="@firebase/functions-compat",jI="@firebase/installations",qI="@firebase/installations-compat",FI="@firebase/messaging",HI="@firebase/messaging-compat",GI="@firebase/performance",KI="@firebase/performance-compat",QI="@firebase/remote-config",YI="@firebase/remote-config-compat",XI="@firebase/storage",$I="@firebase/storage-compat",JI="@firebase/firestore",ZI="@firebase/ai",WI="@firebase/firestore-compat",t2="firebase",e2="12.9.0";const n2="[DEFAULT]",i2={[hg]:"fire-core",[xI]:"fire-core-compat",[VI]:"fire-analytics",[DI]:"fire-analytics-compat",[OI]:"fire-app-check",[NI]:"fire-app-check-compat",[MI]:"fire-auth",[PI]:"fire-auth-compat",[zI]:"fire-rtdb",[LI]:"fire-data-connect",[UI]:"fire-rtdb-compat",[BI]:"fire-fn",[kI]:"fire-fn-compat",[jI]:"fire-iid",[qI]:"fire-iid-compat",[FI]:"fire-fcm",[HI]:"fire-fcm-compat",[GI]:"fire-perf",[KI]:"fire-perf-compat",[QI]:"fire-rc",[YI]:"fire-rc-compat",[XI]:"fire-gcs",[$I]:"fire-gcs-compat",[JI]:"fire-fst",[WI]:"fire-fst-compat",[ZI]:"fire-vertex","fire-js":"fire-js",[t2]:"fire-js-all"};const fg=new Map,r2=new Map,dg=new Map;function kE(a,t){try{a.container.addComponent(t)}catch(n){or.debug(`Component ${t.name} failed to register with FirebaseApp ${a.name}`,n)}}function Yh(a){const t=a.name;if(dg.has(t))return or.debug(`There were multiple attempts to register component ${t}.`),!1;dg.set(t,a);for(const n of fg.values())kE(n,a);for(const n of r2.values())kE(n,a);return!0}function a2(a,t){const n=a.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),a.container.getProvider(t)}function s2(a){return a==null?!1:a.settings!==void 0}const o2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Za=new H0("app","Firebase",o2);class l2{constructor(t,n,r){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Su("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Za.create("app-deleted",{appName:this._name})}}const u2=e2;function c2(a,t={}){let n=a;typeof t!="object"&&(t={name:t});const r={name:n2,automaticDataCollectionEnabled:!0,...t},o=r.name;if(typeof o!="string"||!o)throw Za.create("bad-app-name",{appName:String(o)});if(n||(n=eI()),!n)throw Za.create("no-options");const u=fg.get(o);if(u){if(Qh(n,u.options)&&Qh(r,u.config))return u;throw Za.create("duplicate-app",{appName:o})}const c=new hI(o);for(const g of dg.values())c.addComponent(g);const m=new l2(n,r,c);return fg.set(o,m),m}function po(a,t,n){let r=i2[a]??a;n&&(r+=`-${n}`);const o=r.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const c=[`Unable to register library "${r}" with version "${t}":`];o&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),or.warn(c.join(" "));return}Yh(new Su(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const h2="firebase-heartbeat-database",f2=1,Au="firebase-heartbeat-store";let $m=null;function Y0(){return $m||($m=bI(h2,f2,{upgrade:(a,t)=>{switch(t){case 0:try{a.createObjectStore(Au)}catch(n){console.warn(n)}}}}).catch(a=>{throw Za.create("idb-open",{originalErrorMessage:a.message})})),$m}async function d2(a){try{const n=(await Y0()).transaction(Au),r=await n.objectStore(Au).get(X0(a));return await n.done,r}catch(t){if(t instanceof ko)or.warn(t.message);else{const n=Za.create("idb-get",{originalErrorMessage:t?.message});or.warn(n.message)}}}async function jE(a,t){try{const r=(await Y0()).transaction(Au,"readwrite");await r.objectStore(Au).put(t,X0(a)),await r.done}catch(n){if(n instanceof ko)or.warn(n.message);else{const r=Za.create("idb-set",{originalErrorMessage:n?.message});or.warn(r.message)}}}function X0(a){return`${a.name}!${a.options.appId}`}const m2=1024,g2=30;class p2{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new _2(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=qE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>g2){const o=v2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){or.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=qE(),{heartbeatsToSend:n,unsentEntries:r}=y2(this._heartbeatsCache.heartbeats),o=z0(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return or.warn(t),""}}}function qE(){return new Date().toISOString().substring(0,10)}function y2(a,t=m2){const n=[];let r=a.slice();for(const o of a){const u=n.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),FE(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),FE(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class _2{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return F0()?rI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await d2(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return jE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return jE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function FE(a){return z0(JSON.stringify({version:2,heartbeats:a})).length}function v2(a){if(a.length===0)return-1;let t=0,n=a[0].date;for(let r=1;r<a.length;r++)a[r].date<n&&(n=a[r].date,t=r);return t}function E2(a){Yh(new Su("platform-logger",t=>new II(t),"PRIVATE")),Yh(new Su("heartbeat",t=>new p2(t),"PRIVATE")),po(hg,BE,a),po(hg,BE,"esm2020"),po("fire-js","")}E2("");var T2="firebase",S2="12.9.0";po(T2,S2,"app");var HE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Zr,$0;(function(){var a;function t(R,w){function I(){}I.prototype=w.prototype,R.F=w.prototype,R.prototype=new I,R.prototype.constructor=R,R.D=function(M,N,L){for(var C=Array(arguments.length-2),oe=2;oe<arguments.length;oe++)C[oe-2]=arguments[oe];return w.prototype[N].apply(M,C)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,w,I){I||(I=0);const M=Array(16);if(typeof w=="string")for(var N=0;N<16;++N)M[N]=w.charCodeAt(I++)|w.charCodeAt(I++)<<8|w.charCodeAt(I++)<<16|w.charCodeAt(I++)<<24;else for(N=0;N<16;++N)M[N]=w[I++]|w[I++]<<8|w[I++]<<16|w[I++]<<24;w=R.g[0],I=R.g[1],N=R.g[2];let L=R.g[3],C;C=w+(L^I&(N^L))+M[0]+3614090360&4294967295,w=I+(C<<7&4294967295|C>>>25),C=L+(N^w&(I^N))+M[1]+3905402710&4294967295,L=w+(C<<12&4294967295|C>>>20),C=N+(I^L&(w^I))+M[2]+606105819&4294967295,N=L+(C<<17&4294967295|C>>>15),C=I+(w^N&(L^w))+M[3]+3250441966&4294967295,I=N+(C<<22&4294967295|C>>>10),C=w+(L^I&(N^L))+M[4]+4118548399&4294967295,w=I+(C<<7&4294967295|C>>>25),C=L+(N^w&(I^N))+M[5]+1200080426&4294967295,L=w+(C<<12&4294967295|C>>>20),C=N+(I^L&(w^I))+M[6]+2821735955&4294967295,N=L+(C<<17&4294967295|C>>>15),C=I+(w^N&(L^w))+M[7]+4249261313&4294967295,I=N+(C<<22&4294967295|C>>>10),C=w+(L^I&(N^L))+M[8]+1770035416&4294967295,w=I+(C<<7&4294967295|C>>>25),C=L+(N^w&(I^N))+M[9]+2336552879&4294967295,L=w+(C<<12&4294967295|C>>>20),C=N+(I^L&(w^I))+M[10]+4294925233&4294967295,N=L+(C<<17&4294967295|C>>>15),C=I+(w^N&(L^w))+M[11]+2304563134&4294967295,I=N+(C<<22&4294967295|C>>>10),C=w+(L^I&(N^L))+M[12]+1804603682&4294967295,w=I+(C<<7&4294967295|C>>>25),C=L+(N^w&(I^N))+M[13]+4254626195&4294967295,L=w+(C<<12&4294967295|C>>>20),C=N+(I^L&(w^I))+M[14]+2792965006&4294967295,N=L+(C<<17&4294967295|C>>>15),C=I+(w^N&(L^w))+M[15]+1236535329&4294967295,I=N+(C<<22&4294967295|C>>>10),C=w+(N^L&(I^N))+M[1]+4129170786&4294967295,w=I+(C<<5&4294967295|C>>>27),C=L+(I^N&(w^I))+M[6]+3225465664&4294967295,L=w+(C<<9&4294967295|C>>>23),C=N+(w^I&(L^w))+M[11]+643717713&4294967295,N=L+(C<<14&4294967295|C>>>18),C=I+(L^w&(N^L))+M[0]+3921069994&4294967295,I=N+(C<<20&4294967295|C>>>12),C=w+(N^L&(I^N))+M[5]+3593408605&4294967295,w=I+(C<<5&4294967295|C>>>27),C=L+(I^N&(w^I))+M[10]+38016083&4294967295,L=w+(C<<9&4294967295|C>>>23),C=N+(w^I&(L^w))+M[15]+3634488961&4294967295,N=L+(C<<14&4294967295|C>>>18),C=I+(L^w&(N^L))+M[4]+3889429448&4294967295,I=N+(C<<20&4294967295|C>>>12),C=w+(N^L&(I^N))+M[9]+568446438&4294967295,w=I+(C<<5&4294967295|C>>>27),C=L+(I^N&(w^I))+M[14]+3275163606&4294967295,L=w+(C<<9&4294967295|C>>>23),C=N+(w^I&(L^w))+M[3]+4107603335&4294967295,N=L+(C<<14&4294967295|C>>>18),C=I+(L^w&(N^L))+M[8]+1163531501&4294967295,I=N+(C<<20&4294967295|C>>>12),C=w+(N^L&(I^N))+M[13]+2850285829&4294967295,w=I+(C<<5&4294967295|C>>>27),C=L+(I^N&(w^I))+M[2]+4243563512&4294967295,L=w+(C<<9&4294967295|C>>>23),C=N+(w^I&(L^w))+M[7]+1735328473&4294967295,N=L+(C<<14&4294967295|C>>>18),C=I+(L^w&(N^L))+M[12]+2368359562&4294967295,I=N+(C<<20&4294967295|C>>>12),C=w+(I^N^L)+M[5]+4294588738&4294967295,w=I+(C<<4&4294967295|C>>>28),C=L+(w^I^N)+M[8]+2272392833&4294967295,L=w+(C<<11&4294967295|C>>>21),C=N+(L^w^I)+M[11]+1839030562&4294967295,N=L+(C<<16&4294967295|C>>>16),C=I+(N^L^w)+M[14]+4259657740&4294967295,I=N+(C<<23&4294967295|C>>>9),C=w+(I^N^L)+M[1]+2763975236&4294967295,w=I+(C<<4&4294967295|C>>>28),C=L+(w^I^N)+M[4]+1272893353&4294967295,L=w+(C<<11&4294967295|C>>>21),C=N+(L^w^I)+M[7]+4139469664&4294967295,N=L+(C<<16&4294967295|C>>>16),C=I+(N^L^w)+M[10]+3200236656&4294967295,I=N+(C<<23&4294967295|C>>>9),C=w+(I^N^L)+M[13]+681279174&4294967295,w=I+(C<<4&4294967295|C>>>28),C=L+(w^I^N)+M[0]+3936430074&4294967295,L=w+(C<<11&4294967295|C>>>21),C=N+(L^w^I)+M[3]+3572445317&4294967295,N=L+(C<<16&4294967295|C>>>16),C=I+(N^L^w)+M[6]+76029189&4294967295,I=N+(C<<23&4294967295|C>>>9),C=w+(I^N^L)+M[9]+3654602809&4294967295,w=I+(C<<4&4294967295|C>>>28),C=L+(w^I^N)+M[12]+3873151461&4294967295,L=w+(C<<11&4294967295|C>>>21),C=N+(L^w^I)+M[15]+530742520&4294967295,N=L+(C<<16&4294967295|C>>>16),C=I+(N^L^w)+M[2]+3299628645&4294967295,I=N+(C<<23&4294967295|C>>>9),C=w+(N^(I|~L))+M[0]+4096336452&4294967295,w=I+(C<<6&4294967295|C>>>26),C=L+(I^(w|~N))+M[7]+1126891415&4294967295,L=w+(C<<10&4294967295|C>>>22),C=N+(w^(L|~I))+M[14]+2878612391&4294967295,N=L+(C<<15&4294967295|C>>>17),C=I+(L^(N|~w))+M[5]+4237533241&4294967295,I=N+(C<<21&4294967295|C>>>11),C=w+(N^(I|~L))+M[12]+1700485571&4294967295,w=I+(C<<6&4294967295|C>>>26),C=L+(I^(w|~N))+M[3]+2399980690&4294967295,L=w+(C<<10&4294967295|C>>>22),C=N+(w^(L|~I))+M[10]+4293915773&4294967295,N=L+(C<<15&4294967295|C>>>17),C=I+(L^(N|~w))+M[1]+2240044497&4294967295,I=N+(C<<21&4294967295|C>>>11),C=w+(N^(I|~L))+M[8]+1873313359&4294967295,w=I+(C<<6&4294967295|C>>>26),C=L+(I^(w|~N))+M[15]+4264355552&4294967295,L=w+(C<<10&4294967295|C>>>22),C=N+(w^(L|~I))+M[6]+2734768916&4294967295,N=L+(C<<15&4294967295|C>>>17),C=I+(L^(N|~w))+M[13]+1309151649&4294967295,I=N+(C<<21&4294967295|C>>>11),C=w+(N^(I|~L))+M[4]+4149444226&4294967295,w=I+(C<<6&4294967295|C>>>26),C=L+(I^(w|~N))+M[11]+3174756917&4294967295,L=w+(C<<10&4294967295|C>>>22),C=N+(w^(L|~I))+M[2]+718787259&4294967295,N=L+(C<<15&4294967295|C>>>17),C=I+(L^(N|~w))+M[9]+3951481745&4294967295,R.g[0]=R.g[0]+w&4294967295,R.g[1]=R.g[1]+(N+(C<<21&4294967295|C>>>11))&4294967295,R.g[2]=R.g[2]+N&4294967295,R.g[3]=R.g[3]+L&4294967295}r.prototype.v=function(R,w){w===void 0&&(w=R.length);const I=w-this.blockSize,M=this.C;let N=this.h,L=0;for(;L<w;){if(N==0)for(;L<=I;)o(this,R,L),L+=this.blockSize;if(typeof R=="string"){for(;L<w;)if(M[N++]=R.charCodeAt(L++),N==this.blockSize){o(this,M),N=0;break}}else for(;L<w;)if(M[N++]=R[L++],N==this.blockSize){o(this,M),N=0;break}}this.h=N,this.o+=w},r.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var w=1;w<R.length-8;++w)R[w]=0;w=this.o*8;for(var I=R.length-8;I<R.length;++I)R[I]=w&255,w/=256;for(this.v(R),R=Array(16),w=0,I=0;I<4;++I)for(let M=0;M<32;M+=8)R[w++]=this.g[I]>>>M&255;return R};function u(R,w){var I=m;return Object.prototype.hasOwnProperty.call(I,R)?I[R]:I[R]=w(R)}function c(R,w){this.h=w;const I=[];let M=!0;for(let N=R.length-1;N>=0;N--){const L=R[N]|0;M&&L==w||(I[N]=L,M=!1)}this.g=I}var m={};function g(R){return-128<=R&&R<128?u(R,function(w){return new c([w|0],w<0?-1:0)}):new c([R|0],R<0?-1:0)}function p(R){if(isNaN(R)||!isFinite(R))return T;if(R<0)return K(p(-R));const w=[];let I=1;for(let M=0;R>=I;M++)w[M]=R/I|0,I*=4294967296;return new c(w,0)}function v(R,w){if(R.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(R.charAt(0)=="-")return K(v(R.substring(1),w));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=p(Math.pow(w,8));let M=T;for(let L=0;L<R.length;L+=8){var N=Math.min(8,R.length-L);const C=parseInt(R.substring(L,L+N),w);N<8?(N=p(Math.pow(w,N)),M=M.j(N).add(p(C))):(M=M.j(I),M=M.add(p(C)))}return M}var T=g(0),b=g(1),D=g(16777216);a=c.prototype,a.m=function(){if(Q(this))return-K(this).m();let R=0,w=1;for(let I=0;I<this.g.length;I++){const M=this.i(I);R+=(M>=0?M:4294967296+M)*w,w*=4294967296}return R},a.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(G(this))return"0";if(Q(this))return"-"+K(this).toString(R);const w=p(Math.pow(R,6));var I=this;let M="";for(;;){const N=et(I,w).g;I=z(I,N.j(w));let L=((I.g.length>0?I.g[0]:I.h)>>>0).toString(R);if(I=N,G(I))return L+M;for(;L.length<6;)L="0"+L;M=L+M}},a.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function G(R){if(R.h!=0)return!1;for(let w=0;w<R.g.length;w++)if(R.g[w]!=0)return!1;return!0}function Q(R){return R.h==-1}a.l=function(R){return R=z(this,R),Q(R)?-1:G(R)?0:1};function K(R){const w=R.g.length,I=[];for(let M=0;M<w;M++)I[M]=~R.g[M];return new c(I,~R.h).add(b)}a.abs=function(){return Q(this)?K(this):this},a.add=function(R){const w=Math.max(this.g.length,R.g.length),I=[];let M=0;for(let N=0;N<=w;N++){let L=M+(this.i(N)&65535)+(R.i(N)&65535),C=(L>>>16)+(this.i(N)>>>16)+(R.i(N)>>>16);M=C>>>16,L&=65535,C&=65535,I[N]=C<<16|L}return new c(I,I[I.length-1]&-2147483648?-1:0)};function z(R,w){return R.add(K(w))}a.j=function(R){if(G(this)||G(R))return T;if(Q(this))return Q(R)?K(this).j(K(R)):K(K(this).j(R));if(Q(R))return K(this.j(K(R)));if(this.l(D)<0&&R.l(D)<0)return p(this.m()*R.m());const w=this.g.length+R.g.length,I=[];for(var M=0;M<2*w;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(let N=0;N<R.g.length;N++){const L=this.i(M)>>>16,C=this.i(M)&65535,oe=R.i(N)>>>16,Pe=R.i(N)&65535;I[2*M+2*N]+=C*Pe,H(I,2*M+2*N),I[2*M+2*N+1]+=L*Pe,H(I,2*M+2*N+1),I[2*M+2*N+1]+=C*oe,H(I,2*M+2*N+1),I[2*M+2*N+2]+=L*oe,H(I,2*M+2*N+2)}for(R=0;R<w;R++)I[R]=I[2*R+1]<<16|I[2*R];for(R=w;R<2*w;R++)I[R]=0;return new c(I,0)};function H(R,w){for(;(R[w]&65535)!=R[w];)R[w+1]+=R[w]>>>16,R[w]&=65535,w++}function J(R,w){this.g=R,this.h=w}function et(R,w){if(G(w))throw Error("division by zero");if(G(R))return new J(T,T);if(Q(R))return w=et(K(R),w),new J(K(w.g),K(w.h));if(Q(w))return w=et(R,K(w)),new J(K(w.g),w.h);if(R.g.length>30){if(Q(R)||Q(w))throw Error("slowDivide_ only works with positive integers.");for(var I=b,M=w;M.l(R)<=0;)I=at(I),M=at(M);var N=ot(I,1),L=ot(M,1);for(M=ot(M,2),I=ot(I,2);!G(M);){var C=L.add(M);C.l(R)<=0&&(N=N.add(I),L=C),M=ot(M,1),I=ot(I,1)}return w=z(R,N.j(w)),new J(N,w)}for(N=T;R.l(w)>=0;){for(I=Math.max(1,Math.floor(R.m()/w.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),L=p(I),C=L.j(w);Q(C)||C.l(R)>0;)I-=M,L=p(I),C=L.j(w);G(L)&&(L=b),N=N.add(L),R=z(R,C)}return new J(N,R)}a.B=function(R){return et(this,R).h},a.and=function(R){const w=Math.max(this.g.length,R.g.length),I=[];for(let M=0;M<w;M++)I[M]=this.i(M)&R.i(M);return new c(I,this.h&R.h)},a.or=function(R){const w=Math.max(this.g.length,R.g.length),I=[];for(let M=0;M<w;M++)I[M]=this.i(M)|R.i(M);return new c(I,this.h|R.h)},a.xor=function(R){const w=Math.max(this.g.length,R.g.length),I=[];for(let M=0;M<w;M++)I[M]=this.i(M)^R.i(M);return new c(I,this.h^R.h)};function at(R){const w=R.g.length+1,I=[];for(let M=0;M<w;M++)I[M]=R.i(M)<<1|R.i(M-1)>>>31;return new c(I,R.h)}function ot(R,w){const I=w>>5;w%=32;const M=R.g.length-I,N=[];for(let L=0;L<M;L++)N[L]=w>0?R.i(L+I)>>>w|R.i(L+I+1)<<32-w:R.i(L+I);return new c(N,R.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,$0=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=v,Zr=c}).apply(typeof HE<"u"?HE:typeof self<"u"?self:typeof window<"u"?window:{});var bh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var J0,su,Z0,Oh,mg,W0,tS,eS;(function(){var a,t=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof bh=="object"&&bh];for(var y=0;y<h.length;++y){var E=h[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function o(h,y){if(y)t:{var E=r;h=h.split(".");for(var A=0;A<h.length-1;A++){var k=h[A];if(!(k in E))break t;E=E[k]}h=h[h.length-1],A=E[h],y=y(A),y!=A&&y!=null&&t(E,h,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(y){var E=[],A;for(A in y)Object.prototype.hasOwnProperty.call(y,A)&&E.push([A,y[A]]);return E}});var u=u||{},c=this||self;function m(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function g(h,y,E){return h.call.apply(h.bind,arguments)}function p(h,y,E){return p=g,p.apply(null,arguments)}function v(h,y){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function T(h,y){function E(){}E.prototype=y.prototype,h.Z=y.prototype,h.prototype=new E,h.prototype.constructor=h,h.Ob=function(A,k,X){for(var ut=Array(arguments.length-2),Rt=2;Rt<arguments.length;Rt++)ut[Rt-2]=arguments[Rt];return y.prototype[k].apply(A,ut)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function D(h){const y=h.length;if(y>0){const E=Array(y);for(let A=0;A<y;A++)E[A]=h[A];return E}return[]}function G(h,y){for(let A=1;A<arguments.length;A++){const k=arguments[A];var E=typeof k;if(E=E!="object"?E:k?Array.isArray(k)?"array":E:"null",E=="array"||E=="object"&&typeof k.length=="number"){E=h.length||0;const X=k.length||0;h.length=E+X;for(let ut=0;ut<X;ut++)h[E+ut]=k[ut]}else h.push(k)}}class Q{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function K(h){c.setTimeout(()=>{throw h},0)}function z(){var h=R;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class H{constructor(){this.h=this.g=null}add(y,E){const A=J.get();A.set(y,E),this.h?this.h.next=A:this.g=A,this.h=A}}var J=new Q(()=>new et,h=>h.reset());class et{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let at,ot=!1,R=new H,w=()=>{const h=Promise.resolve(void 0);at=()=>{h.then(I)}};function I(){for(var h;h=z();){try{h.h.call(h.g)}catch(E){K(E)}var y=J;y.j(h),y.h<100&&(y.h++,h.next=y.g,y.g=h)}ot=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};c.addEventListener("test",E,y),c.removeEventListener("test",E,y)}catch{}return h})();function C(h){return/^[\s\xa0]*$/.test(h)}function oe(h,y){N.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,y)}T(oe,N),oe.prototype.init=function(h,y){const E=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget,y||(E=="mouseover"?y=h.fromElement:E=="mouseout"&&(y=h.toElement)),this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&oe.Z.h.call(this)},oe.prototype.h=function(){oe.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Pe="closure_listenable_"+(Math.random()*1e6|0),tt=0;function ht(h,y,E,A,k){this.listener=h,this.proxy=null,this.src=y,this.type=E,this.capture=!!A,this.ha=k,this.key=++tt,this.da=this.fa=!1}function Tt(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function kt(h,y,E){for(const A in h)y.call(E,h[A],A,h)}function Kt(h,y){for(const E in h)y.call(void 0,h[E],E,h)}function O(h){const y={};for(const E in h)y[E]=h[E];return y}const rt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ft(h,y){let E,A;for(let k=1;k<arguments.length;k++){A=arguments[k];for(E in A)h[E]=A[E];for(let X=0;X<rt.length;X++)E=rt[X],Object.prototype.hasOwnProperty.call(A,E)&&(h[E]=A[E])}}function dt(h){this.src=h,this.g={},this.h=0}dt.prototype.add=function(h,y,E,A,k){const X=h.toString();h=this.g[X],h||(h=this.g[X]=[],this.h++);const ut=Ct(h,y,A,k);return ut>-1?(y=h[ut],E||(y.fa=!1)):(y=new ht(y,this.src,X,!!A,k),y.fa=E,h.push(y)),y};function At(h,y){const E=y.type;if(E in h.g){var A=h.g[E],k=Array.prototype.indexOf.call(A,y,void 0),X;(X=k>=0)&&Array.prototype.splice.call(A,k,1),X&&(Tt(y),h.g[E].length==0&&(delete h.g[E],h.h--))}}function Ct(h,y,E,A){for(let k=0;k<h.length;++k){const X=h[k];if(!X.da&&X.listener==y&&X.capture==!!E&&X.ha==A)return k}return-1}var Lt="closure_lm_"+(Math.random()*1e6|0),ze={};function le(h,y,E,A,k){if(Array.isArray(y)){for(let X=0;X<y.length;X++)le(h,y[X],E,A,k);return null}return E=Xo(E),h&&h[Pe]?h.J(y,E,m(A)?!!A.capture:!1,k):ha(h,y,E,!1,A,k)}function ha(h,y,E,A,k,X){if(!y)throw Error("Invalid event type");const ut=m(k)?!!k.capture:!!k;let Rt=fa(h);if(Rt||(h[Lt]=Rt=new dt(h)),E=Rt.add(y,E,A,ut,X),E.proxy)return E;if(A=ms(),E.proxy=A,A.src=h,A.listener=E,h.addEventListener)L||(k=ut),k===void 0&&(k=!1),h.addEventListener(y.toString(),A,k);else if(h.attachEvent)h.attachEvent(li(y.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function ms(){function h(E){return y.call(h.src,h.listener,E)}const y=Qo;return h}function gs(h,y,E,A,k){if(Array.isArray(y))for(var X=0;X<y.length;X++)gs(h,y[X],E,A,k);else A=m(A)?!!A.capture:!!A,E=Xo(E),h&&h[Pe]?(h=h.i,X=String(y).toString(),X in h.g&&(y=h.g[X],E=Ct(y,E,A,k),E>-1&&(Tt(y[E]),Array.prototype.splice.call(y,E,1),y.length==0&&(delete h.g[X],h.h--)))):h&&(h=fa(h))&&(y=h.g[y.toString()],h=-1,y&&(h=Ct(y,E,A,k)),(E=h>-1?y[h]:null)&&ps(E))}function ps(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[Pe])At(y.i,h);else{var E=h.type,A=h.proxy;y.removeEventListener?y.removeEventListener(E,A,h.capture):y.detachEvent?y.detachEvent(li(E),A):y.addListener&&y.removeListener&&y.removeListener(A),(E=fa(y))?(At(E,h),E.h==0&&(E.src=null,y[Lt]=null)):Tt(h)}}}function li(h){return h in ze?ze[h]:ze[h]="on"+h}function Qo(h,y){if(h.da)h=!0;else{y=new oe(y,this);const E=h.listener,A=h.ha||h.src;h.fa&&ps(h),h=E.call(A,y)}return h}function fa(h){return h=h[Lt],h instanceof dt?h:null}var Yo="__closure_events_fn_"+(Math.random()*1e9>>>0);function Xo(h){return typeof h=="function"?h:(h[Yo]||(h[Yo]=function(y){return h.handleEvent(y)}),h[Yo])}function Ae(){M.call(this),this.i=new dt(this),this.M=this,this.G=null}T(Ae,M),Ae.prototype[Pe]=!0,Ae.prototype.removeEventListener=function(h,y,E,A){gs(this,h,y,E,A)};function Le(h,y){var E,A=h.G;if(A)for(E=[];A;A=A.G)E.push(A);if(h=h.M,A=y.type||y,typeof y=="string")y=new N(y,h);else if(y instanceof N)y.target=y.target||h;else{var k=y;y=new N(A,h),ft(y,k)}k=!0;let X,ut;if(E)for(ut=E.length-1;ut>=0;ut--)X=y.g=E[ut],k=dr(X,A,!0,y)&&k;if(X=y.g=h,k=dr(X,A,!0,y)&&k,k=dr(X,A,!1,y)&&k,E)for(ut=0;ut<E.length;ut++)X=y.g=E[ut],k=dr(X,A,!1,y)&&k}Ae.prototype.N=function(){if(Ae.Z.N.call(this),this.i){var h=this.i;for(const y in h.g){const E=h.g[y];for(let A=0;A<E.length;A++)Tt(E[A]);delete h.g[y],h.h--}}this.G=null},Ae.prototype.J=function(h,y,E,A){return this.i.add(String(h),y,!1,E,A)},Ae.prototype.K=function(h,y,E,A){return this.i.add(String(h),y,!0,E,A)};function dr(h,y,E,A){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();let k=!0;for(let X=0;X<y.length;++X){const ut=y[X];if(ut&&!ut.da&&ut.capture==E){const Rt=ut.listener,_e=ut.ha||ut.src;ut.fa&&At(h.i,ut),k=Rt.call(_e,A)!==!1&&k}}return k&&!A.defaultPrevented}function kf(h,y){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:c.setTimeout(h,y||0)}function Yu(h){h.g=kf(()=>{h.g=null,h.i&&(h.i=!1,Yu(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class rn extends M{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Yu(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function da(h){M.call(this),this.h=h,this.g={}}T(da,M);var $o=[];function Jo(h){kt(h.g,function(y,E){this.g.hasOwnProperty(E)&&ps(y)},h),h.g={}}da.prototype.N=function(){da.Z.N.call(this),Jo(this)},da.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var mr=c.JSON.stringify,jf=c.JSON.parse,Xu=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function $u(){}function Ju(){}var Qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function He(){N.call(this,"d")}T(He,N);function Nn(){N.call(this,"c")}T(Nn,N);var ye={},Zu=null;function ys(){return Zu=Zu||new Ae}ye.Ia="serverreachability";function Wu(h){N.call(this,ye.Ia,h)}T(Wu,N);function ui(h){const y=ys();Le(y,new Wu(y))}ye.STAT_EVENT="statevent";function ma(h,y){N.call(this,ye.STAT_EVENT,h),this.stat=y}T(ma,N);function be(h){const y=ys();Le(y,new ma(y,h))}ye.Ja="timingevent";function ci(h,y){N.call(this,ye.Ja,h),this.size=y}T(ci,N);function hi(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},y)}function Yn(){this.g=!0}Yn.prototype.ua=function(){this.g=!1};function qf(h,y,E,A,k,X){h.info(function(){if(h.g)if(X){var ut="",Rt=X.split("&");for(let Ft=0;Ft<Rt.length;Ft++){var _e=Rt[Ft].split("=");if(_e.length>1){const ue=_e[0];_e=_e[1];const zn=ue.split("_");ut=zn.length>=2&&zn[1]=="type"?ut+(ue+"="+_e+"&"):ut+(ue+"=redacted&")}}}else ut=null;else ut=X;return"XMLHTTP REQ ("+A+") [attempt "+k+"]: "+y+`
`+E+`
`+ut})}function tc(h,y,E,A,k,X,ut){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+k+"]: "+y+`
`+E+`
`+X+" "+ut})}function fi(h,y,E,A){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+Ff(h,E)+(A?" "+A:"")})}function ga(h,y){h.info(function(){return"TIMEOUT: "+y})}Yn.prototype.info=function(){};function Ff(h,y){if(!h.g)return y;if(!y)return null;try{const X=JSON.parse(y);if(X){for(h=0;h<X.length;h++)if(Array.isArray(X[h])){var E=X[h];if(!(E.length<2)){var A=E[1];if(Array.isArray(A)&&!(A.length<1)){var k=A[0];if(k!="noop"&&k!="stop"&&k!="close")for(let ut=1;ut<A.length;ut++)A[ut]=""}}}}return mr(X)}catch{return y}}var pa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Zo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Wo;function ya(){}T(ya,$u),ya.prototype.g=function(){return new XMLHttpRequest},Wo=new ya;function Ui(h){return encodeURIComponent(String(h))}function ec(h){var y=1;h=h.split(":");const E=[];for(;y>0&&h.length;)E.push(h.shift()),y--;return h.length&&E.push(h.join(":")),E}function Xn(h,y,E,A){this.j=h,this.i=y,this.l=E,this.S=A||1,this.V=new da(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new $n}function $n(){this.i=null,this.g="",this.h=!1}var we={},ke={};function di(h,y,E){h.M=1,h.A=_a(Ie(y)),h.u=E,h.R=!0,_s(h,null)}function _s(h,y){h.F=Date.now(),mi(h),h.B=Ie(h.A);var E=h.B,A=h.S;Array.isArray(A)||(A=[String(A)]),Ss(E.i,"t",A),h.C=0,E=h.j.L,h.h=new $n,h.g=pc(h.j,E?y:null,!h.u),h.P>0&&(h.O=new rn(p(h.Y,h,h.g),h.P)),y=h.V,E=h.g,A=h.ba;var k="readystatechange";Array.isArray(k)||(k&&($o[0]=k.toString()),k=$o);for(let X=0;X<k.length;X++){const ut=le(E,k[X],A||y.handleEvent,!1,y.h||y);if(!ut)break;y.g[ut.key]=ut}y=h.J?O(h.J):{},h.u?(h.v||(h.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,y)):(h.v="GET",h.g.ea(h.B,h.v,null,y)),ui(),qf(h.i,h.v,h.B,h.l,h.S,h.u)}Xn.prototype.ba=function(h){h=h.target;const y=this.O;y&&Wn(h)==3?y.j():this.Y(h)},Xn.prototype.Y=function(h){try{if(h==this.g)t:{const Rt=Wn(this.g),_e=this.g.ya(),Ft=this.g.ca();if(!(Rt<3)&&(Rt!=3||this.g&&(this.h.h||this.g.la()||Ge(this.g)))){this.K||Rt!=4||_e==7||(_e==8||Ft<=0?ui(3):ui(2)),gi(this);var y=this.g.ca();this.X=y;var E=Hf(this);if(this.o=y==200,tc(this.i,this.v,this.B,this.l,this.S,Rt,y),this.o){if(this.U&&!this.L){e:{if(this.g){var A,k=this.g;if((A=k.g?k.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(A)){var X=A;break e}}X=null}if(h=X)fi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,pi(this,h);else{this.o=!1,this.m=3,be(12),_n(this),On(this);break t}}if(this.R){h=!0;let ue;for(;!this.K&&this.C<E.length;)if(ue=ic(this,E),ue==ke){Rt==4&&(this.m=4,be(14),h=!1),fi(this.i,this.l,null,"[Incomplete Response]");break}else if(ue==we){this.m=4,be(15),fi(this.i,this.l,E,"[Invalid Chunk]"),h=!1;break}else fi(this.i,this.l,ue,null),pi(this,ue);if(nc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||E.length!=0||this.h.h||(this.m=1,be(16),h=!1),this.o=this.o&&h,!h)fi(this.i,this.l,E,"[Invalid Chunked Response]"),_n(this),On(this);else if(E.length>0&&!this.W){this.W=!0;var ut=this.j;ut.g==this&&ut.aa&&!ut.P&&(ut.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),ml(ut),ut.P=!0,be(11))}}else fi(this.i,this.l,E,null),pi(this,E);Rt==4&&_n(this),this.o&&!this.K&&(Rt==4?fc(this.j,this):(this.o=!1,mi(this)))}else ki(this.g),y==400&&E.indexOf("Unknown SID")>0?(this.m=3,be(12)):(this.m=0,be(13)),_n(this),On(this)}}}catch{}};function Hf(h){if(!nc(h))return h.g.la();const y=Ge(h.g);if(y==="")return"";let E="";const A=y.length,k=Wn(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return _n(h),On(h),"";h.h.i=new c.TextDecoder}for(let X=0;X<A;X++)h.h.h=!0,E+=h.h.i.decode(y[X],{stream:!(k&&X==A-1)});return y.length=0,h.h.g+=E,h.C=0,h.h.g}function nc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function ic(h,y){var E=h.C,A=y.indexOf(`
`,E);return A==-1?ke:(E=Number(y.substring(E,A)),isNaN(E)?we:(A+=1,A+E>y.length?ke:(y=y.slice(A,A+E),h.C=A+E,y)))}Xn.prototype.cancel=function(){this.K=!0,_n(this)};function mi(h){h.T=Date.now()+h.H,vs(h,h.H)}function vs(h,y){if(h.D!=null)throw Error("WatchDog timer not null");h.D=hi(p(h.aa,h),y)}function gi(h){h.D&&(c.clearTimeout(h.D),h.D=null)}Xn.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(ga(this.i,this.B),this.M!=2&&(ui(),be(17)),_n(this),this.m=2,On(this)):vs(this,this.T-h)};function On(h){h.j.I==0||h.K||fc(h.j,h)}function _n(h){gi(h);var y=h.O;y&&typeof y.dispose=="function"&&y.dispose(),h.O=null,Jo(h.V),h.g&&(y=h.g,h.g=null,y.abort(),y.dispose())}function pi(h,y){try{var E=h.j;if(E.I!=0&&(E.g==h||_i(E.h,h))){if(!h.L&&_i(E.h,h)&&E.I==3){try{var A=E.Ba.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var k=A;if(k[0]==0){t:if(!E.v){if(E.g)if(E.g.F+3e3<h.F)Is(E),Sr(E);else break t;wa(E),be(18)}}else E.xa=k[1],0<E.xa-E.K&&k[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=hi(p(E.Va,E),6e3));yi(E.h)<=1&&E.ta&&(E.ta=void 0)}else bi(E,11)}else if((h.L||E.g==h)&&Is(E),!C(y))for(k=E.Ba.g.parse(y),y=0;y<k.length;y++){let Ft=k[y];const ue=Ft[0];if(!(ue<=E.K))if(E.K=ue,Ft=Ft[1],E.I==2)if(Ft[0]=="c"){E.M=Ft[1],E.ba=Ft[2];const zn=Ft[3];zn!=null&&(E.ka=zn,E.j.info("VER="+E.ka));const wi=Ft[4];wi!=null&&(E.za=wi,E.j.info("SVER="+E.za));const ti=Ft[5];ti!=null&&typeof ti=="number"&&ti>0&&(A=1.5*ti,E.O=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const ei=h.g;if(ei){const Ra=ei.g?ei.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ra){var X=A.h;X.g||Ra.indexOf("spdy")==-1&&Ra.indexOf("quic")==-1&&Ra.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(nl(X,X.h),X.h=null))}if(A.G){const Cs=ei.g?ei.g.getResponseHeader("X-HTTP-Session-Id"):null;Cs&&(A.wa=Cs,Qt(A.J,A.G,Cs))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-h.F,E.j.info("Handshake RTT: "+E.T+"ms")),A=E;var ut=h;if(A.na=gc(A,A.L?A.ba:null,A.W),ut.L){il(A.h,ut);var Rt=ut,_e=A.O;_e&&(Rt.H=_e),Rt.D&&(gi(Rt),mi(Rt)),A.g=ut}else cc(A);E.i.length>0&&Ai(E)}else Ft[0]!="stop"&&Ft[0]!="close"||bi(E,7);else E.I==3&&(Ft[0]=="stop"||Ft[0]=="close"?Ft[0]=="stop"?bi(E,7):fl(E):Ft[0]!="noop"&&E.l&&E.l.qa(Ft),E.A=0)}}ui(4)}catch{}}var Re=class{constructor(h,y){this.g=h,this.map=y}};function tl(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function el(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function yi(h){return h.h?1:h.g?h.g.size:0}function _i(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function nl(h,y){h.g?h.g.add(y):h.h=y}function il(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}tl.prototype.cancel=function(){if(this.i=rl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function rl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const E of h.g.values())y=y.concat(E.G);return y}return D(h.i)}var rc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Es(h,y){if(h){h=h.split("&");for(let E=0;E<h.length;E++){const A=h[E].indexOf("=");let k,X=null;A>=0?(k=h[E].substring(0,A),X=h[E].substring(A+1)):k=h[E],y(k,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function vn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;h instanceof vn?(this.l=h.l,je(this,h.j),this.o=h.o,this.g=h.g,gr(this,h.u),this.h=h.h,al(this,lc(h.i)),this.m=h.m):h&&(y=String(h).match(rc))?(this.l=!1,je(this,y[1]||"",!0),this.o=vi(y[2]||""),this.g=vi(y[3]||"",!0),gr(this,y[4]),this.h=vi(y[5]||"",!0),al(this,y[6]||"",!0),this.m=vi(y[7]||"")):(this.l=!1,this.i=new yr(null,this.l))}vn.prototype.toString=function(){const h=[];var y=this.j;y&&h.push(va(y,Ts,!0),":");var E=this.g;return(E||y=="file")&&(h.push("//"),(y=this.o)&&h.push(va(y,Ts,!0),"@"),h.push(Ui(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&h.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(va(E,E.charAt(0)=="/"?sl:ac,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",va(E,sc)),h.join("")},vn.prototype.resolve=function(h){const y=Ie(this);let E=!!h.j;E?je(y,h.j):E=!!h.o,E?y.o=h.o:E=!!h.g,E?y.g=h.g:E=h.u!=null;var A=h.h;if(E)gr(y,h.u);else if(E=!!h.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var k=y.h.lastIndexOf("/");k!=-1&&(A=y.h.slice(0,k+1)+A)}if(k=A,k==".."||k==".")A="";else if(k.indexOf("./")!=-1||k.indexOf("/.")!=-1){A=k.lastIndexOf("/",0)==0,k=k.split("/");const X=[];for(let ut=0;ut<k.length;){const Rt=k[ut++];Rt=="."?A&&ut==k.length&&X.push(""):Rt==".."?((X.length>1||X.length==1&&X[0]!="")&&X.pop(),A&&ut==k.length&&X.push("")):(X.push(Rt),A=!0)}A=X.join("/")}else A=k}return E?y.h=A:E=h.i.toString()!=="",E?al(y,lc(h.i)):E=!!h.m,E&&(y.m=h.m),y};function Ie(h){return new vn(h)}function je(h,y,E){h.j=E?vi(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function gr(h,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);h.u=y}else h.u=null}function al(h,y,E){y instanceof yr?(h.i=y,As(h.i,h.l)):(E||(y=va(y,pr)),h.i=new yr(y,h.l))}function Qt(h,y,E){h.i.set(y,E)}function _a(h){return Qt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function vi(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function va(h,y,E){return typeof h=="string"?(h=encodeURI(h).replace(y,ln),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function ln(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Ts=/[#\/\?@]/g,ac=/[#\?:]/g,sl=/[#\?]/g,pr=/[#\?@]/g,sc=/#/g;function yr(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function un(h){h.g||(h.g=new Map,h.h=0,h.i&&Es(h.i,function(y,E){h.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}a=yr.prototype,a.add=function(h,y){un(this),this.i=null,h=_r(this,h);let E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(y),this.h+=1,this};function oc(h,y){un(h),y=_r(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function ol(h,y){return un(h),y=_r(h,y),h.g.has(y)}a.forEach=function(h,y){un(this),this.g.forEach(function(E,A){E.forEach(function(k){h.call(y,k,A,this)},this)},this)};function ll(h,y){un(h);let E=[];if(typeof y=="string")ol(h,y)&&(E=E.concat(h.g.get(_r(h,y))));else for(h=Array.from(h.g.values()),y=0;y<h.length;y++)E=E.concat(h[y]);return E}a.set=function(h,y){return un(this),this.i=null,h=_r(this,h),ol(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},a.get=function(h,y){return h?(h=ll(this,h),h.length>0?String(h[0]):y):y};function Ss(h,y,E){oc(h,y),E.length>0&&(h.i=null,h.g.set(_r(h,y),D(E)),h.h+=E.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(let A=0;A<y.length;A++){var E=y[A];const k=Ui(E);E=ll(this,E);for(let X=0;X<E.length;X++){let ut=k;E[X]!==""&&(ut+="="+Ui(E[X])),h.push(ut)}}return this.i=h.join("&")};function lc(h){const y=new yr;return y.i=h.i,h.g&&(y.g=new Map(h.g),y.h=h.h),y}function _r(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function As(h,y){y&&!h.j&&(un(h),h.i=null,h.g.forEach(function(E,A){const k=A.toLowerCase();A!=k&&(oc(this,A),Ss(this,k,E))},h)),h.j=y}function Jn(h,y){const E=new Yn;if(c.Image){const A=new Image;A.onload=v(Mn,E,"TestLoadImage: loaded",!0,y,A),A.onerror=v(Mn,E,"TestLoadImage: error",!1,y,A),A.onabort=v(Mn,E,"TestLoadImage: abort",!1,y,A),A.ontimeout=v(Mn,E,"TestLoadImage: timeout",!1,y,A),c.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else y(!1)}function ul(h,y){const E=new Yn,A=new AbortController,k=setTimeout(()=>{A.abort(),Mn(E,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:A.signal}).then(X=>{clearTimeout(k),X.ok?Mn(E,"TestPingServer: ok",!0,y):Mn(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(k),Mn(E,"TestPingServer: error",!1,y)})}function Mn(h,y,E,A,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),A(E)}catch{}}function vr(){this.g=new Xu}function Ei(h){this.i=h.Sb||null,this.h=h.ab||!1}T(Ei,$u),Ei.prototype.g=function(){return new Ea(this.i,this.h)};function Ea(h,y){Ae.call(this),this.H=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Ea,Ae),a=Ea.prototype,a.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=y,this.readyState=1,Zn(this)},a.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(y.body=h),(this.H||c).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Er(this)),this.readyState=0},a.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Zn(this)),this.g&&(this.readyState=3,Zn(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;bs(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function bs(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}a.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?Er(this):Zn(this),this.readyState==3&&bs(this)}},a.Oa=function(h){this.g&&(this.response=this.responseText=h,Er(this))},a.Na=function(h){this.g&&(this.response=h,Er(this))},a.ga=function(){this.g&&Er(this)};function Er(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Zn(h)}a.setRequestHeader=function(h,y){this.A.append(h,y)},a.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=y.next();return h.join(`\r
`)};function Zn(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Ea.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Pn(h){let y="";return kt(h,function(E,A){y+=A,y+=":",y+=E,y+=`\r
`}),y}function Ta(h,y,E){t:{for(A in E){var A=!1;break t}A=!0}A||(E=Pn(E),typeof h=="string"?E!=null&&Ui(E):Qt(h,y,E))}function Wt(h){Ae.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(Wt,Ae);var Ti=/^https?$/i,cl=["POST","PUT"];a=Wt.prototype,a.Fa=function(h){this.H=h},a.ea=function(h,y,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Wo.g(),this.g.onreadystatechange=b(p(this.Ca,this));try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(X){Sa(this,X);return}if(h=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var k in A)E.set(k,A[k]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const X of A.keys())E.set(X,A.get(X));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find(X=>X.toLowerCase()=="content-type"),k=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(cl,y,void 0)>=0)||A||k||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ut]of E)this.g.setRequestHeader(X,ut);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(X){Sa(this,X)}};function Sa(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.o=5,hl(h),Bi(h)}function hl(h){h.A||(h.A=!0,Le(h,"complete"),Le(h,"error"))}a.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Le(this,"complete"),Le(this,"abort"),Bi(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bi(this,!0)),Wt.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?Aa(this):this.Xa())},a.Xa=function(){Aa(this)};function Aa(h){if(h.h&&typeof u<"u"){if(h.v&&Wn(h)==4)setTimeout(h.Ca.bind(h),0);else if(Le(h,"readystatechange"),Wn(h)==4){h.h=!1;try{const X=h.ca();t:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var E;if(!(E=y)){var A;if(A=X===0){let ut=String(h.D).match(rc)[1]||null;!ut&&c.self&&c.self.location&&(ut=c.self.location.protocol.slice(0,-1)),A=!Ti.test(ut?ut.toLowerCase():"")}E=A}if(E)Le(h,"complete"),Le(h,"success");else{h.o=6;try{var k=Wn(h)>2?h.g.statusText:""}catch{k=""}h.l=k+" ["+h.ca()+"]",hl(h)}}finally{Bi(h)}}}}function Bi(h,y){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const E=h.g;h.g=null,y||Le(h,"ready");try{E.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function Wn(h){return h.g?h.g.readyState:0}a.ca=function(){try{return Wn(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),jf(y)}};function Ge(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function ki(h){const y={};h=(h.g&&Wn(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if(C(h[A]))continue;var E=ec(h[A]);const k=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const X=y[k]||[];y[k]=X,X.push(E)}Kt(y,function(A){return A.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Si(h,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||y}function Tr(h){this.za=0,this.i=[],this.j=new Yn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Si("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Si("baseRetryDelayMs",5e3,h),this.Za=Si("retryDelaySeedMs",1e4,h),this.Ta=Si("forwardChannelMaxRetries",2,h),this.va=Si("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new tl(h&&h.concurrentRequestLimit),this.Ba=new vr,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=Tr.prototype,a.ka=8,a.I=1,a.connect=function(h,y,E,A){be(0),this.W=h,this.H=y||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.J=gc(this,null,this.W),Ai(this)};function fl(h){if(ws(h),h.I==3){var y=h.V++,E=Ie(h.J);if(Qt(E,"SID",h.M),Qt(E,"RID",y),Qt(E,"TYPE","terminate"),ba(h,E),y=new Xn(h,h.j,y),y.M=2,y.A=_a(Ie(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(y.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=y.A,E=!0),E||(y.g=pc(y.j,null),y.g.ea(y.A)),y.F=Date.now(),mi(y)}mc(h)}function Sr(h){h.g&&(ml(h),h.g.cancel(),h.g=null)}function ws(h){Sr(h),h.v&&(c.clearTimeout(h.v),h.v=null),Is(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Ai(h){if(!el(h.h)&&!h.m){h.m=!0;var y=h.Ea;at||w(),ot||(at(),ot=!0),R.add(y,h),h.D=0}}function Rs(h,y){return yi(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=y.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=hi(p(h.Ea,h,y),dc(h,h.D)),h.D++,!0)}a.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const k=new Xn(this,this.j,h);let X=this.o;if(this.U&&(X?(X=O(X),ft(X,this.U)):X=this.U),this.u!==null||this.R||(k.J=X,X=null),this.S)t:{for(var y=0,E=0;E<this.i.length;E++){e:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(y+=A,y>4096){y=E;break t}if(y===4096||E===this.i.length-1){y=E+1;break t}}y=1e3}else y=1e3;y=uc(this,k,y),E=Ie(this.J),Qt(E,"RID",h),Qt(E,"CVER",22),this.G&&Qt(E,"X-HTTP-Session-Id",this.G),ba(this,E),X&&(this.R?y="headers="+Ui(Pn(X))+"&"+y:this.u&&Ta(E,this.u,X)),nl(this.h,k),this.Ra&&Qt(E,"TYPE","init"),this.S?(Qt(E,"$req",y),Qt(E,"SID","null"),k.U=!0,di(k,E,null)):di(k,E,y),this.I=2}}else this.I==3&&(h?dl(this,h):this.i.length==0||el(this.h)||dl(this))};function dl(h,y){var E;y?E=y.l:E=h.V++;const A=Ie(h.J);Qt(A,"SID",h.M),Qt(A,"RID",E),Qt(A,"AID",h.K),ba(h,A),h.u&&h.o&&Ta(A,h.u,h.o),E=new Xn(h,h.j,E,h.D+1),h.u===null&&(E.J=h.o),y&&(h.i=y.G.concat(h.i)),y=uc(h,E,1e3),E.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),nl(h.h,E),di(E,A,y)}function ba(h,y){h.H&&kt(h.H,function(E,A){Qt(y,A,E)}),h.l&&kt({},function(E,A){Qt(y,A,E)})}function uc(h,y,E){E=Math.min(h.i.length,E);const A=h.l?p(h.l.Ka,h.l,h):null;t:{var k=h.i;let Rt=-1;for(;;){const _e=["count="+E];Rt==-1?E>0?(Rt=k[0].g,_e.push("ofs="+Rt)):Rt=0:_e.push("ofs="+Rt);let Ft=!0;for(let ue=0;ue<E;ue++){var X=k[ue].g;const zn=k[ue].map;if(X-=Rt,X<0)Rt=Math.max(0,k[ue].g-100),Ft=!1;else try{X="req"+X+"_"||"";try{var ut=zn instanceof Map?zn:Object.entries(zn);for(const[wi,ti]of ut){let ei=ti;m(ti)&&(ei=mr(ti)),_e.push(X+wi+"="+encodeURIComponent(ei))}}catch(wi){throw _e.push(X+"type="+encodeURIComponent("_badmap")),wi}}catch{A&&A(zn)}}if(Ft){ut=_e.join("&");break t}}ut=void 0}return h=h.i.splice(0,E),y.G=h,ut}function cc(h){if(!h.g&&!h.v){h.Y=1;var y=h.Da;at||w(),ot||(at(),ot=!0),R.add(y,h),h.A=0}}function wa(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=hi(p(h.Da,h),dc(h,h.A)),h.A++,!0)}a.Da=function(){if(this.v=null,hc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=hi(p(this.Wa,this),h)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,be(10),Sr(this),hc(this))};function ml(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function hc(h){h.g=new Xn(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var y=Ie(h.na);Qt(y,"RID","rpc"),Qt(y,"SID",h.M),Qt(y,"AID",h.K),Qt(y,"CI",h.F?"0":"1"),!h.F&&h.ia&&Qt(y,"TO",h.ia),Qt(y,"TYPE","xmlhttp"),ba(h,y),h.u&&h.o&&Ta(y,h.u,h.o),h.O&&(h.g.H=h.O);var E=h.g;h=h.ba,E.M=1,E.A=_a(Ie(y)),E.u=null,E.R=!0,_s(E,h)}a.Va=function(){this.C!=null&&(this.C=null,Sr(this),wa(this),be(19))};function Is(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function fc(h,y){var E=null;if(h.g==y){Is(h),ml(h),h.g=null;var A=2}else if(_i(h.h,y))E=y.G,il(h.h,y),A=1;else return;if(h.I!=0){if(y.o)if(A==1){E=y.u?y.u.length:0,y=Date.now()-y.F;var k=h.D;A=ys(),Le(A,new ci(A,E)),Ai(h)}else cc(h);else if(k=y.m,k==3||k==0&&y.X>0||!(A==1&&Rs(h,y)||A==2&&wa(h)))switch(E&&E.length>0&&(y=h.h,y.i=y.i.concat(E)),k){case 1:bi(h,5);break;case 4:bi(h,10);break;case 3:bi(h,6);break;default:bi(h,2)}}}function dc(h,y){let E=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(E*=2),E*y}function bi(h,y){if(h.j.info("Error code "+y),y==2){var E=p(h.bb,h),A=h.Ua;const k=!A;A=new vn(A||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||je(A,"https"),_a(A),k?Jn(A.toString(),E):ul(A.toString(),E)}else be(2);h.I=0,h.l&&h.l.pa(y),mc(h),ws(h)}a.bb=function(h){h?(this.j.info("Successfully pinged google.com"),be(2)):(this.j.info("Failed to ping google.com"),be(1))};function mc(h){if(h.I=0,h.ja=[],h.l){const y=rl(h.h);(y.length!=0||h.i.length!=0)&&(G(h.ja,y),G(h.ja,h.i),h.h.i.length=0,D(h.i),h.i.length=0),h.l.oa()}}function gc(h,y,E){var A=E instanceof vn?Ie(E):new vn(E);if(A.g!="")y&&(A.g=y+"."+A.g),gr(A,A.u);else{var k=c.location;A=k.protocol,y=y?y+"."+k.hostname:k.hostname,k=+k.port;const X=new vn(null);A&&je(X,A),y&&(X.g=y),k&&gr(X,k),E&&(X.h=E),A=X}return E=h.G,y=h.wa,E&&y&&Qt(A,E,y),Qt(A,"VER",h.ka),ba(h,A),A}function pc(h,y,E){if(y&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Aa&&!h.ma?new Wt(new Ei({ab:E})):new Wt(h.ma),y.Fa(h.L),y}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function yc(){}a=yc.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function Ar(){}Ar.prototype.g=function(h,y){return new an(h,y)};function an(h,y){Ae.call(this),this.g=new Tr(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(h?h["X-WebChannel-Client-Profile"]=y.sa:h={"X-WebChannel-Client-Profile":y.sa}),this.g.U=h,(h=y&&y.Qb)&&!C(h)&&(this.g.u=h),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!C(y)&&(this.g.G=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new ji(this)}T(an,Ae),an.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){fl(this.g)},an.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.v&&(E={},E.__data__=mr(h),h=E);y.i.push(new Re(y.Ya++,h)),y.I==3&&Ai(y)},an.prototype.N=function(){this.g.l=null,delete this.j,fl(this.g),delete this.g,an.Z.N.call(this)};function _c(h){He.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){t:{for(const E in y){h=E;break t}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}T(_c,He);function vc(){Nn.call(this),this.status=1}T(vc,Nn);function ji(h){this.g=h}T(ji,yc),ji.prototype.ra=function(){Le(this.g,"a")},ji.prototype.qa=function(h){Le(this.g,new _c(h))},ji.prototype.pa=function(h){Le(this.g,new vc)},ji.prototype.oa=function(){Le(this.g,"b")},Ar.prototype.createWebChannel=Ar.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,eS=function(){return new Ar},tS=function(){return ys()},W0=ye,mg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},pa.NO_ERROR=0,pa.TIMEOUT=8,pa.HTTP_ERROR=6,Oh=pa,Zo.COMPLETE="complete",Z0=Zo,Ju.EventType=Qn,Qn.OPEN="a",Qn.CLOSE="b",Qn.ERROR="c",Qn.MESSAGE="d",Ae.prototype.listen=Ae.prototype.J,su=Ju,Wt.prototype.listenOnce=Wt.prototype.K,Wt.prototype.getLastError=Wt.prototype.Ha,Wt.prototype.getLastErrorCode=Wt.prototype.ya,Wt.prototype.getStatus=Wt.prototype.ca,Wt.prototype.getResponseJson=Wt.prototype.La,Wt.prototype.getResponseText=Wt.prototype.la,Wt.prototype.send=Wt.prototype.ea,Wt.prototype.setWithCredentials=Wt.prototype.Fa,J0=Wt}).apply(typeof bh<"u"?bh:typeof self<"u"?self:typeof window<"u"?window:{});class We{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}We.UNAUTHENTICATED=new We(null),We.GOOGLE_CREDENTIALS=new We("google-credentials-uid"),We.FIRST_PARTY=new We("first-party-uid"),We.MOCK_USER=new We("mock-user");let jo="12.9.0";function A2(a){jo=a}const rs=new G0("@firebase/firestore");function co(){return rs.logLevel}function st(a,...t){if(rs.logLevel<=Bt.DEBUG){const n=t.map(Wg);rs.debug(`Firestore (${jo}): ${a}`,...n)}}function Te(a,...t){if(rs.logLevel<=Bt.ERROR){const n=t.map(Wg);rs.error(`Firestore (${jo}): ${a}`,...n)}}function vo(a,...t){if(rs.logLevel<=Bt.WARN){const n=t.map(Wg);rs.warn(`Firestore (${jo}): ${a}`,...n)}}function Wg(a){if(typeof a=="string")return a;try{return(function(n){return JSON.stringify(n)})(a)}catch{return a}}function mt(a,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,nS(a,r,n)}function nS(a,t,n){let r=`FIRESTORE (${jo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${a.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Te(r),new Error(r)}function _t(a,t,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,a||nS(t,o,r)}function pt(a,t){return a}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends ko{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ar{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class b2{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class w2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(We.UNAUTHENTICATED)))}shutdown(){}}class R2{constructor(t){this.t=t,this.currentUser=We.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){_t(this.o===void 0,42304);let r=this.i;const o=g=>this.i!==r?(r=this.i,n(g)):Promise.resolve();let u=new ar;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ar,t.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const g=u;t.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ar)}}),0),c()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==t?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(_t(typeof r.accessToken=="string",31837,{l:r}),new b2(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return _t(t===null||typeof t=="string",2055,{h:t}),new We(t)}}class I2{constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=We.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class C2{constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new I2(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(We.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class GE{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class x2{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,s2(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){_t(this.o===void 0,3512);const r=u=>{u.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.m;return this.m=u.token,st("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>r(u)))};const o=u=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new GE(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(_t(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new GE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function D2(a){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(a);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<a;r++)n[r]=Math.floor(256*Math.random());return n}class tp{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=D2(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<n&&(r+=t.charAt(o[u]%62))}return r}}function bt(a,t){return a<t?-1:a>t?1:0}function gg(a,t){const n=Math.min(a.length,t.length);for(let r=0;r<n;r++){const o=a.charAt(r),u=t.charAt(r);if(o!==u)return Jm(o)===Jm(u)?bt(o,u):Jm(o)?1:-1}return bt(a.length,t.length)}const V2=55296,N2=57343;function Jm(a){const t=a.charCodeAt(0);return t>=V2&&t<=N2}function Eo(a,t,n){return a.length===t.length&&a.every(((r,o)=>n(r,t[o])))}function iS(a){return a+"\0"}const KE="__name__";class Di{constructor(t,n,r){n===void 0?n=0:n>t.length&&mt(637,{offset:n,range:t.length}),r===void 0?r=t.length-n:r>t.length-n&&mt(1746,{length:r,range:t.length-n}),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Di.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Di?t.forEach((r=>{n.push(r)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let o=0;o<r;o++){const u=Di.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return bt(t.length,n.length)}static compareSegments(t,n){const r=Di.isNumericId(t),o=Di.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?Di.extractNumericId(t).compare(Di.extractNumericId(n)):gg(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Zr.fromString(t.substring(4,t.length-2))}}class Gt extends Di{construct(t,n,r){return new Gt(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new lt(Z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new Gt(n)}static emptyPath(){return new Gt([])}}const O2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fe extends Di{construct(t,n,r){return new fe(t,n,r)}static isValidIdentifier(t){return O2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===KE}static keyField(){return new fe([KE])}static fromServerFormat(t){const n=[];let r="",o=0;const u=()=>{if(r.length===0)throw new lt(Z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new lt(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new lt(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=g,o+=2}else m==="`"?(c=!c,o++):m!=="."||c?(r+=m,o++):(u(),o++)}if(u(),c)throw new lt(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new fe(n)}static emptyPath(){return new fe([])}}class ct{constructor(t){this.path=t}static fromPath(t){return new ct(Gt.fromString(t))}static fromName(t){return new ct(Gt.fromString(t).popFirst(5))}static empty(){return new ct(Gt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Gt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Gt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ct(new Gt(t.slice()))}}function rS(a,t,n){if(!n)throw new lt(Z.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${t}.`)}function M2(a,t,n,r){if(t===!0&&r===!0)throw new lt(Z.INVALID_ARGUMENT,`${a} and ${n} cannot be used together.`)}function QE(a){if(!ct.isDocumentKey(a))throw new lt(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function YE(a){if(ct.isDocumentKey(a))throw new lt(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function aS(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function yf(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(a);return t?`a custom ${t} object`:"an object"}}return typeof a=="function"?"a function":mt(12329,{type:typeof a})}function Wr(a,t){if("_delegate"in a&&(a=a._delegate),!(a instanceof t)){if(t.name===a.constructor.name)throw new lt(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=yf(a);throw new lt(Z.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return a}function P2(a,t){if(t<=0)throw new lt(Z.INVALID_ARGUMENT,`Function ${a}() requires a positive number, but it was: ${t}.`)}function Oe(a,t){const n={typeString:a};return t&&(n.value=t),n}function ku(a,t){if(!aS(a))throw new lt(Z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const o=t[r].typeString,u="value"in t[r]?{value:t[r].value}:void 0;if(!(r in a)){n=`JSON missing required field: '${r}'`;break}const c=a[r];if(o&&typeof c!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&c!==u.value){n=`Expected '${r}' field to equal '${u.value}'`;break}}if(n)throw new lt(Z.INVALID_ARGUMENT,n);return!0}const XE=-62135596800,$E=1e6;class $t{static now(){return $t.fromMillis(Date.now())}static fromDate(t){return $t.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*$E);return new $t(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new lt(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new lt(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<XE)throw new lt(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new lt(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$E}_compareTo(t){return this.seconds===t.seconds?bt(this.nanoseconds,t.nanoseconds):bt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:$t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(ku(t,$t._jsonSchema))return new $t(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-XE;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}$t._jsonSchemaVersion="firestore/timestamp/1.0",$t._jsonSchema={type:Oe("string",$t._jsonSchemaVersion),seconds:Oe("number"),nanoseconds:Oe("number")};class Et{static fromTimestamp(t){return new Et(t)}static min(){return new Et(new $t(0,0))}static max(){return new Et(new $t(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const To=-1;class Xh{constructor(t,n,r,o){this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=o}}function pg(a){return a.fields.find((t=>t.kind===2))}function Ga(a){return a.fields.filter((t=>t.kind!==2))}Xh.UNKNOWN_ID=-1;class Mh{constructor(t,n){this.fieldPath=t,this.kind=n}}class bu{constructor(t,n){this.sequenceNumber=t,this.offset=n}static empty(){return new bu(0,Vn.min())}}function sS(a,t){const n=a.toTimestamp().seconds,r=a.toTimestamp().nanoseconds+1,o=Et.fromTimestamp(r===1e9?new $t(n+1,0):new $t(n,r));return new Vn(o,ct.empty(),t)}function oS(a){return new Vn(a.readTime,a.key,To)}class Vn{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new Vn(Et.min(),ct.empty(),To)}static max(){return new Vn(Et.max(),ct.empty(),To)}}function ep(a,t){let n=a.readTime.compareTo(t.readTime);return n!==0?n:(n=ct.comparator(a.documentKey,t.documentKey),n!==0?n:bt(a.largestBatchId,t.largestBatchId))}const lS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function oa(a){if(a.code!==Z.FAILED_PRECONDITION||a.message!==lS)throw a;st("LocalStore","Unexpectedly lost primary lease")}class B{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&mt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new B(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(r,o)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):B.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):B.reject(n)}static resolve(t){return new B(((n,r)=>{n(t)}))}static reject(t){return new B(((n,r)=>{r(t)}))}static waitFor(t){return new B(((n,r)=>{let o=0,u=0,c=!1;t.forEach((m=>{++o,m.next((()=>{++u,c&&u===o&&n()}),(g=>r(g)))})),c=!0,u===o&&n()}))}static or(t){let n=B.resolve(!1);for(const r of t)n=n.next((o=>o?B.resolve(o):r()));return n}static forEach(t,n){const r=[];return t.forEach(((o,u)=>{r.push(n.call(this,o,u))})),this.waitFor(r)}static mapArray(t,n){return new B(((r,o)=>{const u=t.length,c=new Array(u);let m=0;for(let g=0;g<u;g++){const p=g;n(t[p]).next((v=>{c[p]=v,++m,m===u&&r(c)}),(v=>o(v)))}}))}static doWhile(t,n){return new B(((r,o)=>{const u=()=>{t()===!0?n().next((()=>{u()}),o):r()};u()}))}}const Cn="SimpleDb";class _f{static open(t,n,r,o){try{return new _f(n,t.transaction(o,r))}catch(u){throw new hu(n,u)}}constructor(t,n){this.action=t,this.transaction=n,this.aborted=!1,this.S=new ar,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new hu(t,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const o=np(r.target.error);this.S.reject(new hu(t,o))}}get D(){return this.S.promise}abort(t){t&&this.S.reject(t),this.aborted||(st(Cn,"Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const t=this.transaction;this.aborted||typeof t.commit!="function"||t.commit()}store(t){const n=this.transaction.objectStore(t);return new L2(n)}}class ta{static delete(t){return st(Cn,"Removing database:",t),Qa(L0().indexedDB.deleteDatabase(t)).toPromise()}static v(){if(!F0())return!1;if(ta.F())return!0;const t=Kh(),n=ta.M(t),r=0<n&&n<10,o=cS(t),u=0<o&&o<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||u)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(t,n){return t.store(n)}static M(t){const n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(t,n,r){this.name=t,this.version=n,this.N=r,this.B=null,ta.M(Kh())===12.2&&Te("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(t){return this.db||(st(Cn,"Opening database:",this.name),this.db=await new Promise(((n,r)=>{const o=indexedDB.open(this.name,this.version);o.onsuccess=u=>{const c=u.target.result;n(c)},o.onblocked=()=>{r(new hu(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=u=>{const c=u.target.error;c.name==="VersionError"?r(new lt(Z.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):c.name==="InvalidStateError"?r(new lt(Z.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+c)):r(new hu(t,c))},o.onupgradeneeded=u=>{st(Cn,'Database "'+this.name+'" requires upgrade from version:',u.oldVersion);const c=u.target.result;this.N.k(c,o.transaction,u.oldVersion,this.version).next((()=>{st(Cn,"Database upgrade to version "+this.version+" complete")}))}}))),this.K&&(this.db.onversionchange=n=>this.K(n)),this.db}q(t){this.K=t,this.db&&(this.db.onversionchange=n=>t(n))}async runTransaction(t,n,r,o){const u=n==="readonly";let c=0;for(;;){++c;try{this.db=await this.L(t);const m=_f.open(this.db,t,u?"readonly":"readwrite",r),g=o(m).next((p=>(m.C(),p))).catch((p=>(m.abort(p),B.reject(p)))).toPromise();return g.catch((()=>{})),await m.D,g}catch(m){const g=m,p=g.name!=="FirebaseError"&&c<3;if(st(Cn,"Transaction failed with error:",g.message,"Retrying:",p),this.close(),!p)return Promise.reject(g)}}}close(){this.db&&this.db.close(),this.db=void 0}}function cS(a){const t=a.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class z2{constructor(t){this.U=t,this.$=!1,this.W=null}get isDone(){return this.$}get G(){return this.W}set cursor(t){this.U=t}done(){this.$=!0}j(t){this.W=t}delete(){return Qa(this.U.delete())}}class hu extends lt{constructor(t,n){super(Z.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function la(a){return a.name==="IndexedDbTransactionError"}class L2{constructor(t){this.store=t}put(t,n){let r;return n!==void 0?(st(Cn,"PUT",this.store.name,t,n),r=this.store.put(n,t)):(st(Cn,"PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),Qa(r)}add(t){return st(Cn,"ADD",this.store.name,t,t),Qa(this.store.add(t))}get(t){return Qa(this.store.get(t)).next((n=>(n===void 0&&(n=null),st(Cn,"GET",this.store.name,t,n),n)))}delete(t){return st(Cn,"DELETE",this.store.name,t),Qa(this.store.delete(t))}count(){return st(Cn,"COUNT",this.store.name),Qa(this.store.count())}H(t,n){const r=this.options(t,n),o=r.index?this.store.index(r.index):this.store;if(typeof o.getAll=="function"){const u=o.getAll(r.range);return new B(((c,m)=>{u.onerror=g=>{m(g.target.error)},u.onsuccess=g=>{c(g.target.result)}}))}{const u=this.cursor(r),c=[];return this.J(u,((m,g)=>{c.push(g)})).next((()=>c))}}Z(t,n){const r=this.store.getAll(t,n===null?void 0:n);return new B(((o,u)=>{r.onerror=c=>{u(c.target.error)},r.onsuccess=c=>{o(c.target.result)}}))}X(t,n){st(Cn,"DELETE ALL",this.store.name);const r=this.options(t,n);r.Y=!1;const o=this.cursor(r);return this.J(o,((u,c,m)=>m.delete()))}ee(t,n){let r;n?r=t:(r={},n=t);const o=this.cursor(r);return this.J(o,n)}te(t){const n=this.cursor({});return new B(((r,o)=>{n.onerror=u=>{const c=np(u.target.error);o(c)},n.onsuccess=u=>{const c=u.target.result;c?t(c.primaryKey,c.value).next((m=>{m?c.continue():r()})):r()}}))}J(t,n){const r=[];return new B(((o,u)=>{t.onerror=c=>{u(c.target.error)},t.onsuccess=c=>{const m=c.target.result;if(!m)return void o();const g=new z2(m),p=n(m.primaryKey,m.value,g);if(p instanceof B){const v=p.catch((T=>(g.done(),B.reject(T))));r.push(v)}g.isDone?o():g.G===null?m.continue():m.continue(g.G)}})).next((()=>B.waitFor(r)))}options(t,n){let r;return t!==void 0&&(typeof t=="string"?r=t:n=t),{index:r,range:n}}cursor(t){let n="next";if(t.reverse&&(n="prev"),t.index){const r=this.store.index(t.index);return t.Y?r.openKeyCursor(t.range,n):r.openCursor(t.range,n)}return this.store.openCursor(t.range,n)}}function Qa(a){return new B(((t,n)=>{a.onsuccess=r=>{const o=r.target.result;t(o)},a.onerror=r=>{const o=np(r.target.error);n(o)}}))}let JE=!1;function np(a){const t=ta.M(Kh());if(t>=12.2&&t<13){const n="An internal error was encountered in the Indexed Database server";if(a.message.indexOf(n)>=0){const r=new lt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return JE||(JE=!0,setTimeout((()=>{throw r}),0)),r}}return a}const fu="IndexBackfiller";class U2{constructor(t,n){this.asyncQueue=t,this.ne=n,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(t){st(fu,`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(async()=>{this.task=null;try{const n=await this.ne.ie();st(fu,`Documents written: ${n}`)}catch(n){la(n)?st(fu,"Ignoring IndexedDB error during index backfill: ",n):await oa(n)}await this.re(6e4)}))}}class B2{constructor(t,n){this.localStore=t,this.persistence=n}async ie(t=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(n=>this.se(n,t)))}se(t,n){const r=new Set;let o=n,u=!0;return B.doWhile((()=>u===!0&&o>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next((c=>{if(c!==null&&!r.has(c))return st(fu,`Processing collection: ${c}`),this.oe(t,c,o).next((m=>{o-=m,r.add(c)}));u=!1})))).next((()=>n-o))}oe(t,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,n).next((o=>this.localStore.localDocuments.getNextDocuments(t,n,o,r).next((u=>{const c=u.changes;return this.localStore.indexManager.updateIndexEntries(t,c).next((()=>this._e(o,u))).next((m=>(st(fu,`Updating offset: ${m}`),this.localStore.indexManager.updateCollectionGroup(t,n,m)))).next((()=>c.size))}))))}_e(t,n){let r=t;return n.changes.forEach(((o,u)=>{const c=oS(u);ep(c,r)>0&&(r=c)})),new Vn(r.readTime,r.documentKey,Math.max(n.batchId,t.largestBatchId))}}class gn{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}gn.ce=-1;const Wa=-1;function vf(a){return a==null}function wu(a){return a===0&&1/a==-1/0}function hS(a){return typeof a=="number"&&Number.isInteger(a)&&!wu(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}const $h="";function nn(a){let t="";for(let n=0;n<a.length;n++)t.length>0&&(t=ZE(t)),t=k2(a.get(n),t);return ZE(t)}function k2(a,t){let n=t;const r=a.length;for(let o=0;o<r;o++){const u=a.charAt(o);switch(u){case"\0":n+="";break;case $h:n+="";break;default:n+=u}}return n}function ZE(a){return a+$h+""}function Ni(a){const t=a.length;if(_t(t>=2,64408,{path:a}),t===2)return _t(a.charAt(0)===$h&&a.charAt(1)==="",56145,{path:a}),Gt.emptyPath();const n=t-2,r=[];let o="";for(let u=0;u<t;){const c=a.indexOf($h,u);switch((c<0||c>n)&&mt(50515,{path:a}),a.charAt(c+1)){case"":const m=a.substring(u,c);let g;o.length===0?g=m:(o+=m,g=o,o=""),r.push(g);break;case"":o+=a.substring(u,c),o+="\0";break;case"":o+=a.substring(u,c+1);break;default:mt(61167,{path:a})}u=c+2}return new Gt(r)}const Ka="remoteDocuments",ju="owner",ro="owner",Ru="mutationQueues",j2="userId",ai="mutations",WE="batchId",Ja="userMutationsIndex",tT=["userId","batchId"];function Ph(a,t){return[a,nn(t)]}function fS(a,t,n){return[a,nn(t),n]}const q2={},So="documentMutations",Jh="remoteDocumentsV14",F2=["prefixPath","collectionGroup","readTime","documentId"],zh="documentKeyIndex",H2=["prefixPath","collectionGroup","documentId"],dS="collectionGroupIndex",G2=["collectionGroup","readTime","prefixPath","documentId"],Iu="remoteDocumentGlobal",yg="remoteDocumentGlobalKey",Ao="targets",mS="queryTargetsIndex",K2=["canonicalId","targetId"],bo="targetDocuments",Q2=["targetId","path"],ip="documentTargetsIndex",Y2=["path","targetId"],Zh="targetGlobalKey",ts="targetGlobal",Cu="collectionParents",X2=["collectionId","parent"],wo="clientMetadata",$2="clientId",Ef="bundles",J2="bundleId",Tf="namedQueries",Z2="name",rp="indexConfiguration",W2="indexId",_g="collectionGroupIndex",tC="collectionGroup",du="indexState",eC=["indexId","uid"],gS="sequenceNumberIndex",nC=["uid","sequenceNumber"],mu="indexEntries",iC=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],pS="documentKeyIndex",rC=["indexId","uid","orderedDocumentKey"],Sf="documentOverlays",aC=["userId","collectionPath","documentId"],vg="collectionPathOverlayIndex",sC=["userId","collectionPath","largestBatchId"],yS="collectionGroupOverlayIndex",oC=["userId","collectionGroup","largestBatchId"],ap="globals",lC="name",_S=[Ru,ai,So,Ka,Ao,ju,ts,bo,wo,Iu,Cu,Ef,Tf],uC=[..._S,Sf],vS=[Ru,ai,So,Jh,Ao,ju,ts,bo,wo,Iu,Cu,Ef,Tf,Sf],ES=vS,sp=[...ES,rp,du,mu],cC=sp,TS=[...sp,ap],hC=TS;class Eg extends uS{constructor(t,n){super(),this.le=t,this.currentSequenceNumber=n}}function Be(a,t){const n=pt(a);return ta.O(n.le,t)}function eT(a){let t=0;for(const n in a)Object.prototype.hasOwnProperty.call(a,n)&&t++;return t}function ua(a,t){for(const n in a)Object.prototype.hasOwnProperty.call(a,n)&&t(n,a[n])}function SS(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}class re{constructor(t,n){this.comparator=t,this.root=n||$e.EMPTY}insert(t,n){return new re(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,$e.BLACK,null,null))}remove(t){return new re(this.comparator,this.root.remove(t,this.comparator).copy(null,null,$e.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,r)=>(t(n,r),!1)))}toString(){const t=[];return this.inorderTraversal(((n,r)=>(t.push(`${n}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new wh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new wh(this.root,t,this.comparator,!1)}getReverseIterator(){return new wh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new wh(this.root,t,this.comparator,!0)}}class wh{constructor(t,n,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?r(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class $e{constructor(t,n,r,o,u){this.key=t,this.value=n,this.color=r??$e.RED,this.left=o??$e.EMPTY,this.right=u??$e.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,o,u){return new $e(t??this.key,n??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let o=this;const u=r(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,r),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return $e.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return $e.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,$e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,$e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw mt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw mt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw mt(27949);return t+(this.isRed()?0:1)}}$e.EMPTY=null,$e.RED=!0,$e.BLACK=!1;$e.EMPTY=new class{constructor(){this.size=0}get key(){throw mt(57766)}get value(){throw mt(16141)}get color(){throw mt(16727)}get left(){throw mt(29726)}get right(){throw mt(36894)}copy(t,n,r,o,u){return this}insert(t,n,r){return new $e(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Zt{constructor(t){this.comparator=t,this.data=new re(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,r)=>(t(n),!1)))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new nT(this.data.getIterator())}getIteratorFrom(t){return new nT(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((r=>{n=n.add(r)})),n}isEqual(t){if(!(t instanceof Zt)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Zt(this.comparator);return n.data=t,n}}class nT{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ao(a){return a.hasNext()?a.getNext():void 0}class pn{constructor(t){this.fields=t,t.sort(fe.comparator)}static empty(){return new pn([])}unionWith(t){let n=new Zt(fe.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new pn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Eo(this.fields,t.fields,((n,r)=>n.isEqual(r)))}}class AS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Se{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new AS("Invalid base64 string: "+u):u}})(t);return new Se(n)}static fromUint8Array(t){const n=(function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u})(t);return new Se(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return bt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Se.EMPTY_BYTE_STRING=new Se("");const fC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function lr(a){if(_t(!!a,39018),typeof a=="string"){let t=0;const n=fC.exec(a);if(_t(!!n,46558,{timestamp:a}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(a);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:he(a.seconds),nanos:he(a.nanos)}}function he(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function ur(a){return typeof a=="string"?Se.fromBase64String(a):Se.fromUint8Array(a)}const bS="server_timestamp",wS="__type__",RS="__previous_value__",IS="__local_write_time__";function op(a){return(a?.mapValue?.fields||{})[wS]?.stringValue===bS}function Af(a){const t=a.mapValue.fields[RS];return op(t)?Af(t):t}function xu(a){const t=lr(a.mapValue.fields[IS].timestampValue);return new $t(t.seconds,t.nanos)}class dC{constructor(t,n,r,o,u,c,m,g,p,v,T){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=p,this.isUsingEmulator=v,this.apiKey=T}}const Wh="(default)";class as{constructor(t,n){this.projectId=t,this.database=n||Wh}static empty(){return new as("","")}get isDefaultDatabase(){return this.database===Wh}isEqual(t){return t instanceof as&&t.projectId===this.projectId&&t.database===this.database}}function mC(a,t){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new lt(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new as(a.options.projectId,t)}const lp="__type__",CS="__max__",$r={mapValue:{fields:{__type__:{stringValue:CS}}}},up="__vector__",Ro="value",Lh={nullValue:"NULL_VALUE"};function na(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?op(a)?4:xS(a)?9007199254740991:bf(a)?10:11:mt(28295,{value:a})}function zi(a,t){if(a===t)return!0;const n=na(a);if(n!==na(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===t.booleanValue;case 4:return xu(a).isEqual(xu(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=lr(o.timestampValue),m=lr(u.timestampValue);return c.seconds===m.seconds&&c.nanos===m.nanos})(a,t);case 5:return a.stringValue===t.stringValue;case 6:return(function(o,u){return ur(o.bytesValue).isEqual(ur(u.bytesValue))})(a,t);case 7:return a.referenceValue===t.referenceValue;case 8:return(function(o,u){return he(o.geoPointValue.latitude)===he(u.geoPointValue.latitude)&&he(o.geoPointValue.longitude)===he(u.geoPointValue.longitude)})(a,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return he(o.integerValue)===he(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=he(o.doubleValue),m=he(u.doubleValue);return c===m?wu(c)===wu(m):isNaN(c)&&isNaN(m)}return!1})(a,t);case 9:return Eo(a.arrayValue.values||[],t.arrayValue.values||[],zi);case 10:case 11:return(function(o,u){const c=o.mapValue.fields||{},m=u.mapValue.fields||{};if(eT(c)!==eT(m))return!1;for(const g in c)if(c.hasOwnProperty(g)&&(m[g]===void 0||!zi(c[g],m[g])))return!1;return!0})(a,t);default:return mt(52216,{left:a})}}function Du(a,t){return(a.values||[]).find((n=>zi(n,t)))!==void 0}function ia(a,t){if(a===t)return 0;const n=na(a),r=na(t);if(n!==r)return bt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return bt(a.booleanValue,t.booleanValue);case 2:return(function(u,c){const m=he(u.integerValue||u.doubleValue),g=he(c.integerValue||c.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(a,t);case 3:return iT(a.timestampValue,t.timestampValue);case 4:return iT(xu(a),xu(t));case 5:return gg(a.stringValue,t.stringValue);case 6:return(function(u,c){const m=ur(u),g=ur(c);return m.compareTo(g)})(a.bytesValue,t.bytesValue);case 7:return(function(u,c){const m=u.split("/"),g=c.split("/");for(let p=0;p<m.length&&p<g.length;p++){const v=bt(m[p],g[p]);if(v!==0)return v}return bt(m.length,g.length)})(a.referenceValue,t.referenceValue);case 8:return(function(u,c){const m=bt(he(u.latitude),he(c.latitude));return m!==0?m:bt(he(u.longitude),he(c.longitude))})(a.geoPointValue,t.geoPointValue);case 9:return rT(a.arrayValue,t.arrayValue);case 10:return(function(u,c){const m=u.fields||{},g=c.fields||{},p=m[Ro]?.arrayValue,v=g[Ro]?.arrayValue,T=bt(p?.values?.length||0,v?.values?.length||0);return T!==0?T:rT(p,v)})(a.mapValue,t.mapValue);case 11:return(function(u,c){if(u===$r.mapValue&&c===$r.mapValue)return 0;if(u===$r.mapValue)return 1;if(c===$r.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),p=c.fields||{},v=Object.keys(p);g.sort(),v.sort();for(let T=0;T<g.length&&T<v.length;++T){const b=gg(g[T],v[T]);if(b!==0)return b;const D=ia(m[g[T]],p[v[T]]);if(D!==0)return D}return bt(g.length,v.length)})(a.mapValue,t.mapValue);default:throw mt(23264,{he:n})}}function iT(a,t){if(typeof a=="string"&&typeof t=="string"&&a.length===t.length)return bt(a,t);const n=lr(a),r=lr(t),o=bt(n.seconds,r.seconds);return o!==0?o:bt(n.nanos,r.nanos)}function rT(a,t){const n=a.values||[],r=t.values||[];for(let o=0;o<n.length&&o<r.length;++o){const u=ia(n[o],r[o]);if(u)return u}return bt(n.length,r.length)}function Io(a){return Tg(a)}function Tg(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(n){const r=lr(n);return`time(${r.seconds},${r.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(n){return ur(n).toBase64()})(a.bytesValue):"referenceValue"in a?(function(n){return ct.fromName(n).toString()})(a.referenceValue):"geoPointValue"in a?(function(n){return`geo(${n.latitude},${n.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(n){let r="[",o=!0;for(const u of n.values||[])o?o=!1:r+=",",r+=Tg(u);return r+"]"})(a.arrayValue):"mapValue"in a?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const c of r)u?u=!1:o+=",",o+=`${c}:${Tg(n.fields[c])}`;return o+"}"})(a.mapValue):mt(61005,{value:a})}function Uh(a){switch(na(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Af(a);return t?16+Uh(t):16;case 5:return 2*a.stringValue.length;case 6:return ur(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+Uh(u)),0)})(a.arrayValue);case 10:case 11:return(function(r){let o=0;return ua(r.fields,((u,c)=>{o+=u.length+Uh(c)})),o})(a.mapValue);default:throw mt(13486,{value:a})}}function Vu(a,t){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${t.path.canonicalString()}`}}function Sg(a){return!!a&&"integerValue"in a}function Nu(a){return!!a&&"arrayValue"in a}function aT(a){return!!a&&"nullValue"in a}function sT(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Bh(a){return!!a&&"mapValue"in a}function bf(a){return(a?.mapValue?.fields||{})[lp]?.stringValue===up}function gu(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const t={mapValue:{fields:{}}};return ua(a.mapValue.fields,((n,r)=>t.mapValue.fields[n]=gu(r))),t}if(a.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(a.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=gu(a.arrayValue.values[n]);return t}return{...a}}function xS(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===CS}const DS={mapValue:{fields:{[lp]:{stringValue:up},[Ro]:{arrayValue:{}}}}};function gC(a){return"nullValue"in a?Lh:"booleanValue"in a?{booleanValue:!1}:"integerValue"in a||"doubleValue"in a?{doubleValue:NaN}:"timestampValue"in a?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in a?{stringValue:""}:"bytesValue"in a?{bytesValue:""}:"referenceValue"in a?Vu(as.empty(),ct.empty()):"geoPointValue"in a?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in a?{arrayValue:{}}:"mapValue"in a?bf(a)?DS:{mapValue:{}}:mt(35942,{value:a})}function pC(a){return"nullValue"in a?{booleanValue:!1}:"booleanValue"in a?{doubleValue:NaN}:"integerValue"in a||"doubleValue"in a?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in a?{stringValue:""}:"stringValue"in a?{bytesValue:""}:"bytesValue"in a?Vu(as.empty(),ct.empty()):"referenceValue"in a?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in a?{arrayValue:{}}:"arrayValue"in a?DS:"mapValue"in a?bf(a)?{mapValue:{}}:$r:mt(61959,{value:a})}function oT(a,t){const n=ia(a.value,t.value);return n!==0?n:a.inclusive&&!t.inclusive?-1:!a.inclusive&&t.inclusive?1:0}function lT(a,t){const n=ia(a.value,t.value);return n!==0?n:a.inclusive&&!t.inclusive?1:!a.inclusive&&t.inclusive?-1:0}class en{constructor(t){this.value=t}static empty(){return new en({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!Bh(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=gu(n)}setAll(t){let n=fe.emptyPath(),r={},o=[];t.forEach(((c,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,r,o),r={},o=[],n=m.popLast()}c?r[m.lastSegment()]=gu(c):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,r,o)}delete(t){const n=this.field(t.popLast());Bh(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return zi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=n.mapValue.fields[t.get(r)];Bh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,r){ua(n,((o,u)=>t[o]=u));for(const o of r)delete t[o]}clone(){return new en(gu(this.value))}}function VS(a){const t=[];return ua(a.fields,((n,r)=>{const o=new fe([n]);if(Bh(r)){const u=VS(r.mapValue).fields;if(u.length===0)t.push(o);else for(const c of u)t.push(o.child(c))}else t.push(o)})),new pn(t)}class pe{constructor(t,n,r,o,u,c,m){this.key=t,this.documentType=n,this.version=r,this.readTime=o,this.createTime=u,this.data=c,this.documentState=m}static newInvalidDocument(t){return new pe(t,0,Et.min(),Et.min(),Et.min(),en.empty(),0)}static newFoundDocument(t,n,r,o){return new pe(t,1,n,Et.min(),r,o,0)}static newNoDocument(t,n){return new pe(t,2,n,Et.min(),Et.min(),en.empty(),0)}static newUnknownDocument(t,n){return new pe(t,3,n,Et.min(),Et.min(),en.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=en.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=en.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof pe&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new pe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Co{constructor(t,n){this.position=t,this.inclusive=n}}function uT(a,t,n){let r=0;for(let o=0;o<a.position.length;o++){const u=t[o],c=a.position[o];if(u.field.isKeyField()?r=ct.comparator(ct.fromName(c.referenceValue),n.key):r=ia(c,n.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function cT(a,t){if(a===null)return t===null;if(t===null||a.inclusive!==t.inclusive||a.position.length!==t.position.length)return!1;for(let n=0;n<a.position.length;n++)if(!zi(a.position[n],t.position[n]))return!1;return!0}class Ou{constructor(t,n="asc"){this.field=t,this.dir=n}}function yC(a,t){return a.dir===t.dir&&a.field.isEqual(t.field)}class NS{}class Pt extends NS{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new _C(t,n,r):n==="array-contains"?new TC(t,r):n==="in"?new US(t,r):n==="not-in"?new SC(t,r):n==="array-contains-any"?new AC(t,r):new Pt(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new vC(t,r):new EC(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ia(n,this.value)):n!==null&&na(this.value)===na(n)&&this.matchesComparison(ia(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return mt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Jt extends NS{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Jt(t,n)}matches(t){return xo(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function xo(a){return a.op==="and"}function Ag(a){return a.op==="or"}function cp(a){return OS(a)&&xo(a)}function OS(a){for(const t of a.filters)if(t instanceof Jt)return!1;return!0}function bg(a){if(a instanceof Pt)return a.field.canonicalString()+a.op.toString()+Io(a.value);if(cp(a))return a.filters.map((t=>bg(t))).join(",");{const t=a.filters.map((n=>bg(n))).join(",");return`${a.op}(${t})`}}function MS(a,t){return a instanceof Pt?(function(r,o){return o instanceof Pt&&r.op===o.op&&r.field.isEqual(o.field)&&zi(r.value,o.value)})(a,t):a instanceof Jt?(function(r,o){return o instanceof Jt&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,c,m)=>u&&MS(c,o.filters[m])),!0):!1})(a,t):void mt(19439)}function PS(a,t){const n=a.filters.concat(t);return Jt.create(n,a.op)}function zS(a){return a instanceof Pt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Io(n.value)}`})(a):a instanceof Jt?(function(n){return n.op.toString()+" {"+n.getFilters().map(zS).join(" ,")+"}"})(a):"Filter"}class _C extends Pt{constructor(t,n,r){super(t,n,r),this.key=ct.fromName(r.referenceValue)}matches(t){const n=ct.comparator(t.key,this.key);return this.matchesComparison(n)}}class vC extends Pt{constructor(t,n){super(t,"in",n),this.keys=LS("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class EC extends Pt{constructor(t,n){super(t,"not-in",n),this.keys=LS("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function LS(a,t){return(t.arrayValue?.values||[]).map((n=>ct.fromName(n.referenceValue)))}class TC extends Pt{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Nu(n)&&Du(n.arrayValue,this.value)}}class US extends Pt{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Du(this.value.arrayValue,n)}}class SC extends Pt{constructor(t,n){super(t,"not-in",n)}matches(t){if(Du(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Du(this.value.arrayValue,n)}}class AC extends Pt{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Nu(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Du(this.value.arrayValue,r)))}}class bC{constructor(t,n=null,r=[],o=[],u=null,c=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=c,this.endAt=m,this.Te=null}}function wg(a,t=null,n=[],r=[],o=null,u=null,c=null){return new bC(a,t,n,r,o,u,c)}function ss(a){const t=pt(a);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((r=>bg(r))).join(","),n+="|ob:",n+=t.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),vf(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((r=>Io(r))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((r=>Io(r))).join(",")),t.Te=n}return t.Te}function qu(a,t){if(a.limit!==t.limit||a.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<a.orderBy.length;n++)if(!yC(a.orderBy[n],t.orderBy[n]))return!1;if(a.filters.length!==t.filters.length)return!1;for(let n=0;n<a.filters.length;n++)if(!MS(a.filters[n],t.filters[n]))return!1;return a.collectionGroup===t.collectionGroup&&!!a.path.isEqual(t.path)&&!!cT(a.startAt,t.startAt)&&cT(a.endAt,t.endAt)}function tf(a){return ct.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}function ef(a,t){return a.filters.filter((n=>n instanceof Pt&&n.field.isEqual(t)))}function hT(a,t,n){let r=Lh,o=!0;for(const u of ef(a,t)){let c=Lh,m=!0;switch(u.op){case"<":case"<=":c=gC(u.value);break;case"==":case"in":case">=":c=u.value;break;case">":c=u.value,m=!1;break;case"!=":case"not-in":c=Lh}oT({value:r,inclusive:o},{value:c,inclusive:m})<0&&(r=c,o=m)}if(n!==null){for(let u=0;u<a.orderBy.length;++u)if(a.orderBy[u].field.isEqual(t)){const c=n.position[u];oT({value:r,inclusive:o},{value:c,inclusive:n.inclusive})<0&&(r=c,o=n.inclusive);break}}return{value:r,inclusive:o}}function fT(a,t,n){let r=$r,o=!0;for(const u of ef(a,t)){let c=$r,m=!0;switch(u.op){case">=":case">":c=pC(u.value),m=!1;break;case"==":case"in":case"<=":c=u.value;break;case"<":c=u.value,m=!1;break;case"!=":case"not-in":c=$r}lT({value:r,inclusive:o},{value:c,inclusive:m})>0&&(r=c,o=m)}if(n!==null){for(let u=0;u<a.orderBy.length;++u)if(a.orderBy[u].field.isEqual(t)){const c=n.position[u];lT({value:r,inclusive:o},{value:c,inclusive:n.inclusive})>0&&(r=c,o=n.inclusive);break}}return{value:r,inclusive:o}}class qo{constructor(t,n=null,r=[],o=[],u=null,c="F",m=null,g=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=c,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function BS(a,t,n,r,o,u,c,m){return new qo(a,t,n,r,o,u,c,m)}function wf(a){return new qo(a)}function dT(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function wC(a){return ct.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}function kS(a){return a.collectionGroup!==null}function pu(a){const t=pt(a);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let m=new Zt(fe.comparator);return c.filters.forEach((g=>{g.getFlattenedFilters().forEach((p=>{p.isInequality()&&(m=m.add(p.field))}))})),m})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Ou(u,r))})),n.has(fe.keyField().canonicalString())||t.Ie.push(new Ou(fe.keyField(),r))}return t.Ie}function Dn(a){const t=pt(a);return t.Ee||(t.Ee=RC(t,pu(a))),t.Ee}function RC(a,t){if(a.limitType==="F")return wg(a.path,a.collectionGroup,t,a.filters,a.limit,a.startAt,a.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Ou(o.field,u)}));const n=a.endAt?new Co(a.endAt.position,a.endAt.inclusive):null,r=a.startAt?new Co(a.startAt.position,a.startAt.inclusive):null;return wg(a.path,a.collectionGroup,t,a.filters,a.limit,n,r)}}function Rg(a,t){const n=a.filters.concat([t]);return new qo(a.path,a.collectionGroup,a.explicitOrderBy.slice(),n,a.limit,a.limitType,a.startAt,a.endAt)}function IC(a,t){const n=a.explicitOrderBy.concat([t]);return new qo(a.path,a.collectionGroup,n,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}function nf(a,t,n){return new qo(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),t,n,a.startAt,a.endAt)}function Rf(a,t){return qu(Dn(a),Dn(t))&&a.limitType===t.limitType}function jS(a){return`${ss(Dn(a))}|lt:${a.limitType}`}function ho(a){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>zS(o))).join(", ")}]`),vf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>Io(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>Io(o))).join(",")),`Target(${r})`})(Dn(a))}; limitType=${a.limitType})`}function Fu(a,t){return t.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):ct.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(a,t)&&(function(r,o){for(const u of pu(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(a,t)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(a,t)&&(function(r,o){return!(r.startAt&&!(function(c,m,g){const p=uT(c,m,g);return c.inclusive?p<=0:p<0})(r.startAt,pu(r),o)||r.endAt&&!(function(c,m,g){const p=uT(c,m,g);return c.inclusive?p>=0:p>0})(r.endAt,pu(r),o))})(a,t)}function qS(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function FS(a){return(t,n)=>{let r=!1;for(const o of pu(a)){const u=CC(o,t,n);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function CC(a,t,n){const r=a.field.isKeyField()?ct.comparator(t.key,n.key):(function(u,c,m){const g=c.data.field(u),p=m.data.field(u);return g!==null&&p!==null?ia(g,p):mt(42886)})(a.field,t,n);switch(a.dir){case"asc":return r;case"desc":return-1*r;default:return mt(19790,{direction:a.dir})}}class cr{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){ua(this.inner,((n,r)=>{for(const[o,u]of r)t(o,u)}))}isEmpty(){return SS(this.inner)}size(){return this.innerSize}}const xC=new re(ct.comparator);function xn(){return xC}const HS=new re(ct.comparator);function ou(...a){let t=HS;for(const n of a)t=t.insert(n.key,n);return t}function GS(a){let t=HS;return a.forEach(((n,r)=>t=t.insert(n,r.overlayedDocument))),t}function Oi(){return yu()}function KS(){return yu()}function yu(){return new cr((a=>a.toString()),((a,t)=>a.isEqual(t)))}const DC=new re(ct.comparator),VC=new Zt(ct.comparator);function Dt(...a){let t=VC;for(const n of a)t=t.add(n);return t}const NC=new Zt(bt);function hp(){return NC}function fp(a,t){if(a.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wu(t)?"-0":t}}function QS(a){return{integerValue:""+a}}function OC(a,t){return hS(t)?QS(t):fp(a,t)}class If{constructor(){this._=void 0}}function MC(a,t,n){return a instanceof Do?(function(o,u){const c={fields:{[wS]:{stringValue:bS},[IS]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&op(u)&&(u=Af(u)),u&&(c.fields[RS]=u),{mapValue:c}})(n,t):a instanceof Vo?XS(a,t):a instanceof No?$S(a,t):(function(o,u){const c=YS(o,u),m=mT(c)+mT(o.Ae);return Sg(c)&&Sg(o.Ae)?QS(m):fp(o.serializer,m)})(a,t)}function PC(a,t,n){return a instanceof Vo?XS(a,t):a instanceof No?$S(a,t):n}function YS(a,t){return a instanceof Mu?(function(r){return Sg(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(t)?t:{integerValue:0}:null}class Do extends If{}class Vo extends If{constructor(t){super(),this.elements=t}}function XS(a,t){const n=JS(t);for(const r of a.elements)n.some((o=>zi(o,r)))||n.push(r);return{arrayValue:{values:n}}}class No extends If{constructor(t){super(),this.elements=t}}function $S(a,t){let n=JS(t);for(const r of a.elements)n=n.filter((o=>!zi(o,r)));return{arrayValue:{values:n}}}class Mu extends If{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function mT(a){return he(a.integerValue||a.doubleValue)}function JS(a){return Nu(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}class ZS{constructor(t,n){this.field=t,this.transform=n}}function zC(a,t){return a.field.isEqual(t.field)&&(function(r,o){return r instanceof Vo&&o instanceof Vo||r instanceof No&&o instanceof No?Eo(r.elements,o.elements,zi):r instanceof Mu&&o instanceof Mu?zi(r.Ae,o.Ae):r instanceof Do&&o instanceof Do})(a.transform,t.transform)}class LC{constructor(t,n){this.version=t,this.transformResults=n}}class yn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new yn}static exists(t){return new yn(void 0,t)}static updateTime(t){return new yn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function kh(a,t){return a.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(a.updateTime):a.exists===void 0||a.exists===t.isFoundDocument()}class Cf{}function WS(a,t){if(!a.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return a.isNoDocument()?new dp(a.key,yn.none()):new Fo(a.key,a.data,yn.none());{const n=a.data,r=en.empty();let o=new Zt(fe.comparator);for(let u of t.fields)if(!o.has(u)){let c=n.field(u);c===null&&u.length>1&&(u=u.popLast(),c=n.field(u)),c===null?r.delete(u):r.set(u,c),o=o.add(u)}return new hr(a.key,r,new pn(o.toArray()),yn.none())}}function UC(a,t,n){a instanceof Fo?(function(o,u,c){const m=o.value.clone(),g=pT(o.fieldTransforms,u,c.transformResults);m.setAll(g),u.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(a,t,n):a instanceof hr?(function(o,u,c){if(!kh(o.precondition,u))return void u.convertToUnknownDocument(c.version);const m=pT(o.fieldTransforms,u,c.transformResults),g=u.data;g.setAll(tA(o)),g.setAll(m),u.convertToFoundDocument(c.version,g).setHasCommittedMutations()})(a,t,n):(function(o,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,n)}function _u(a,t,n,r){return a instanceof Fo?(function(u,c,m,g){if(!kh(u.precondition,c))return m;const p=u.value.clone(),v=yT(u.fieldTransforms,g,c);return p.setAll(v),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(a,t,n,r):a instanceof hr?(function(u,c,m,g){if(!kh(u.precondition,c))return m;const p=yT(u.fieldTransforms,g,c),v=c.data;return v.setAll(tA(u)),v.setAll(p),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(a,t,n,r):(function(u,c,m){return kh(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):m})(a,t,n)}function BC(a,t){let n=null;for(const r of a.fieldTransforms){const o=t.data.field(r.field),u=YS(r.transform,o||null);u!=null&&(n===null&&(n=en.empty()),n.set(r.field,u))}return n||null}function gT(a,t){return a.type===t.type&&!!a.key.isEqual(t.key)&&!!a.precondition.isEqual(t.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Eo(r,o,((u,c)=>zC(u,c)))})(a.fieldTransforms,t.fieldTransforms)&&(a.type===0?a.value.isEqual(t.value):a.type!==1||a.data.isEqual(t.data)&&a.fieldMask.isEqual(t.fieldMask))}class Fo extends Cf{constructor(t,n,r,o=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class hr extends Cf{constructor(t,n,r,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function tA(a){const t=new Map;return a.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=a.data.field(n);t.set(n,r)}})),t}function pT(a,t,n){const r=new Map;_t(a.length===n.length,32656,{Ve:n.length,de:a.length});for(let o=0;o<n.length;o++){const u=a[o],c=u.transform,m=t.data.field(u.field);r.set(u.field,PC(c,m,n[o]))}return r}function yT(a,t,n){const r=new Map;for(const o of a){const u=o.transform,c=n.data.field(o.field);r.set(o.field,MC(u,c,t))}return r}class dp extends Cf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class eA extends Cf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class mp{constructor(t,n,r,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&UC(u,t,r[o])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=_u(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=_u(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=KS();return this.mutations.forEach((o=>{const u=t.get(o.key),c=u.overlayedDocument;let m=this.applyToLocalView(c,u.mutatedFields);m=n.has(o.key)?null:m;const g=WS(c,m);g!==null&&r.set(o.key,g),c.isValidDocument()||c.convertToNoDocument(Et.min())})),r}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Dt())}isEqual(t){return this.batchId===t.batchId&&Eo(this.mutations,t.mutations,((n,r)=>gT(n,r)))&&Eo(this.baseMutations,t.baseMutations,((n,r)=>gT(n,r)))}}class gp{constructor(t,n,r,o){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(t,n,r){_t(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let o=(function(){return DC})();const u=t.mutations;for(let c=0;c<u.length;c++)o=o.insert(u[c].key,r[c].version);return new gp(t,n,r,o)}}class pp{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class kC{constructor(t,n){this.count=t,this.unchangedNames=n}}var Ne,Ut;function jC(a){switch(a){case Z.OK:return mt(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return mt(15467,{code:a})}}function nA(a){if(a===void 0)return Te("GRPC error has no .code"),Z.UNKNOWN;switch(a){case Ne.OK:return Z.OK;case Ne.CANCELLED:return Z.CANCELLED;case Ne.UNKNOWN:return Z.UNKNOWN;case Ne.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Ne.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Ne.INTERNAL:return Z.INTERNAL;case Ne.UNAVAILABLE:return Z.UNAVAILABLE;case Ne.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Ne.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Ne.NOT_FOUND:return Z.NOT_FOUND;case Ne.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Ne.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Ne.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Ne.ABORTED:return Z.ABORTED;case Ne.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Ne.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Ne.DATA_LOSS:return Z.DATA_LOSS;default:return mt(39323,{code:a})}}(Ut=Ne||(Ne={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";function qC(){return new TextEncoder}const FC=new Zr([4294967295,4294967295],0);function _T(a){const t=qC().encode(a),n=new $0;return n.update(t),new Uint8Array(n.digest())}function vT(a){const t=new DataView(a.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Zr([n,r],0),new Zr([o,u],0)]}class yp{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new lu(`Invalid padding: ${n}`);if(r<0)throw new lu(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new lu(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new lu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Zr.fromNumber(this.ge)}ye(t,n,r){let o=t.add(n.multiply(Zr.fromNumber(r)));return o.compare(FC)===1&&(o=new Zr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=_T(t),[r,o]=vT(n);for(let u=0;u<this.hashCount;u++){const c=this.ye(r,o,u);if(!this.we(c))return!1}return!0}static create(t,n,r){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),c=new yp(u,o,n);return r.forEach((m=>c.insert(m))),c}insert(t){if(this.ge===0)return;const n=_T(t),[r,o]=vT(n);for(let u=0;u<this.hashCount;u++){const c=this.ye(r,o,u);this.be(c)}}be(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class lu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Hu{constructor(t,n,r,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const o=new Map;return o.set(t,Gu.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new Hu(Et.min(),o,new re(bt),xn(),Dt())}}class Gu{constructor(t,n,r,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new Gu(r,n,Dt(),Dt(),Dt())}}class jh{constructor(t,n,r,o){this.Se=t,this.removedTargetIds=n,this.key=r,this.De=o}}class iA{constructor(t,n){this.targetId=t,this.Ce=n}}class rA{constructor(t,n,r=Se.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=o}}class ET{constructor(){this.ve=0,this.Fe=TT(),this.Me=Se.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Dt(),n=Dt(),r=Dt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:mt(38017,{changeType:u})}})),new Gu(this.Me,this.xe,t,n,r)}Ke(){this.Oe=!1,this.Fe=TT()}qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,_t(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class HC{constructor(t){this.Ge=t,this.ze=new Map,this.je=xn(),this.He=Rh(),this.Je=Rh(),this.Ze=new re(bt)}Xe(t){for(const n of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const r=this.nt(n);switch(t.state){case 0:this.rt(n)&&r.Le(t.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(t.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(t.resumeToken));break;default:mt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((r,o)=>{this.rt(o)&&n(o)}))}st(t){const n=t.targetId,r=t.Ce.count,o=this.ot(n);if(o){const u=o.target;if(tf(u))if(r===0){const c=new ct(u.path);this.et(n,c,pe.newNoDocument(c,Et.min()))}else _t(r===1,20013,{expectedCount:r});else{const c=this._t(n);if(c!==r){const m=this.ut(t),g=m?this.ct(m,t,c):1;if(g!==0){this.it(n);const p=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=n;let c,m;try{c=ur(r).toUint8Array()}catch(g){if(g instanceof AS)return vo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new yp(c,o,u)}catch(g){return vo(g instanceof lu?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(t,n,r){return n.Ce.count===r-this.Pt(t,n.targetId)?0:2}Pt(t,n){const r=this.Ge.getRemoteKeysForTarget(n);let o=0;return r.forEach((u=>{const c=this.Ge.ht(),m=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(t){const n=new Map;this.ze.forEach(((u,c)=>{const m=this.ot(c);if(m){if(u.current&&tf(m.target)){const g=new ct(m.target.path);this.It(g).has(c)||this.Et(c,g)||this.et(c,g,pe.newNoDocument(g,t))}u.Be&&(n.set(c,u.ke()),u.Ke())}}));let r=Dt();this.Je.forEach(((u,c)=>{let m=!0;c.forEachWhile((g=>{const p=this.ot(g);return!p||p.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(r=r.add(u))})),this.je.forEach(((u,c)=>c.setReadTime(t)));const o=new Hu(t,n,this.Ze,this.je,r);return this.je=xn(),this.He=Rh(),this.Je=Rh(),this.Ze=new re(bt),o}Ye(t,n){if(!this.rt(t))return;const r=this.Et(t,n.key)?2:0;this.nt(t).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(t)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(t))}et(t,n,r){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(t)),this.Je=this.Je.insert(n,this.Rt(n).add(t)),r&&(this.je=this.je.insert(n,r))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let n=this.ze.get(t);return n||(n=new ET,this.ze.set(t,n)),n}Rt(t){let n=this.Je.get(t);return n||(n=new Zt(bt),this.Je=this.Je.insert(t,n)),n}It(t){let n=this.He.get(t);return n||(n=new Zt(bt),this.He=this.He.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||st("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new ET),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Rh(){return new re(ct.comparator)}function TT(){return new re(ct.comparator)}const GC={asc:"ASCENDING",desc:"DESCENDING"},KC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},QC={and:"AND",or:"OR"};class YC{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Ig(a,t){return a.useProto3Json||vf(t)?t:{value:t}}function Oo(a,t){return a.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function aA(a,t){return a.useProto3Json?t.toBase64():t.toUint8Array()}function XC(a,t){return Oo(a,t.toTimestamp())}function on(a){return _t(!!a,49232),Et.fromTimestamp((function(n){const r=lr(n);return new $t(r.seconds,r.nanos)})(a))}function _p(a,t){return Cg(a,t).canonicalString()}function Cg(a,t){const n=(function(o){return new Gt(["projects",o.projectId,"databases",o.database])})(a).child("documents");return t===void 0?n:n.child(t)}function sA(a){const t=Gt.fromString(a);return _t(gA(t),10190,{key:t.toString()}),t}function rf(a,t){return _p(a.databaseId,t.path)}function es(a,t){const n=sA(t);if(n.get(1)!==a.databaseId.projectId)throw new lt(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+a.databaseId.projectId);if(n.get(3)!==a.databaseId.database)throw new lt(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+a.databaseId.database);return new ct(uA(n))}function oA(a,t){return _p(a.databaseId,t)}function lA(a){const t=sA(a);return t.length===4?Gt.emptyPath():uA(t)}function xg(a){return new Gt(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function uA(a){return _t(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function ST(a,t,n){return{name:rf(a,t),fields:n.value.mapValue.fields}}function $C(a,t,n){const r=es(a,t.name),o=on(t.updateTime),u=t.createTime?on(t.createTime):Et.min(),c=new en({mapValue:{fields:t.fields}}),m=pe.newFoundDocument(r,o,u,c);return n&&m.setHasCommittedMutations(),n?m.setHasCommittedMutations():m}function JC(a,t){let n;if("targetChange"in t){t.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:mt(39313,{state:p})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(p,v){return p.useProto3Json?(_t(v===void 0||typeof v=="string",58123),Se.fromBase64String(v||"")):(_t(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Se.fromUint8Array(v||new Uint8Array))})(a,t.targetChange.resumeToken),c=t.targetChange.cause,m=c&&(function(p){const v=p.code===void 0?Z.UNKNOWN:nA(p.code);return new lt(v,p.message||"")})(c);n=new rA(r,o,u,m||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=es(a,r.document.name),u=on(r.document.updateTime),c=r.document.createTime?on(r.document.createTime):Et.min(),m=new en({mapValue:{fields:r.document.fields}}),g=pe.newFoundDocument(o,u,c,m),p=r.targetIds||[],v=r.removedTargetIds||[];n=new jh(p,v,g.key,g)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=es(a,r.document),u=r.readTime?on(r.readTime):Et.min(),c=pe.newNoDocument(o,u),m=r.removedTargetIds||[];n=new jh([],m,c.key,c)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=es(a,r.document),u=r.removedTargetIds||[];n=new jh([],u,o,null)}else{if(!("filter"in t))return mt(11601,{Vt:t});{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,c=new kC(o,u),m=r.targetId;n=new iA(m,c)}}return n}function af(a,t){let n;if(t instanceof Fo)n={update:ST(a,t.key,t.value)};else if(t instanceof dp)n={delete:rf(a,t.key)};else if(t instanceof hr)n={update:ST(a,t.key,t.data),updateMask:ix(t.fieldMask)};else{if(!(t instanceof eA))return mt(16599,{dt:t.type});n={verify:rf(a,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((r=>(function(u,c){const m=c.transform;if(m instanceof Do)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Vo)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof No)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Mu)return{fieldPath:c.field.canonicalString(),increment:m.Ae};throw mt(20930,{transform:c.transform})})(0,r)))),t.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:XC(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:mt(27497)})(a,t.precondition)),n}function Dg(a,t){const n=t.currentDocument?(function(u){return u.updateTime!==void 0?yn.updateTime(on(u.updateTime)):u.exists!==void 0?yn.exists(u.exists):yn.none()})(t.currentDocument):yn.none(),r=t.updateTransforms?t.updateTransforms.map((o=>(function(c,m){let g=null;if("setToServerValue"in m)_t(m.setToServerValue==="REQUEST_TIME",16630,{proto:m}),g=new Do;else if("appendMissingElements"in m){const v=m.appendMissingElements.values||[];g=new Vo(v)}else if("removeAllFromArray"in m){const v=m.removeAllFromArray.values||[];g=new No(v)}else"increment"in m?g=new Mu(c,m.increment):mt(16584,{proto:m});const p=fe.fromServerFormat(m.fieldPath);return new ZS(p,g)})(a,o))):[];if(t.update){t.update.name;const o=es(a,t.update.name),u=new en({mapValue:{fields:t.update.fields}});if(t.updateMask){const c=(function(g){const p=g.fieldPaths||[];return new pn(p.map((v=>fe.fromServerFormat(v))))})(t.updateMask);return new hr(o,u,c,n,r)}return new Fo(o,u,n,r)}if(t.delete){const o=es(a,t.delete);return new dp(o,n)}if(t.verify){const o=es(a,t.verify);return new eA(o,n)}return mt(1463,{proto:t})}function ZC(a,t){return a&&a.length>0?(_t(t!==void 0,14353),a.map((n=>(function(o,u){let c=o.updateTime?on(o.updateTime):on(u);return c.isEqual(Et.min())&&(c=on(u)),new LC(c,o.transformResults||[])})(n,t)))):[]}function cA(a,t){return{documents:[oA(a,t.path)]}}function hA(a,t){const n={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=oA(a,o);const u=(function(p){if(p.length!==0)return mA(Jt.create(p,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const c=(function(p){if(p.length!==0)return p.map((v=>(function(b){return{field:fo(b.field),direction:tx(b.dir)}})(v)))})(t.orderBy);c&&(n.structuredQuery.orderBy=c);const m=Ig(a,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(t.endAt)),{ft:n,parent:o}}function fA(a){let t=lA(a.parent);const n=a.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){_t(r===1,65062);const v=n.from[0];v.allDescendants?o=v.collectionId:t=t.child(v.collectionId)}let u=[];n.where&&(u=(function(T){const b=dA(T);return b instanceof Jt&&cp(b)?b.getFilters():[b]})(n.where));let c=[];n.orderBy&&(c=(function(T){return T.map((b=>(function(G){return new Ou(mo(G.field),(function(K){switch(K){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(G.direction))})(b)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let b;return b=typeof T=="object"?T.value:T,vf(b)?null:b})(n.limit));let g=null;n.startAt&&(g=(function(T){const b=!!T.before,D=T.values||[];return new Co(D,b)})(n.startAt));let p=null;return n.endAt&&(p=(function(T){const b=!T.before,D=T.values||[];return new Co(D,b)})(n.endAt)),BS(t,o,c,u,m,"F",g,p)}function WC(a,t){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return mt(28987,{purpose:o})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function dA(a){return a.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=mo(n.unaryFilter.field);return Pt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=mo(n.unaryFilter.field);return Pt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=mo(n.unaryFilter.field);return Pt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=mo(n.unaryFilter.field);return Pt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return mt(61313);default:return mt(60726)}})(a):a.fieldFilter!==void 0?(function(n){return Pt.create(mo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return mt(58110);default:return mt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(n){return Jt.create(n.compositeFilter.filters.map((r=>dA(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return mt(1026)}})(n.compositeFilter.op))})(a):mt(30097,{filter:a})}function tx(a){return GC[a]}function ex(a){return KC[a]}function nx(a){return QC[a]}function fo(a){return{fieldPath:a.canonicalString()}}function mo(a){return fe.fromServerFormat(a.fieldPath)}function mA(a){return a instanceof Pt?(function(n){if(n.op==="=="){if(sT(n.value))return{unaryFilter:{field:fo(n.field),op:"IS_NAN"}};if(aT(n.value))return{unaryFilter:{field:fo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(sT(n.value))return{unaryFilter:{field:fo(n.field),op:"IS_NOT_NAN"}};if(aT(n.value))return{unaryFilter:{field:fo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fo(n.field),op:ex(n.op),value:n.value}}})(a):a instanceof Jt?(function(n){const r=n.getFilters().map((o=>mA(o)));return r.length===1?r[0]:{compositeFilter:{op:nx(n.op),filters:r}}})(a):mt(54877,{filter:a})}function ix(a){const t=[];return a.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function gA(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}function pA(a){return!!a&&typeof a._toProto=="function"&&a._protoValueType==="ProtoValue"}class ir{constructor(t,n,r,o,u=Et.min(),c=Et.min(),m=Se.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(t){return new ir(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new ir(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class yA{constructor(t){this.yt=t}}function rx(a,t){let n;if(t.document)n=$C(a.yt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const r=ct.fromSegments(t.noDocument.path),o=ls(t.noDocument.readTime);n=pe.newNoDocument(r,o),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return mt(56709);{const r=ct.fromSegments(t.unknownDocument.path),o=ls(t.unknownDocument.version);n=pe.newUnknownDocument(r,o)}}return t.readTime&&n.setReadTime((function(o){const u=new $t(o[0],o[1]);return Et.fromTimestamp(u)})(t.readTime)),n}function AT(a,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:sf(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=(function(u,c){return{name:rf(u,c.key),fields:c.data.value.mapValue.fields,updateTime:Oo(u,c.version.toTimestamp()),createTime:Oo(u,c.createTime.toTimestamp())}})(a.yt,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:os(t.version)};else{if(!t.isUnknownDocument())return mt(57904,{document:t});r.unknownDocument={path:n.path.toArray(),version:os(t.version)}}return r}function sf(a){const t=a.toTimestamp();return[t.seconds,t.nanoseconds]}function os(a){const t=a.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function ls(a){const t=new $t(a.seconds,a.nanoseconds);return Et.fromTimestamp(t)}function Ya(a,t){const n=(t.baseMutations||[]).map((u=>Dg(a.yt,u)));for(let u=0;u<t.mutations.length-1;++u){const c=t.mutations[u];if(u+1<t.mutations.length&&t.mutations[u+1].transform!==void 0){const m=t.mutations[u+1];c.updateTransforms=m.transform.fieldTransforms,t.mutations.splice(u+1,1),++u}}const r=t.mutations.map((u=>Dg(a.yt,u))),o=$t.fromMillis(t.localWriteTimeMs);return new mp(t.batchId,o,n,r)}function uu(a){const t=ls(a.readTime),n=a.lastLimboFreeSnapshotVersion!==void 0?ls(a.lastLimboFreeSnapshotVersion):Et.min();let r;return r=(function(u){return u.documents!==void 0})(a.query)?(function(u){const c=u.documents.length;return _t(c===1,1966,{count:c}),Dn(wf(lA(u.documents[0])))})(a.query):(function(u){return Dn(fA(u))})(a.query),new ir(r,a.targetId,"TargetPurposeListen",a.lastListenSequenceNumber,t,n,Se.fromBase64String(a.resumeToken))}function _A(a,t){const n=os(t.snapshotVersion),r=os(t.lastLimboFreeSnapshotVersion);let o;o=tf(t.target)?cA(a.yt,t.target):hA(a.yt,t.target).ft;const u=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:ss(t.target),readTime:n,resumeToken:u,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:o}}function vA(a){const t=fA({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?nf(t,t.limit,"L"):t}function Zm(a,t){return new pp(t.largestBatchId,Dg(a.yt,t.overlayMutation))}function bT(a,t){const n=t.path.lastSegment();return[a,nn(t.path.popLast()),n]}function wT(a,t,n,r){return{indexId:a,uid:t,sequenceNumber:n,readTime:os(r.readTime),documentKey:nn(r.documentKey.path),largestBatchId:r.largestBatchId}}class ax{getBundleMetadata(t,n){return RT(t).get(n).next((r=>{if(r)return(function(u){return{id:u.bundleId,createTime:ls(u.createTime),version:u.version}})(r)}))}saveBundleMetadata(t,n){return RT(t).put((function(o){return{bundleId:o.id,createTime:os(on(o.createTime)),version:o.version}})(n))}getNamedQuery(t,n){return IT(t).get(n).next((r=>{if(r)return(function(u){return{name:u.name,query:vA(u.bundledQuery),readTime:ls(u.readTime)}})(r)}))}saveNamedQuery(t,n){return IT(t).put((function(o){return{name:o.name,readTime:os(on(o.readTime)),bundledQuery:o.bundledQuery}})(n))}}function RT(a){return Be(a,Ef)}function IT(a){return Be(a,Tf)}class xf{constructor(t,n){this.serializer=t,this.userId=n}static wt(t,n){const r=n.uid||"";return new xf(t,r)}getOverlay(t,n){return tu(t).get(bT(this.userId,n)).next((r=>r?Zm(this.serializer,r):null))}getOverlays(t,n){const r=Oi();return B.forEach(n,(o=>this.getOverlay(t,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(t,n,r){const o=[];return r.forEach(((u,c)=>{const m=new pp(n,c);o.push(this.bt(t,m))})),B.waitFor(o)}removeOverlaysForBatchId(t,n,r){const o=new Set;n.forEach((c=>o.add(nn(c.getCollectionPath()))));const u=[];return o.forEach((c=>{const m=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);u.push(tu(t).X(vg,m))})),B.waitFor(u)}getOverlaysForCollection(t,n,r){const o=Oi(),u=nn(n),c=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,Number.POSITIVE_INFINITY],!0);return tu(t).H(vg,c).next((m=>{for(const g of m){const p=Zm(this.serializer,g);o.set(p.getKey(),p)}return o}))}getOverlaysForCollectionGroup(t,n,r,o){const u=Oi();let c;const m=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return tu(t).ee({index:yS,range:m},((g,p,v)=>{const T=Zm(this.serializer,p);u.size()<o||T.largestBatchId===c?(u.set(T.getKey(),T),c=T.largestBatchId):v.done()})).next((()=>u))}bt(t,n){return tu(t).put((function(o,u,c){const[m,g,p]=bT(u,c.mutation.key);return{userId:u,collectionPath:g,documentId:p,collectionGroup:c.mutation.key.getCollectionGroup(),largestBatchId:c.largestBatchId,overlayMutation:af(o.yt,c.mutation)}})(this.serializer,this.userId,n))}}function tu(a){return Be(a,Sf)}class sx{St(t){return Be(t,ap)}getSessionToken(t){return this.St(t).get("sessionToken").next((n=>{const r=n?.value;return r?Se.fromUint8Array(r):Se.EMPTY_BYTE_STRING}))}setSessionToken(t,n){return this.St(t).put({name:"sessionToken",value:n.toUint8Array()})}}class Xa{constructor(){}Dt(t,n){this.Ct(t,n),n.vt()}Ct(t,n){if("nullValue"in t)this.Ft(n,5);else if("booleanValue"in t)this.Ft(n,10),n.Mt(t.booleanValue?1:0);else if("integerValue"in t)this.Ft(n,15),n.Mt(he(t.integerValue));else if("doubleValue"in t){const r=he(t.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),wu(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in t){let r=t.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=lr(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in t)this.Ot(t.stringValue,n),this.Nt(n);else if("bytesValue"in t)this.Ft(n,30),n.Bt(ur(t.bytesValue)),this.Nt(n);else if("referenceValue"in t)this.Lt(t.referenceValue,n);else if("geoPointValue"in t){const r=t.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in t?xS(t)?this.Ft(n,Number.MAX_SAFE_INTEGER):bf(t)?this.kt(t.mapValue,n):(this.Kt(t.mapValue,n),this.Nt(n)):"arrayValue"in t?(this.qt(t.arrayValue,n),this.Nt(n)):mt(19022,{Ut:t})}Ot(t,n){this.Ft(n,25),this.$t(t,n)}$t(t,n){n.xt(t)}Kt(t,n){const r=t.fields||{};this.Ft(n,55);for(const o of Object.keys(r))this.Ot(o,n),this.Ct(r[o],n)}kt(t,n){const r=t.fields||{};this.Ft(n,53);const o=Ro,u=r[o].arrayValue?.values?.length||0;this.Ft(n,15),n.Mt(he(u)),this.Ot(o,n),this.Ct(r[o],n)}qt(t,n){const r=t.values||[];this.Ft(n,50);for(const o of r)this.Ct(o,n)}Lt(t,n){this.Ft(n,37),ct.fromName(t).path.forEach((r=>{this.Ft(n,60),this.$t(r,n)}))}Ft(t,n){t.Mt(n)}Nt(t){t.Mt(2)}}Xa.Wt=new Xa;const so=255;function ox(a){if(a===0)return 8;let t=0;return a>>4||(t+=4,a<<=4),a>>6||(t+=2,a<<=2),a>>7||(t+=1),t}function CT(a){const t=64-(function(r){let o=0;for(let u=0;u<8;++u){const c=ox(255&r[u]);if(o+=c,c!==8)break}return o})(a);return Math.ceil(t/8)}class lx{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Qt(t){const n=t[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Gt(r.value),r=n.next();this.zt()}jt(t){const n=t[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ht(r.value),r=n.next();this.Jt()}Zt(t){for(const n of t){const r=n.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const o=n.codePointAt(0);this.Gt(240|o>>>18),this.Gt(128|63&o>>>12),this.Gt(128|63&o>>>6),this.Gt(128|63&o)}}this.zt()}Xt(t){for(const n of t){const r=n.charCodeAt(0);if(r<128)this.Ht(r);else if(r<2048)this.Ht(960|r>>>6),this.Ht(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ht(480|r>>>12),this.Ht(128|63&r>>>6),this.Ht(128|63&r);else{const o=n.codePointAt(0);this.Ht(240|o>>>18),this.Ht(128|63&o>>>12),this.Ht(128|63&o>>>6),this.Ht(128|63&o)}}this.Jt()}Yt(t){const n=this.en(t),r=CT(n);this.tn(1+r),this.buffer[this.position++]=255&r;for(let o=n.length-r;o<n.length;++o)this.buffer[this.position++]=255&n[o]}nn(t){const n=this.en(t),r=CT(n);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let o=n.length-r;o<n.length;++o)this.buffer[this.position++]=~(255&n[o])}rn(){this.sn(so),this.sn(255)}_n(){this.an(so),this.an(255)}reset(){this.position=0}seed(t){this.tn(t.length),this.buffer.set(t,this.position),this.position+=t.length}un(){return this.buffer.slice(0,this.position)}en(t){const n=(function(u){const c=new DataView(new ArrayBuffer(8));return c.setFloat64(0,u,!1),new Uint8Array(c.buffer)})(t),r=!!(128&n[0]);n[0]^=r?255:128;for(let o=1;o<n.length;++o)n[o]^=r?255:0;return n}Gt(t){const n=255&t;n===0?(this.sn(0),this.sn(255)):n===so?(this.sn(so),this.sn(0)):this.sn(n)}Ht(t){const n=255&t;n===0?(this.an(0),this.an(255)):n===so?(this.an(so),this.an(0)):this.an(t)}zt(){this.sn(0),this.sn(1)}Jt(){this.an(0),this.an(1)}sn(t){this.tn(1),this.buffer[this.position++]=t}an(t){this.tn(1),this.buffer[this.position++]=~t}tn(t){const n=t+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const o=new Uint8Array(r);o.set(this.buffer),this.buffer=o}}class ux{constructor(t){this.cn=t}Bt(t){this.cn.Qt(t)}xt(t){this.cn.Zt(t)}Mt(t){this.cn.Yt(t)}vt(){this.cn.rn()}}class cx{constructor(t){this.cn=t}Bt(t){this.cn.jt(t)}xt(t){this.cn.Xt(t)}Mt(t){this.cn.nn(t)}vt(){this.cn._n()}}class eu{constructor(){this.cn=new lx,this.ascending=new ux(this.cn),this.descending=new cx(this.cn)}seed(t){this.cn.seed(t)}ln(t){return t===0?this.ascending:this.descending}un(){return this.cn.un()}reset(){this.cn.reset()}}class $a{constructor(t,n,r,o){this.hn=t,this.Pn=n,this.Tn=r,this.In=o}En(){const t=this.In.length,n=t===0||this.In[t-1]===255?t+1:t,r=new Uint8Array(n);return r.set(this.In,0),n!==t?r.set([0],this.In.length):++r[r.length-1],new $a(this.hn,this.Pn,this.Tn,r)}Rn(t,n,r){return{indexId:this.hn,uid:t,arrayValue:qh(this.Tn),directionalValue:qh(this.In),orderedDocumentKey:qh(n),documentKey:r.path.toArray()}}An(t,n,r){const o=this.Rn(t,n,r);return[o.indexId,o.uid,o.arrayValue,o.directionalValue,o.orderedDocumentKey,o.documentKey]}}function Kr(a,t){let n=a.hn-t.hn;return n!==0?n:(n=xT(a.Tn,t.Tn),n!==0?n:(n=xT(a.In,t.In),n!==0?n:ct.comparator(a.Pn,t.Pn)))}function xT(a,t){for(let n=0;n<a.length&&n<t.length;++n){const r=a[n]-t[n];if(r!==0)return r}return a.length-t.length}function qh(a){return q0()?(function(n){let r="";for(let o=0;o<n.length;o++)r+=String.fromCharCode(n[o]);return r})(a):a}function DT(a){return typeof a!="string"?a:(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(a)}class VT{constructor(t){this.Vn=new Zt(((n,r)=>fe.comparator(n.field,r.field))),this.collectionId=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment(),this.dn=t.orderBy,this.mn=[];for(const n of t.filters){const r=n;r.isInequality()?this.Vn=this.Vn.add(r):this.mn.push(r)}}get fn(){return this.Vn.size>1}gn(t){if(_t(t.collectionGroup===this.collectionId,49279),this.fn)return!1;const n=pg(t);if(n!==void 0&&!this.pn(n))return!1;const r=Ga(t);let o=new Set,u=0,c=0;for(;u<r.length&&this.pn(r[u]);++u)o=o.add(r[u].fieldPath.canonicalString());if(u===r.length)return!0;if(this.Vn.size>0){const m=this.Vn.getIterator().getNext();if(!o.has(m.field.canonicalString())){const g=r[u];if(!this.yn(m,g)||!this.wn(this.dn[c++],g))return!1}++u}for(;u<r.length;++u){const m=r[u];if(c>=this.dn.length||!this.wn(this.dn[c++],m))return!1}return!0}bn(){if(this.fn)return null;let t=new Zt(fe.comparator);const n=[];for(const r of this.mn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new Mh(r.field,2));else{if(t.has(r.field))continue;t=t.add(r.field),n.push(new Mh(r.field,0))}for(const r of this.dn)r.field.isKeyField()||t.has(r.field)||(t=t.add(r.field),n.push(new Mh(r.field,r.dir==="asc"?0:1)));return new Xh(Xh.UNKNOWN_ID,this.collectionId,n,bu.empty())}pn(t){for(const n of this.mn)if(this.yn(n,t))return!0;return!1}yn(t,n){if(t===void 0||!t.field.isEqual(n.fieldPath))return!1;const r=t.op==="array-contains"||t.op==="array-contains-any";return n.kind===2===r}wn(t,n){return!!t.field.isEqual(n.fieldPath)&&(n.kind===0&&t.dir==="asc"||n.kind===1&&t.dir==="desc")}}function EA(a){if(_t(a instanceof Pt||a instanceof Jt,20012),a instanceof Pt){if(a instanceof US){const n=a.value.arrayValue?.values?.map((r=>Pt.create(a.field,"==",r)))||[];return Jt.create(n,"or")}return a}const t=a.filters.map((n=>EA(n)));return Jt.create(t,a.op)}function hx(a){if(a.getFilters().length===0)return[];const t=Og(EA(a));return _t(TA(t),7391),Vg(t)||Ng(t)?[t]:t.getFilters()}function Vg(a){return a instanceof Pt}function Ng(a){return a instanceof Jt&&cp(a)}function TA(a){return Vg(a)||Ng(a)||(function(n){if(n instanceof Jt&&Ag(n)){for(const r of n.getFilters())if(!Vg(r)&&!Ng(r))return!1;return!0}return!1})(a)}function Og(a){if(_t(a instanceof Pt||a instanceof Jt,34018),a instanceof Pt)return a;if(a.filters.length===1)return Og(a.filters[0]);const t=a.filters.map((r=>Og(r)));let n=Jt.create(t,a.op);return n=of(n),TA(n)?n:(_t(n instanceof Jt,64498),_t(xo(n),40251),_t(n.filters.length>1,57927),n.filters.reduce(((r,o)=>vp(r,o))))}function vp(a,t){let n;return _t(a instanceof Pt||a instanceof Jt,38388),_t(t instanceof Pt||t instanceof Jt,25473),n=a instanceof Pt?t instanceof Pt?(function(o,u){return Jt.create([o,u],"and")})(a,t):NT(a,t):t instanceof Pt?NT(t,a):(function(o,u){if(_t(o.filters.length>0&&u.filters.length>0,48005),xo(o)&&xo(u))return PS(o,u.getFilters());const c=Ag(o)?o:u,m=Ag(o)?u:o,g=c.filters.map((p=>vp(p,m)));return Jt.create(g,"or")})(a,t),of(n)}function NT(a,t){if(xo(t))return PS(t,a.getFilters());{const n=t.filters.map((r=>vp(a,r)));return Jt.create(n,"or")}}function of(a){if(_t(a instanceof Pt||a instanceof Jt,11850),a instanceof Pt)return a;const t=a.getFilters();if(t.length===1)return of(t[0]);if(OS(a))return a;const n=t.map((o=>of(o))),r=[];return n.forEach((o=>{o instanceof Pt?r.push(o):o instanceof Jt&&(o.op===a.op?r.push(...o.filters):r.push(o))})),r.length===1?r[0]:Jt.create(r,a.op)}class fx{constructor(){this.Sn=new Ep}addToCollectionParentIndex(t,n){return this.Sn.add(n),B.resolve()}getCollectionParents(t,n){return B.resolve(this.Sn.getEntries(n))}addFieldIndex(t,n){return B.resolve()}deleteFieldIndex(t,n){return B.resolve()}deleteAllFieldIndexes(t){return B.resolve()}createTargetIndexes(t,n){return B.resolve()}getDocumentsMatchingTarget(t,n){return B.resolve(null)}getIndexType(t,n){return B.resolve(0)}getFieldIndexes(t,n){return B.resolve([])}getNextCollectionGroupToUpdate(t){return B.resolve(null)}getMinOffset(t,n){return B.resolve(Vn.min())}getMinOffsetFromCollectionGroup(t,n){return B.resolve(Vn.min())}updateCollectionGroup(t,n,r){return B.resolve()}updateIndexEntries(t,n){return B.resolve()}}class Ep{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),o=this.index[n]||new Zt(Gt.comparator),u=!o.has(r);return this.index[n]=o.add(r),u}has(t){const n=t.lastSegment(),r=t.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(t){return(this.index[t]||new Zt(Gt.comparator)).toArray()}}const OT="IndexedDbIndexManager",Ih=new Uint8Array(0);class dx{constructor(t,n){this.databaseId=n,this.Dn=new Ep,this.Cn=new cr((r=>ss(r)),((r,o)=>qu(r,o))),this.uid=t.uid||""}addToCollectionParentIndex(t,n){if(!this.Dn.has(n)){const r=n.lastSegment(),o=n.popLast();t.addOnCommittedListener((()=>{this.Dn.add(n)}));const u={collectionId:r,parent:nn(o)};return MT(t).put(u)}return B.resolve()}getCollectionParents(t,n){const r=[],o=IDBKeyRange.bound([n,""],[iS(n),""],!1,!0);return MT(t).H(o).next((u=>{for(const c of u){if(c.collectionId!==n)break;r.push(Ni(c.parent))}return r}))}addFieldIndex(t,n){const r=nu(t),o=(function(m){return{indexId:m.indexId,collectionGroup:m.collectionGroup,fields:m.fields.map((g=>[g.fieldPath.canonicalString(),g.kind]))}})(n);delete o.indexId;const u=r.add(o);if(n.indexState){const c=lo(t);return u.next((m=>{c.put(wT(m,this.uid,n.indexState.sequenceNumber,n.indexState.offset))}))}return u.next()}deleteFieldIndex(t,n){const r=nu(t),o=lo(t),u=oo(t);return r.delete(n.indexId).next((()=>o.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))).next((()=>u.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))))}deleteAllFieldIndexes(t){const n=nu(t),r=oo(t),o=lo(t);return n.X().next((()=>r.X())).next((()=>o.X()))}createTargetIndexes(t,n){return B.forEach(this.vn(n),(r=>this.getIndexType(t,r).next((o=>{if(o===0||o===1){const u=new VT(r).bn();if(u!=null)return this.addFieldIndex(t,u)}}))))}getDocumentsMatchingTarget(t,n){const r=oo(t);let o=!0;const u=new Map;return B.forEach(this.vn(n),(c=>this.Fn(t,c).next((m=>{o&&(o=!!m),u.set(c,m)})))).next((()=>{if(o){let c=Dt();const m=[];return B.forEach(u,((g,p)=>{st(OT,`Using index ${(function(J){return`id=${J.indexId}|cg=${J.collectionGroup}|f=${J.fields.map((et=>`${et.fieldPath}:${et.kind}`)).join(",")}`})(g)} to execute ${ss(n)}`);const v=(function(J,et){const at=pg(et);if(at===void 0)return null;for(const ot of ef(J,at.fieldPath))switch(ot.op){case"array-contains-any":return ot.value.arrayValue.values||[];case"array-contains":return[ot.value]}return null})(p,g),T=(function(J,et){const at=new Map;for(const ot of Ga(et))for(const R of ef(J,ot.fieldPath))switch(R.op){case"==":case"in":at.set(ot.fieldPath.canonicalString(),R.value);break;case"not-in":case"!=":return at.set(ot.fieldPath.canonicalString(),R.value),Array.from(at.values())}return null})(p,g),b=(function(J,et){const at=[];let ot=!0;for(const R of Ga(et)){const w=R.kind===0?hT(J,R.fieldPath,J.startAt):fT(J,R.fieldPath,J.startAt);at.push(w.value),ot&&(ot=w.inclusive)}return new Co(at,ot)})(p,g),D=(function(J,et){const at=[];let ot=!0;for(const R of Ga(et)){const w=R.kind===0?fT(J,R.fieldPath,J.endAt):hT(J,R.fieldPath,J.endAt);at.push(w.value),ot&&(ot=w.inclusive)}return new Co(at,ot)})(p,g),G=this.Mn(g,p,b),Q=this.Mn(g,p,D),K=this.xn(g,p,T),z=this.On(g.indexId,v,G,b.inclusive,Q,D.inclusive,K);return B.forEach(z,(H=>r.Z(H,n.limit).next((J=>{J.forEach((et=>{const at=ct.fromSegments(et.documentKey);c.has(at)||(c=c.add(at),m.push(at))}))}))))})).next((()=>m))}return B.resolve(null)}))}vn(t){let n=this.Cn.get(t);return n||(t.filters.length===0?n=[t]:n=hx(Jt.create(t.filters,"and")).map((r=>wg(t.path,t.collectionGroup,t.orderBy,r.getFilters(),t.limit,t.startAt,t.endAt))),this.Cn.set(t,n),n)}On(t,n,r,o,u,c,m){const g=(n!=null?n.length:1)*Math.max(r.length,u.length),p=g/(n!=null?n.length:1),v=[];for(let T=0;T<g;++T){const b=n?this.Nn(n[T/p]):Ih,D=this.Bn(t,b,r[T%p],o),G=this.Ln(t,b,u[T%p],c),Q=m.map((K=>this.Bn(t,b,K,!0)));v.push(...this.createRange(D,G,Q))}return v}Bn(t,n,r,o){const u=new $a(t,ct.empty(),n,r);return o?u:u.En()}Ln(t,n,r,o){const u=new $a(t,ct.empty(),n,r);return o?u.En():u}Fn(t,n){const r=new VT(n),o=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(t,o).next((u=>{let c=null;for(const m of u)r.gn(m)&&(!c||m.fields.length>c.fields.length)&&(c=m);return c}))}getIndexType(t,n){let r=2;const o=this.vn(n);return B.forEach(o,(u=>this.Fn(t,u).next((c=>{c?r!==0&&c.fields.length<(function(g){let p=new Zt(fe.comparator),v=!1;for(const T of g.filters)for(const b of T.getFlattenedFilters())b.field.isKeyField()||(b.op==="array-contains"||b.op==="array-contains-any"?v=!0:p=p.add(b.field));for(const T of g.orderBy)T.field.isKeyField()||(p=p.add(T.field));return p.size+(v?1:0)})(u)&&(r=1):r=0})))).next((()=>(function(c){return c.limit!==null})(n)&&o.length>1&&r===2?1:r))}kn(t,n){const r=new eu;for(const o of Ga(t)){const u=n.data.field(o.fieldPath);if(u==null)return null;const c=r.ln(o.kind);Xa.Wt.Dt(u,c)}return r.un()}Nn(t){const n=new eu;return Xa.Wt.Dt(t,n.ln(0)),n.un()}Kn(t,n){const r=new eu;return Xa.Wt.Dt(Vu(this.databaseId,n),r.ln((function(u){const c=Ga(u);return c.length===0?0:c[c.length-1].kind})(t))),r.un()}xn(t,n,r){if(r===null)return[];let o=[];o.push(new eu);let u=0;for(const c of Ga(t)){const m=r[u++];for(const g of o)if(this.qn(n,c.fieldPath)&&Nu(m))o=this.Un(o,c,m);else{const p=g.ln(c.kind);Xa.Wt.Dt(m,p)}}return this.$n(o)}Mn(t,n,r){return this.xn(t,n,r.position)}$n(t){const n=[];for(let r=0;r<t.length;++r)n[r]=t[r].un();return n}Un(t,n,r){const o=[...t],u=[];for(const c of r.arrayValue.values||[])for(const m of o){const g=new eu;g.seed(m.un()),Xa.Wt.Dt(c,g.ln(n.kind)),u.push(g)}return u}qn(t,n){return!!t.filters.find((r=>r instanceof Pt&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(t,n){const r=nu(t),o=lo(t);return(n?r.H(_g,IDBKeyRange.bound(n,n)):r.H()).next((u=>{const c=[];return B.forEach(u,(m=>o.get([m.indexId,this.uid]).next((g=>{c.push((function(v,T){const b=T?new bu(T.sequenceNumber,new Vn(ls(T.readTime),new ct(Ni(T.documentKey)),T.largestBatchId)):bu.empty(),D=v.fields.map((([G,Q])=>new Mh(fe.fromServerFormat(G),Q)));return new Xh(v.indexId,v.collectionGroup,D,b)})(m,g))})))).next((()=>c))}))}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next((n=>n.length===0?null:(n.sort(((r,o)=>{const u=r.indexState.sequenceNumber-o.indexState.sequenceNumber;return u!==0?u:bt(r.collectionGroup,o.collectionGroup)})),n[0].collectionGroup)))}updateCollectionGroup(t,n,r){const o=nu(t),u=lo(t);return this.Wn(t).next((c=>o.H(_g,IDBKeyRange.bound(n,n)).next((m=>B.forEach(m,(g=>u.put(wT(g.indexId,this.uid,c,r))))))))}updateIndexEntries(t,n){const r=new Map;return B.forEach(n,((o,u)=>{const c=r.get(o.collectionGroup);return(c?B.resolve(c):this.getFieldIndexes(t,o.collectionGroup)).next((m=>(r.set(o.collectionGroup,m),B.forEach(m,(g=>this.Qn(t,o,g).next((p=>{const v=this.Gn(u,g);return p.isEqual(v)?B.resolve():this.zn(t,u,g,p,v)})))))))}))}jn(t,n,r,o){return oo(t).put(o.Rn(this.uid,this.Kn(r,n.key),n.key))}Hn(t,n,r,o){return oo(t).delete(o.An(this.uid,this.Kn(r,n.key),n.key))}Qn(t,n,r){const o=oo(t);let u=new Zt(Kr);return o.ee({index:pS,range:IDBKeyRange.only([r.indexId,this.uid,qh(this.Kn(r,n))])},((c,m)=>{u=u.add(new $a(r.indexId,n,DT(m.arrayValue),DT(m.directionalValue)))})).next((()=>u))}Gn(t,n){let r=new Zt(Kr);const o=this.kn(n,t);if(o==null)return r;const u=pg(n);if(u!=null){const c=t.data.field(u.fieldPath);if(Nu(c))for(const m of c.arrayValue.values||[])r=r.add(new $a(n.indexId,t.key,this.Nn(m),o))}else r=r.add(new $a(n.indexId,t.key,Ih,o));return r}zn(t,n,r,o,u){st(OT,"Updating index entries for document '%s'",n.key);const c=[];return(function(g,p,v,T,b){const D=g.getIterator(),G=p.getIterator();let Q=ao(D),K=ao(G);for(;Q||K;){let z=!1,H=!1;if(Q&&K){const J=v(Q,K);J<0?H=!0:J>0&&(z=!0)}else Q!=null?H=!0:z=!0;z?(T(K),K=ao(G)):H?(b(Q),Q=ao(D)):(Q=ao(D),K=ao(G))}})(o,u,Kr,(m=>{c.push(this.jn(t,n,r,m))}),(m=>{c.push(this.Hn(t,n,r,m))})),B.waitFor(c)}Wn(t){let n=1;return lo(t).ee({index:gS,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,o,u)=>{u.done(),n=o.sequenceNumber+1})).next((()=>n))}createRange(t,n,r){r=r.sort(((c,m)=>Kr(c,m))).filter(((c,m,g)=>!m||Kr(c,g[m-1])!==0));const o=[];o.push(t);for(const c of r){const m=Kr(c,t),g=Kr(c,n);if(m===0)o[0]=t.En();else if(m>0&&g<0)o.push(c),o.push(c.En());else if(g>0)break}o.push(n);const u=[];for(let c=0;c<o.length;c+=2){if(this.Jn(o[c],o[c+1]))return[];const m=o[c].An(this.uid,Ih,ct.empty()),g=o[c+1].An(this.uid,Ih,ct.empty());u.push(IDBKeyRange.bound(m,g))}return u}Jn(t,n){return Kr(t,n)>0}getMinOffsetFromCollectionGroup(t,n){return this.getFieldIndexes(t,n).next(PT)}getMinOffset(t,n){return B.mapArray(this.vn(n),(r=>this.Fn(t,r).next((o=>o||mt(44426))))).next(PT)}}function MT(a){return Be(a,Cu)}function oo(a){return Be(a,mu)}function nu(a){return Be(a,rp)}function lo(a){return Be(a,du)}function PT(a){_t(a.length!==0,28825);let t=a[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<a.length;r++){const o=a[r].indexState.offset;ep(o,t)<0&&(t=o),n<o.largestBatchId&&(n=o.largestBatchId)}return new Vn(t.readTime,t.documentKey,n)}const zT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},SA=41943040;class tn{static withCacheSize(t){return new tn(t,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}function AA(a,t,n){const r=a.store(ai),o=a.store(So),u=[],c=IDBKeyRange.only(n.batchId);let m=0;const g=r.ee({range:c},((v,T,b)=>(m++,b.delete())));u.push(g.next((()=>{_t(m===1,47070,{batchId:n.batchId})})));const p=[];for(const v of n.mutations){const T=fS(t,v.key.path,n.batchId);u.push(o.delete(T)),p.push(v.key)}return B.waitFor(u).next((()=>p))}function lf(a){if(!a)return 0;let t;if(a.document)t=a.document;else if(a.unknownDocument)t=a.unknownDocument;else{if(!a.noDocument)throw mt(14731);t=a.noDocument}return JSON.stringify(t).length}tn.DEFAULT_COLLECTION_PERCENTILE=10,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tn.DEFAULT=new tn(SA,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tn.DISABLED=new tn(-1,0,0);class Df{constructor(t,n,r,o){this.userId=t,this.serializer=n,this.indexManager=r,this.referenceDelegate=o,this.Zn={}}static wt(t,n,r,o){_t(t.uid!=="",64387);const u=t.isAuthenticated()?t.uid:"";return new Df(u,n,r,o)}checkEmpty(t){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Qr(t).ee({index:Ja,range:r},((o,u,c)=>{n=!1,c.done()})).next((()=>n))}addMutationBatch(t,n,r,o){const u=go(t),c=Qr(t);return c.add({}).next((m=>{_t(typeof m=="number",49019);const g=new mp(m,n,r,o),p=(function(D,G,Q){const K=Q.baseMutations.map((H=>af(D.yt,H))),z=Q.mutations.map((H=>af(D.yt,H)));return{userId:G,batchId:Q.batchId,localWriteTimeMs:Q.localWriteTime.toMillis(),baseMutations:K,mutations:z}})(this.serializer,this.userId,g),v=[];let T=new Zt(((b,D)=>bt(b.canonicalString(),D.canonicalString())));for(const b of o){const D=fS(this.userId,b.key.path,m);T=T.add(b.key.path.popLast()),v.push(c.put(p)),v.push(u.put(D,q2))}return T.forEach((b=>{v.push(this.indexManager.addToCollectionParentIndex(t,b))})),t.addOnCommittedListener((()=>{this.Zn[m]=g.keys()})),B.waitFor(v).next((()=>g))}))}lookupMutationBatch(t,n){return Qr(t).get(n).next((r=>r?(_t(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),Ya(this.serializer,r)):null))}Xn(t,n){return this.Zn[n]?B.resolve(this.Zn[n]):this.lookupMutationBatch(t,n).next((r=>{if(r){const o=r.keys();return this.Zn[n]=o,o}return null}))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,o=IDBKeyRange.lowerBound([this.userId,r]);let u=null;return Qr(t).ee({index:Ja,range:o},((c,m,g)=>{m.userId===this.userId&&(_t(m.batchId>=r,47524,{Yn:r}),u=Ya(this.serializer,m)),g.done()})).next((()=>u))}getHighestUnacknowledgedBatchId(t){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=Wa;return Qr(t).ee({index:Ja,range:n,reverse:!0},((o,u,c)=>{r=u.batchId,c.done()})).next((()=>r))}getAllMutationBatches(t){const n=IDBKeyRange.bound([this.userId,Wa],[this.userId,Number.POSITIVE_INFINITY]);return Qr(t).H(Ja,n).next((r=>r.map((o=>Ya(this.serializer,o)))))}getAllMutationBatchesAffectingDocumentKey(t,n){const r=Ph(this.userId,n.path),o=IDBKeyRange.lowerBound(r),u=[];return go(t).ee({range:o},((c,m,g)=>{const[p,v,T]=c,b=Ni(v);if(p===this.userId&&n.path.isEqual(b))return Qr(t).get(T).next((D=>{if(!D)throw mt(61480,{er:c,batchId:T});_t(D.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:D.userId,batchId:T}),u.push(Ya(this.serializer,D))}));g.done()})).next((()=>u))}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Zt(bt);const o=[];return n.forEach((u=>{const c=Ph(this.userId,u.path),m=IDBKeyRange.lowerBound(c),g=go(t).ee({range:m},((p,v,T)=>{const[b,D,G]=p,Q=Ni(D);b===this.userId&&u.path.isEqual(Q)?r=r.add(G):T.done()}));o.push(g)})),B.waitFor(o).next((()=>this.tr(t,r)))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,o=r.length+1,u=Ph(this.userId,r),c=IDBKeyRange.lowerBound(u);let m=new Zt(bt);return go(t).ee({range:c},((g,p,v)=>{const[T,b,D]=g,G=Ni(b);T===this.userId&&r.isPrefixOf(G)?G.length===o&&(m=m.add(D)):v.done()})).next((()=>this.tr(t,m)))}tr(t,n){const r=[],o=[];return n.forEach((u=>{o.push(Qr(t).get(u).next((c=>{if(c===null)throw mt(35274,{batchId:u});_t(c.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:c.userId,batchId:u}),r.push(Ya(this.serializer,c))})))})),B.waitFor(o).next((()=>r))}removeMutationBatch(t,n){return AA(t.le,this.userId,n).next((r=>(t.addOnCommittedListener((()=>{this.nr(n.batchId)})),B.forEach(r,(o=>this.referenceDelegate.markPotentiallyOrphaned(t,o))))))}nr(t){delete this.Zn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next((n=>{if(!n)return B.resolve();const r=IDBKeyRange.lowerBound((function(c){return[c]})(this.userId)),o=[];return go(t).ee({range:r},((u,c,m)=>{if(u[0]===this.userId){const g=Ni(u[1]);o.push(g)}else m.done()})).next((()=>{_t(o.length===0,56720,{rr:o.map((u=>u.canonicalString()))})}))}))}containsKey(t,n){return bA(t,this.userId,n)}ir(t){return wA(t).get(this.userId).next((n=>n||{userId:this.userId,lastAcknowledgedBatchId:Wa,lastStreamToken:""}))}}function bA(a,t,n){const r=Ph(t,n.path),o=r[1],u=IDBKeyRange.lowerBound(r);let c=!1;return go(a).ee({range:u,Y:!0},((m,g,p)=>{const[v,T,b]=m;v===t&&T===o&&(c=!0),p.done()})).next((()=>c))}function Qr(a){return Be(a,ai)}function go(a){return Be(a,So)}function wA(a){return Be(a,Ru)}class us{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new us(0)}static ar(){return new us(-1)}}class mx{constructor(t,n){this.referenceDelegate=t,this.serializer=n}allocateTargetId(t){return this.ur(t).next((n=>{const r=new us(n.highestTargetId);return n.highestTargetId=r.next(),this.cr(t,n).next((()=>n.highestTargetId))}))}getLastRemoteSnapshotVersion(t){return this.ur(t).next((n=>Et.fromTimestamp(new $t(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(t){return this.ur(t).next((n=>n.highestListenSequenceNumber))}setTargetsMetadata(t,n,r){return this.ur(t).next((o=>(o.highestListenSequenceNumber=n,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),n>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=n),this.cr(t,o))))}addTargetData(t,n){return this.lr(t,n).next((()=>this.ur(t).next((r=>(r.targetCount+=1,this.hr(n,r),this.cr(t,r))))))}updateTargetData(t,n){return this.lr(t,n)}removeTargetData(t,n){return this.removeMatchingKeysForTargetId(t,n.targetId).next((()=>uo(t).delete(n.targetId))).next((()=>this.ur(t))).next((r=>(_t(r.targetCount>0,8065),r.targetCount-=1,this.cr(t,r))))}removeTargets(t,n,r){let o=0;const u=[];return uo(t).ee(((c,m)=>{const g=uu(m);g.sequenceNumber<=n&&r.get(g.targetId)===null&&(o++,u.push(this.removeTargetData(t,g)))})).next((()=>B.waitFor(u))).next((()=>o))}forEachTarget(t,n){return uo(t).ee(((r,o)=>{const u=uu(o);n(u)}))}ur(t){return LT(t).get(Zh).next((n=>(_t(n!==null,2888),n)))}cr(t,n){return LT(t).put(Zh,n)}lr(t,n){return uo(t).put(_A(this.serializer,n))}hr(t,n){let r=!1;return t.targetId>n.highestTargetId&&(n.highestTargetId=t.targetId,r=!0),t.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t.sequenceNumber,r=!0),r}getTargetCount(t){return this.ur(t).next((n=>n.targetCount))}getTargetData(t,n){const r=ss(n),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let u=null;return uo(t).ee({range:o,index:mS},((c,m,g)=>{const p=uu(m);qu(n,p.target)&&(u=p,g.done())})).next((()=>u))}addMatchingKeys(t,n,r){const o=[],u=Xr(t);return n.forEach((c=>{const m=nn(c.path);o.push(u.put({targetId:r,path:m})),o.push(this.referenceDelegate.addReference(t,r,c))})),B.waitFor(o)}removeMatchingKeys(t,n,r){const o=Xr(t);return B.forEach(n,(u=>{const c=nn(u.path);return B.waitFor([o.delete([r,c]),this.referenceDelegate.removeReference(t,r,u)])}))}removeMatchingKeysForTargetId(t,n){const r=Xr(t),o=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(t,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),o=Xr(t);let u=Dt();return o.ee({range:r,Y:!0},((c,m,g)=>{const p=Ni(c[1]),v=new ct(p);u=u.add(v)})).next((()=>u))}containsKey(t,n){const r=nn(n.path),o=IDBKeyRange.bound([r],[iS(r)],!1,!0);let u=0;return Xr(t).ee({index:ip,Y:!0,range:o},(([c,m],g,p)=>{c!==0&&(u++,p.done())})).next((()=>u>0))}At(t,n){return uo(t).get(n).next((r=>r?uu(r):null))}}function uo(a){return Be(a,Ao)}function LT(a){return Be(a,ts)}function Xr(a){return Be(a,bo)}const UT="LruGarbageCollector",RA=1048576;function BT([a,t],[n,r]){const o=bt(a,n);return o===0?bt(t,r):o}class gx{constructor(t){this.Pr=t,this.buffer=new Zt(BT),this.Tr=0}Ir(){return++this.Tr}Er(t){const n=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();BT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class IA{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){st(UT,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){la(n)?st(UT,"Ignoring IndexedDB error during garbage collection: ",n):await oa(n)}await this.Ar(3e5)}))}}class px{constructor(t,n){this.Vr=t,this.params=n}calculateTargetCount(t,n){return this.Vr.dr(t).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(t,n){if(n===0)return B.resolve(gn.ce);const r=new gx(n);return this.Vr.forEachTarget(t,(o=>r.Er(o.sequenceNumber))).next((()=>this.Vr.mr(t,(o=>r.Er(o))))).next((()=>r.maxValue))}removeTargets(t,n,r){return this.Vr.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.Vr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(st("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(zT)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),zT):this.gr(t,n)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,n){let r,o,u,c,m,g,p;const v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(st("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,c=Date.now(),this.nthSequenceNumber(t,o)))).next((T=>(r=T,m=Date.now(),this.removeTargets(t,r,n)))).next((T=>(u=T,g=Date.now(),this.removeOrphanedDocuments(t,r)))).next((T=>(p=Date.now(),co()<=Bt.DEBUG&&st("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${o} in `+(m-c)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${T} documents in `+(p-g)+`ms
Total Duration: ${p-v}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function CA(a,t){return new px(a,t)}class yx{constructor(t,n){this.db=t,this.garbageCollector=CA(this,n)}dr(t){const n=this.pr(t);return this.db.getTargetCache().getTargetCount(t).next((r=>n.next((o=>r+o))))}pr(t){let n=0;return this.mr(t,(r=>{n++})).next((()=>n))}forEachTarget(t,n){return this.db.getTargetCache().forEachTarget(t,n)}mr(t,n){return this.yr(t,((r,o)=>n(o)))}addReference(t,n,r){return Ch(t,r)}removeReference(t,n,r){return Ch(t,r)}removeTargets(t,n,r){return this.db.getTargetCache().removeTargets(t,n,r)}markPotentiallyOrphaned(t,n){return Ch(t,n)}wr(t,n){return(function(o,u){let c=!1;return wA(o).te((m=>bA(o,m,u).next((g=>(g&&(c=!0),B.resolve(!g)))))).next((()=>c))})(t,n)}removeOrphanedDocuments(t,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let u=0;return this.yr(t,((c,m)=>{if(m<=n){const g=this.wr(t,c).next((p=>{if(!p)return u++,r.getEntry(t,c).next((()=>(r.removeEntry(c,Et.min()),Xr(t).delete((function(T){return[0,nn(T.path)]})(c)))))}));o.push(g)}})).next((()=>B.waitFor(o))).next((()=>r.apply(t))).next((()=>u))}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,r)}updateLimboDocument(t,n){return Ch(t,n)}yr(t,n){const r=Xr(t);let o,u=gn.ce;return r.ee({index:ip},(([c,m],{path:g,sequenceNumber:p})=>{c===0?(u!==gn.ce&&n(new ct(Ni(o)),u),u=p,o=g):u=gn.ce})).next((()=>{u!==gn.ce&&n(new ct(Ni(o)),u)}))}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function Ch(a,t){return Xr(a).put((function(r,o){return{targetId:0,path:nn(r.path),sequenceNumber:o}})(t,a.currentSequenceNumber))}class xA{constructor(){this.changes=new cr((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,pe.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class _x{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,n,r){return qa(t).put(r)}removeEntry(t,n,r){return qa(t).delete((function(u,c){const m=u.path.toArray();return[m.slice(0,m.length-2),m[m.length-2],sf(c),m[m.length-1]]})(n,r))}updateMetadata(t,n){return this.getMetadata(t).next((r=>(r.byteSize+=n,this.br(t,r))))}getEntry(t,n){let r=pe.newInvalidDocument(n);return qa(t).ee({index:zh,range:IDBKeyRange.only(iu(n))},((o,u)=>{r=this.Sr(n,u)})).next((()=>r))}Dr(t,n){let r={size:0,document:pe.newInvalidDocument(n)};return qa(t).ee({index:zh,range:IDBKeyRange.only(iu(n))},((o,u)=>{r={document:this.Sr(n,u),size:lf(u)}})).next((()=>r))}getEntries(t,n){let r=xn();return this.Cr(t,n,((o,u)=>{const c=this.Sr(o,u);r=r.insert(o,c)})).next((()=>r))}vr(t,n){let r=xn(),o=new re(ct.comparator);return this.Cr(t,n,((u,c)=>{const m=this.Sr(u,c);r=r.insert(u,m),o=o.insert(u,lf(c))})).next((()=>({documents:r,Fr:o})))}Cr(t,n,r){if(n.isEmpty())return B.resolve();let o=new Zt(qT);n.forEach((g=>o=o.add(g)));const u=IDBKeyRange.bound(iu(o.first()),iu(o.last())),c=o.getIterator();let m=c.getNext();return qa(t).ee({index:zh,range:u},((g,p,v)=>{const T=ct.fromSegments([...p.prefixPath,p.collectionGroup,p.documentId]);for(;m&&qT(m,T)<0;)r(m,null),m=c.getNext();m&&m.isEqual(T)&&(r(m,p),m=c.hasNext()?c.getNext():null),m?v.j(iu(m)):v.done()})).next((()=>{for(;m;)r(m,null),m=c.hasNext()?c.getNext():null}))}getDocumentsMatchingQuery(t,n,r,o,u){const c=n.path,m=[c.popLast().toArray(),c.lastSegment(),sf(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],g=[c.popLast().toArray(),c.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return qa(t).H(IDBKeyRange.bound(m,g,!0)).next((p=>{u?.incrementDocumentReadCount(p.length);let v=xn();for(const T of p){const b=this.Sr(ct.fromSegments(T.prefixPath.concat(T.collectionGroup,T.documentId)),T);b.isFoundDocument()&&(Fu(n,b)||o.has(b.key))&&(v=v.insert(b.key,b))}return v}))}getAllFromCollectionGroup(t,n,r,o){let u=xn();const c=jT(n,r),m=jT(n,Vn.max());return qa(t).ee({index:dS,range:IDBKeyRange.bound(c,m,!0)},((g,p,v)=>{const T=this.Sr(ct.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);u=u.insert(T.key,T),u.size===o&&v.done()})).next((()=>u))}newChangeBuffer(t){return new vx(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next((n=>n.byteSize))}getMetadata(t){return kT(t).get(yg).next((n=>(_t(!!n,20021),n)))}br(t,n){return kT(t).put(yg,n)}Sr(t,n){if(n){const r=rx(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(Et.min())))return r}return pe.newInvalidDocument(t)}}function DA(a){return new _x(a)}class vx extends xA{constructor(t,n){super(),this.Mr=t,this.trackRemovals=n,this.Or=new cr((r=>r.toString()),((r,o)=>r.isEqual(o)))}applyChanges(t){const n=[];let r=0,o=new Zt(((u,c)=>bt(u.canonicalString(),c.canonicalString())));return this.changes.forEach(((u,c)=>{const m=this.Or.get(u);if(n.push(this.Mr.removeEntry(t,u,m.readTime)),c.isValidDocument()){const g=AT(this.Mr.serializer,c);o=o.add(u.path.popLast());const p=lf(g);r+=p-m.size,n.push(this.Mr.addEntry(t,u,g))}else if(r-=m.size,this.trackRemovals){const g=AT(this.Mr.serializer,c.convertToNoDocument(Et.min()));n.push(this.Mr.addEntry(t,u,g))}})),o.forEach((u=>{n.push(this.Mr.indexManager.addToCollectionParentIndex(t,u))})),n.push(this.Mr.updateMetadata(t,r)),B.waitFor(n)}getFromCache(t,n){return this.Mr.Dr(t,n).next((r=>(this.Or.set(n,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(t,n){return this.Mr.vr(t,n).next((({documents:r,Fr:o})=>(o.forEach(((u,c)=>{this.Or.set(u,{size:c,readTime:r.get(u).readTime})})),r)))}}function kT(a){return Be(a,Iu)}function qa(a){return Be(a,Jh)}function iu(a){const t=a.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function jT(a,t){const n=t.documentKey.path.toArray();return[a,sf(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function qT(a,t){const n=a.path.toArray(),r=t.path.toArray();let o=0;for(let u=0;u<n.length-2&&u<r.length-2;++u)if(o=bt(n[u],r[u]),o)return o;return o=bt(n.length,r.length),o||(o=bt(n[n.length-2],r[r.length-2]),o||bt(n[n.length-1],r[r.length-1]))}class Ex{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class VA{constructor(t,n,r,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(t,n)))).next((o=>(r!==null&&_u(r.mutation,o,pn.empty(),$t.now()),o)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.getLocalViewOfDocuments(t,r,Dt()).next((()=>r))))}getLocalViewOfDocuments(t,n,r=Dt()){const o=Oi();return this.populateOverlays(t,o,n).next((()=>this.computeViews(t,n,o,r).next((u=>{let c=ou();return u.forEach(((m,g)=>{c=c.insert(m,g.overlayedDocument)})),c}))))}getOverlayedDocuments(t,n){const r=Oi();return this.populateOverlays(t,r,n).next((()=>this.computeViews(t,n,r,Dt())))}populateOverlays(t,n,r){const o=[];return r.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((c,m)=>{n.set(c,m)}))}))}computeViews(t,n,r,o){let u=xn();const c=yu(),m=(function(){return yu()})();return n.forEach(((g,p)=>{const v=r.get(p.key);o.has(p.key)&&(v===void 0||v.mutation instanceof hr)?u=u.insert(p.key,p):v!==void 0?(c.set(p.key,v.mutation.getFieldMask()),_u(v.mutation,p,v.mutation.getFieldMask(),$t.now())):c.set(p.key,pn.empty())})),this.recalculateAndSaveOverlays(t,u).next((g=>(g.forEach(((p,v)=>c.set(p,v))),n.forEach(((p,v)=>m.set(p,new Ex(v,c.get(p)??null)))),m)))}recalculateAndSaveOverlays(t,n){const r=yu();let o=new re(((c,m)=>c-m)),u=Dt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((c=>{for(const m of c)m.keys().forEach((g=>{const p=n.get(g);if(p===null)return;let v=r.get(g)||pn.empty();v=m.applyToLocalView(p,v),r.set(g,v);const T=(o.get(m.batchId)||Dt()).add(g);o=o.insert(m.batchId,T)}))})).next((()=>{const c=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),p=g.key,v=g.value,T=KS();v.forEach((b=>{if(!u.has(b)){const D=WS(n.get(b),r.get(b));D!==null&&T.set(b,D),u=u.add(b)}})),c.push(this.documentOverlayCache.saveOverlays(t,p,T))}return B.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,n,r,o){return wC(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):kS(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,o):this.getDocumentsMatchingCollectionQuery(t,n,r,o)}getNextDocuments(t,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,o).next((u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,o-u.size):B.resolve(Oi());let m=To,g=u;return c.next((p=>B.forEach(p,((v,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(v)?B.resolve():this.remoteDocumentCache.getEntry(t,v).next((b=>{g=g.insert(v,b)}))))).next((()=>this.populateOverlays(t,p,u))).next((()=>this.computeViews(t,g,p,Dt()))).next((v=>({batchId:m,changes:GS(v)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new ct(n)).next((r=>{let o=ou();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(t,n,r,o){const u=n.collectionGroup;let c=ou();return this.indexManager.getCollectionParents(t,u).next((m=>B.forEach(m,(g=>{const p=(function(T,b){return new qo(b,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(t,p,r,o).next((v=>{v.forEach(((T,b)=>{c=c.insert(T,b)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,n,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next((c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,u,o)))).next((c=>{u.forEach(((g,p)=>{const v=p.getKey();c.get(v)===null&&(c=c.insert(v,pe.newInvalidDocument(v)))}));let m=ou();return c.forEach(((g,p)=>{const v=u.get(g);v!==void 0&&_u(v.mutation,p,pn.empty(),$t.now()),Fu(n,p)&&(m=m.insert(g,p))})),m}))}}class Tx{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,n){return B.resolve(this.Nr.get(n))}saveBundleMetadata(t,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:on(o.createTime)}})(n)),B.resolve()}getNamedQuery(t,n){return B.resolve(this.Br.get(n))}saveNamedQuery(t,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:vA(o.bundledQuery),readTime:on(o.readTime)}})(n)),B.resolve()}}class Sx{constructor(){this.overlays=new re(ct.comparator),this.Lr=new Map}getOverlay(t,n){return B.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Oi();return B.forEach(n,(o=>this.getOverlay(t,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(t,n,r){return r.forEach(((o,u)=>{this.bt(t,n,u)})),B.resolve()}removeOverlaysForBatchId(t,n,r){const o=this.Lr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(r)),B.resolve()}getOverlaysForCollection(t,n,r){const o=Oi(),u=n.length+1,c=new ct(n.child("")),m=this.overlays.getIteratorFrom(c);for(;m.hasNext();){const g=m.getNext().value,p=g.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===u&&g.largestBatchId>r&&o.set(g.getKey(),g)}return B.resolve(o)}getOverlaysForCollectionGroup(t,n,r,o){let u=new re(((p,v)=>p-v));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let v=u.get(p.largestBatchId);v===null&&(v=Oi(),u=u.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const m=Oi(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((p,v)=>m.set(p,v))),!(m.size()>=o)););return B.resolve(m)}bt(t,n,r){const o=this.overlays.get(r.key);if(o!==null){const c=this.Lr.get(o.largestBatchId).delete(r.key);this.Lr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new pp(n,r));let u=this.Lr.get(n);u===void 0&&(u=Dt(),this.Lr.set(n,u)),this.Lr.set(n,u.add(r.key))}}class Ax{constructor(){this.sessionToken=Se.EMPTY_BYTE_STRING}getSessionToken(t){return B.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,B.resolve()}}class Tp{constructor(){this.kr=new Zt(Fe.Kr),this.qr=new Zt(Fe.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,n){const r=new Fe(t,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(t,n){t.forEach((r=>this.addReference(r,n)))}removeReference(t,n){this.Wr(new Fe(t,n))}Qr(t,n){t.forEach((r=>this.removeReference(r,n)))}Gr(t){const n=new ct(new Gt([])),r=new Fe(n,t),o=new Fe(n,t+1),u=[];return this.qr.forEachInRange([r,o],(c=>{this.Wr(c),u.push(c.key)})),u}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const n=new ct(new Gt([])),r=new Fe(n,t),o=new Fe(n,t+1);let u=Dt();return this.qr.forEachInRange([r,o],(c=>{u=u.add(c.key)})),u}containsKey(t){const n=new Fe(t,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class Fe{constructor(t,n){this.key=t,this.Hr=n}static Kr(t,n){return ct.comparator(t.key,n.key)||bt(t.Hr,n.Hr)}static Ur(t,n){return bt(t.Hr,n.Hr)||ct.comparator(t.key,n.key)}}class bx{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Zt(Fe.Kr)}checkEmpty(t){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new mp(u,n,r,o);this.mutationQueue.push(c);for(const m of o)this.Jr=this.Jr.add(new Fe(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return B.resolve(c)}lookupMutationBatch(t,n){return B.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,o=this.Xr(r),u=o<0?0:o;return B.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?Wa:this.Yn-1)}getAllMutationBatches(t){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new Fe(n,0),o=new Fe(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([r,o],(c=>{const m=this.Zr(c.Hr);u.push(m)})),B.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Zt(bt);return n.forEach((o=>{const u=new Fe(o,0),c=new Fe(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,c],(m=>{r=r.add(m.Hr)}))})),B.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,o=r.length+1;let u=r;ct.isDocumentKey(u)||(u=u.child(""));const c=new Fe(new ct(u),0);let m=new Zt(bt);return this.Jr.forEachWhile((g=>{const p=g.key.path;return!!r.isPrefixOf(p)&&(p.length===o&&(m=m.add(g.Hr)),!0)}),c),B.resolve(this.Yr(m))}Yr(t){const n=[];return t.forEach((r=>{const o=this.Zr(r);o!==null&&n.push(o)})),n}removeMutationBatch(t,n){_t(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return B.forEach(n.mutations,(o=>{const u=new Fe(o.key,n.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Jr=r}))}nr(t){}containsKey(t,n){const r=new Fe(n,0),o=this.Jr.firstAfterOrEqual(r);return B.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,B.resolve()}ei(t,n){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const n=this.Xr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class wx{constructor(t){this.ti=t,this.docs=(function(){return new re(ct.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,o=this.docs.get(r),u=o?o.size:0,c=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():pe.newInvalidDocument(n))}getEntries(t,n){let r=xn();return n.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():pe.newInvalidDocument(o))})),B.resolve(r)}getDocumentsMatchingQuery(t,n,r,o){let u=xn();const c=n.path,m=new ct(c.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:p,value:{document:v}}=g.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||ep(oS(v),r)<=0||(o.has(v.key)||Fu(n,v))&&(u=u.insert(v.key,v.mutableCopy()))}return B.resolve(u)}getAllFromCollectionGroup(t,n,r,o){mt(9500)}ni(t,n){return B.forEach(this.docs,(r=>n(r)))}newChangeBuffer(t){return new Rx(this)}getSize(t){return B.resolve(this.size)}}class Rx extends xA{constructor(t){super(),this.Mr=t}applyChanges(t){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(t,o)):this.Mr.removeEntry(r)})),B.waitFor(n)}getFromCache(t,n){return this.Mr.getEntry(t,n)}getAllFromCache(t,n){return this.Mr.getEntries(t,n)}}class Ix{constructor(t){this.persistence=t,this.ri=new cr((n=>ss(n)),qu),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.ii=0,this.si=new Tp,this.targetCount=0,this.oi=us._r()}forEachTarget(t,n){return this.ri.forEach(((r,o)=>n(o))),B.resolve()}getLastRemoteSnapshotVersion(t){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return B.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),B.resolve()}lr(t){this.ri.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.oi=new us(n),this.highestTargetId=n),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,n){return this.lr(n),this.targetCount+=1,B.resolve()}updateTargetData(t,n){return this.lr(n),B.resolve()}removeTargetData(t,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(t,n,r){let o=0;const u=[];return this.ri.forEach(((c,m)=>{m.sequenceNumber<=n&&r.get(m.targetId)===null&&(this.ri.delete(c),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),B.waitFor(u).next((()=>o))}getTargetCount(t){return B.resolve(this.targetCount)}getTargetData(t,n){const r=this.ri.get(n)||null;return B.resolve(r)}addMatchingKeys(t,n,r){return this.si.$r(n,r),B.resolve()}removeMatchingKeys(t,n,r){this.si.Qr(n,r);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((c=>{u.push(o.markPotentiallyOrphaned(t,c))})),B.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this.si.Gr(n),B.resolve()}getMatchingKeysForTargetId(t,n){const r=this.si.jr(n);return B.resolve(r)}containsKey(t,n){return B.resolve(this.si.containsKey(n))}}class Sp{constructor(t,n){this._i={},this.overlays={},this.ai=new gn(0),this.ui=!1,this.ui=!0,this.ci=new Ax,this.referenceDelegate=t(this),this.li=new Ix(this),this.indexManager=new fx,this.remoteDocumentCache=(function(o){return new wx(o)})((r=>this.referenceDelegate.hi(r))),this.serializer=new yA(n),this.Pi=new Tx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new Sx,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this._i[t.toKey()];return r||(r=new bx(n,this.referenceDelegate),this._i[t.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,n,r){st("MemoryPersistence","Starting transaction:",t);const o=new Cx(this.ai.next());return this.referenceDelegate.Ti(),r(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(t,n){return B.or(Object.values(this._i).map((r=>()=>r.containsKey(t,n))))}}class Cx extends uS{constructor(t){super(),this.currentSequenceNumber=t}}class Vf{constructor(t){this.persistence=t,this.Ri=new Tp,this.Ai=null}static Vi(t){return new Vf(t)}get di(){if(this.Ai)return this.Ai;throw mt(60996)}addReference(t,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),B.resolve()}removeReference(t,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),B.resolve()}markPotentiallyOrphaned(t,n){return this.di.add(n.toString()),B.resolve()}removeTarget(t,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>r.removeTargetData(t,n)))}Ti(){this.Ai=new Set}Ii(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.di,(r=>{const o=ct.fromPath(r);return this.mi(t,o).next((u=>{u||n.removeEntry(o,Et.min())}))})).next((()=>(this.Ai=null,n.apply(t))))}updateLimboDocument(t,n){return this.mi(t,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(t){return 0}mi(t,n){return B.or([()=>B.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ei(t,n)])}}class uf{constructor(t,n){this.persistence=t,this.fi=new cr((r=>nn(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=CA(this,n)}static Vi(t,n){return new uf(t,n)}Ti(){}Ii(t){return B.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}dr(t){const n=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>n.next((o=>r+o))))}pr(t){let n=0;return this.mr(t,(r=>{n++})).next((()=>n))}mr(t,n){return B.forEach(this.fi,((r,o)=>this.wr(t,r,o).next((u=>u?B.resolve():n(o)))))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(t,(c=>this.wr(t,c,n).next((m=>{m||(r++,u.removeEntry(c,Et.min()))})))).next((()=>u.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,n){return this.fi.set(n,t.currentSequenceNumber),B.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.fi.set(r,t.currentSequenceNumber),B.resolve()}removeReference(t,n,r){return this.fi.set(r,t.currentSequenceNumber),B.resolve()}updateLimboDocument(t,n){return this.fi.set(n,t.currentSequenceNumber),B.resolve()}hi(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Uh(t.data.value)),n}wr(t,n,r){return B.or([()=>this.persistence.Ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.fi.get(n);return B.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class xx{constructor(t){this.serializer=t}k(t,n,r,o){const u=new _f("createOrUpgrade",n);r<1&&o>=1&&((function(g){g.createObjectStore(ju)})(t),(function(g){g.createObjectStore(Ru,{keyPath:j2}),g.createObjectStore(ai,{keyPath:WE,autoIncrement:!0}).createIndex(Ja,tT,{unique:!0}),g.createObjectStore(So)})(t),FT(t),(function(g){g.createObjectStore(Ka)})(t));let c=B.resolve();return r<3&&o>=3&&(r!==0&&((function(g){g.deleteObjectStore(bo),g.deleteObjectStore(Ao),g.deleteObjectStore(ts)})(t),FT(t)),c=c.next((()=>(function(g){const p=g.store(ts),v={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Et.min().toTimestamp(),targetCount:0};return p.put(Zh,v)})(u)))),r<4&&o>=4&&(r!==0&&(c=c.next((()=>(function(g,p){return p.store(ai).H().next((T=>{g.deleteObjectStore(ai),g.createObjectStore(ai,{keyPath:WE,autoIncrement:!0}).createIndex(Ja,tT,{unique:!0});const b=p.store(ai),D=T.map((G=>b.put(G)));return B.waitFor(D)}))})(t,u)))),c=c.next((()=>{(function(g){g.createObjectStore(wo,{keyPath:$2})})(t)}))),r<5&&o>=5&&(c=c.next((()=>this.gi(u)))),r<6&&o>=6&&(c=c.next((()=>((function(g){g.createObjectStore(Iu)})(t),this.pi(u))))),r<7&&o>=7&&(c=c.next((()=>this.yi(u)))),r<8&&o>=8&&(c=c.next((()=>this.wi(t,u)))),r<9&&o>=9&&(c=c.next((()=>{(function(g){g.objectStoreNames.contains("remoteDocumentChanges")&&g.deleteObjectStore("remoteDocumentChanges")})(t)}))),r<10&&o>=10&&(c=c.next((()=>this.bi(u)))),r<11&&o>=11&&(c=c.next((()=>{(function(g){g.createObjectStore(Ef,{keyPath:J2})})(t),(function(g){g.createObjectStore(Tf,{keyPath:Z2})})(t)}))),r<12&&o>=12&&(c=c.next((()=>{(function(g){const p=g.createObjectStore(Sf,{keyPath:aC});p.createIndex(vg,sC,{unique:!1}),p.createIndex(yS,oC,{unique:!1})})(t)}))),r<13&&o>=13&&(c=c.next((()=>(function(g){const p=g.createObjectStore(Jh,{keyPath:F2});p.createIndex(zh,H2),p.createIndex(dS,G2)})(t))).next((()=>this.Si(t,u))).next((()=>t.deleteObjectStore(Ka)))),r<14&&o>=14&&(c=c.next((()=>this.Di(t,u)))),r<15&&o>=15&&(c=c.next((()=>(function(g){g.createObjectStore(rp,{keyPath:W2,autoIncrement:!0}).createIndex(_g,tC,{unique:!1}),g.createObjectStore(du,{keyPath:eC}).createIndex(gS,nC,{unique:!1}),g.createObjectStore(mu,{keyPath:iC}).createIndex(pS,rC,{unique:!1})})(t)))),r<16&&o>=16&&(c=c.next((()=>{n.objectStore(du).clear()})).next((()=>{n.objectStore(mu).clear()}))),r<17&&o>=17&&(c=c.next((()=>{(function(g){g.createObjectStore(ap,{keyPath:lC})})(t)}))),r<18&&o>=18&&q0()&&(c=c.next((()=>{n.objectStore(du).clear()})).next((()=>{n.objectStore(mu).clear()}))),c}pi(t){let n=0;return t.store(Ka).ee(((r,o)=>{n+=lf(o)})).next((()=>{const r={byteSize:n};return t.store(Iu).put(yg,r)}))}gi(t){const n=t.store(Ru),r=t.store(ai);return n.H().next((o=>B.forEach(o,(u=>{const c=IDBKeyRange.bound([u.userId,Wa],[u.userId,u.lastAcknowledgedBatchId]);return r.H(Ja,c).next((m=>B.forEach(m,(g=>{_t(g.userId===u.userId,18650,"Cannot process batch from unexpected user",{batchId:g.batchId});const p=Ya(this.serializer,g);return AA(t,u.userId,p).next((()=>{}))}))))}))))}yi(t){const n=t.store(bo),r=t.store(Ka);return t.store(ts).get(Zh).next((o=>{const u=[];return r.ee(((c,m)=>{const g=new Gt(c),p=(function(T){return[0,nn(T)]})(g);u.push(n.get(p).next((v=>v?B.resolve():(T=>n.put({targetId:0,path:nn(T),sequenceNumber:o.highestListenSequenceNumber}))(g))))})).next((()=>B.waitFor(u)))}))}wi(t,n){t.createObjectStore(Cu,{keyPath:X2});const r=n.store(Cu),o=new Ep,u=c=>{if(o.add(c)){const m=c.lastSegment(),g=c.popLast();return r.put({collectionId:m,parent:nn(g)})}};return n.store(Ka).ee({Y:!0},((c,m)=>{const g=new Gt(c);return u(g.popLast())})).next((()=>n.store(So).ee({Y:!0},(([c,m,g],p)=>{const v=Ni(m);return u(v.popLast())}))))}bi(t){const n=t.store(Ao);return n.ee(((r,o)=>{const u=uu(o),c=_A(this.serializer,u);return n.put(c)}))}Si(t,n){const r=n.store(Ka),o=[];return r.ee(((u,c)=>{const m=n.store(Jh),g=(function(T){return T.document?new ct(Gt.fromString(T.document.name).popFirst(5)):T.noDocument?ct.fromSegments(T.noDocument.path):T.unknownDocument?ct.fromSegments(T.unknownDocument.path):mt(36783)})(c).path.toArray(),p={prefixPath:g.slice(0,g.length-2),collectionGroup:g[g.length-2],documentId:g[g.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};o.push(m.put(p))})).next((()=>B.waitFor(o)))}Di(t,n){const r=n.store(ai),o=DA(this.serializer),u=new Sp(Vf.Vi,this.serializer.yt);return r.H().next((c=>{const m=new Map;return c.forEach((g=>{let p=m.get(g.userId)??Dt();Ya(this.serializer,g).keys().forEach((v=>p=p.add(v))),m.set(g.userId,p)})),B.forEach(m,((g,p)=>{const v=new We(p),T=xf.wt(this.serializer,v),b=u.getIndexManager(v),D=Df.wt(v,this.serializer,b,u.referenceDelegate);return new VA(o,D,T,b).recalculateAndSaveOverlaysForDocumentKeys(new Eg(n,gn.ce),g).next()}))}))}}function FT(a){a.createObjectStore(bo,{keyPath:Q2}).createIndex(ip,Y2,{unique:!0}),a.createObjectStore(Ao,{keyPath:"targetId"}).createIndex(mS,K2,{unique:!0}),a.createObjectStore(ts)}const Yr="IndexedDbPersistence",Wm=18e5,tg=5e3,eg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Dx="main";class Ap{constructor(t,n,r,o,u,c,m,g,p,v,T=18){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Ci=u,this.window=c,this.document=m,this.Fi=p,this.Mi=v,this.xi=T,this.ai=null,this.ui=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Oi=null,this.inForeground=!1,this.Ni=null,this.Bi=null,this.Li=Number.NEGATIVE_INFINITY,this.ki=b=>Promise.resolve(),!Ap.v())throw new lt(Z.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new yx(this,o),this.Ki=n+Dx,this.serializer=new yA(g),this.qi=new ta(this.Ki,this.xi,new xx(this.serializer)),this.ci=new sx,this.li=new mx(this.referenceDelegate,this.serializer),this.remoteDocumentCache=DA(this.serializer),this.Pi=new ax,this.window&&this.window.localStorage?this.Ui=this.window.localStorage:(this.Ui=null,v===!1&&Te(Yr,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.$i().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new lt(Z.FAILED_PRECONDITION,eg);return this.Wi(),this.Qi(),this.Gi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(t=>this.li.getHighestSequenceNumber(t)))})).then((t=>{this.ai=new gn(t,this.Fi)})).then((()=>{this.ui=!0})).catch((t=>(this.qi&&this.qi.close(),Promise.reject(t))))}zi(t){return this.ki=async n=>{if(this.started)return t(n)},t(this.isPrimary)}setDatabaseDeletedListener(t){this.qi.q((async n=>{n.newVersion===null&&await t()}))}setNetworkEnabled(t){this.networkEnabled!==t&&(this.networkEnabled=t,this.Ci.enqueueAndForget((async()=>{this.started&&await this.$i()})))}$i(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(t=>xh(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.ji(t).next((n=>{n||(this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))))}))})).next((()=>this.Hi(t))).next((n=>this.isPrimary&&!n?this.Ji(t).next((()=>!1)):!!n&&this.Zi(t).next((()=>!0)))))).catch((t=>{if(la(t))return st(Yr,"Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return st(Yr,"Releasing owner lease after error during lease refresh",t),!1})).then((t=>{this.isPrimary!==t&&this.Ci.enqueueRetryable((()=>this.ki(t))),this.isPrimary=t}))}ji(t){return ru(t).get(ro).next((n=>B.resolve(this.Xi(n))))}Yi(t){return xh(t).delete(this.clientId)}async es(){if(this.isPrimary&&!this.ts(this.Li,Wm)){this.Li=Date.now();const t=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(n=>{const r=Be(n,wo);return r.H().next((o=>{const u=this.ns(o,Wm),c=o.filter((m=>u.indexOf(m)===-1));return B.forEach(c,(m=>r.delete(m.clientId))).next((()=>c))}))})).catch((()=>[]));if(this.Ui)for(const n of t)this.Ui.removeItem(this.rs(n.clientId))}}Gi(){this.Bi=this.Ci.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.$i().then((()=>this.es())).then((()=>this.Gi()))))}Xi(t){return!!t&&t.ownerId===this.clientId}Hi(t){return this.Mi?B.resolve(!0):ru(t).get(ro).next((n=>{if(n!==null&&this.ts(n.leaseTimestampMs,tg)&&!this.ss(n.ownerId)){if(this.Xi(n)&&this.networkEnabled)return!0;if(!this.Xi(n)){if(!n.allowTabSynchronization)throw new lt(Z.FAILED_PRECONDITION,eg);return!1}}return!(!this.networkEnabled||!this.inForeground)||xh(t).H().next((r=>this.ns(r,tg).find((o=>{if(this.clientId!==o.clientId){const u=!this.networkEnabled&&o.networkEnabled,c=!this.inForeground&&o.inForeground,m=this.networkEnabled===o.networkEnabled;if(u||c&&m)return!0}return!1}))===void 0))})).next((n=>(this.isPrimary!==n&&st(Yr,`Client ${n?"is":"is not"} eligible for a primary lease.`),n)))}async shutdown(){this.ui=!1,this._s(),this.Bi&&(this.Bi.cancel(),this.Bi=null),this.us(),this.cs(),await this.qi.runTransaction("shutdown","readwrite",[ju,wo],(t=>{const n=new Eg(t,gn.ce);return this.Ji(n).next((()=>this.Yi(n)))})),this.qi.close(),this.ls()}ns(t,n){return t.filter((r=>this.ts(r.updateTimeMs,n)&&!this.ss(r.clientId)))}hs(){return this.runTransaction("getActiveClients","readonly",(t=>xh(t).H().next((n=>this.ns(n,Wm).map((r=>r.clientId))))))}get started(){return this.ui}getGlobalsCache(){return this.ci}getMutationQueue(t,n){return Df.wt(t,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new dx(t,this.serializer.yt.databaseId)}getDocumentOverlayCache(t){return xf.wt(this.serializer,t)}getBundleCache(){return this.Pi}runTransaction(t,n,r){st(Yr,"Starting transaction:",t);const o=n==="readonly"?"readonly":"readwrite",u=(function(g){return g===18?hC:g===17?TS:g===16?cC:g===15?sp:g===14?ES:g===13?vS:g===12?uC:g===11?_S:void mt(60245)})(this.xi);let c;return this.qi.runTransaction(t,o,u,(m=>(c=new Eg(m,this.ai?this.ai.next():gn.ce),n==="readwrite-primary"?this.ji(c).next((g=>!!g||this.Hi(c))).next((g=>{if(!g)throw Te(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))),new lt(Z.FAILED_PRECONDITION,lS);return r(c)})).next((g=>this.Zi(c).next((()=>g)))):this.Ps(c).next((()=>r(c)))))).then((m=>(c.raiseOnCommittedEvent(),m)))}Ps(t){return ru(t).get(ro).next((n=>{if(n!==null&&this.ts(n.leaseTimestampMs,tg)&&!this.ss(n.ownerId)&&!this.Xi(n)&&!(this.Mi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new lt(Z.FAILED_PRECONDITION,eg)}))}Zi(t){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ru(t).put(ro,n)}static v(){return ta.v()}Ji(t){const n=ru(t);return n.get(ro).next((r=>this.Xi(r)?(st(Yr,"Releasing primary lease."),n.delete(ro)):B.resolve()))}ts(t,n){const r=Date.now();return!(t<r-n)&&(!(t>r)||(Te(`Detected an update time that is in the future: ${t} > ${r}`),!1))}Wi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ni=()=>{this.Ci.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.$i())))},this.document.addEventListener("visibilitychange",this.Ni),this.inForeground=this.document.visibilityState==="visible")}us(){this.Ni&&(this.document.removeEventListener("visibilitychange",this.Ni),this.Ni=null)}Qi(){typeof this.window?.addEventListener=="function"&&(this.Oi=()=>{this._s();const t=/(?:Version|Mobile)\/1[456]/;j0()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.Ci.enterRestrictedMode(!0),this.Ci.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Oi))}cs(){this.Oi&&(this.window.removeEventListener("pagehide",this.Oi),this.Oi=null)}ss(t){try{const n=this.Ui?.getItem(this.rs(t))!==null;return st(Yr,`Client '${t}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return Te(Yr,"Failed to get zombied client id.",n),!1}}_s(){if(this.Ui)try{this.Ui.setItem(this.rs(this.clientId),String(Date.now()))}catch(t){Te("Failed to set zombie client id.",t)}}ls(){if(this.Ui)try{this.Ui.removeItem(this.rs(this.clientId))}catch{}}rs(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function ru(a){return Be(a,ju)}function xh(a){return Be(a,wo)}function NA(a,t){let n=a.projectId;return a.isDefaultDatabase||(n+="."+a.database),"firestore/"+t+"/"+n+"/"}class bp{constructor(t,n,r,o){this.targetId=t,this.fromCache=n,this.Ts=r,this.Is=o}static Es(t,n){let r=Dt(),o=Dt();for(const u of n.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new bp(t,n.fromCache,r,o)}}class Vx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class OA{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return j0()?8:cS(Kh())>0?6:4})()}initialize(t,n){this.fs=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,r,o){const u={result:null};return this.gs(t,n).next((c=>{u.result=c})).next((()=>{if(!u.result)return this.ps(t,n,o,r).next((c=>{u.result=c}))})).next((()=>{if(u.result)return;const c=new Vx;return this.ys(t,n,c).next((m=>{if(u.result=m,this.As)return this.ws(t,n,c,m.size)}))})).next((()=>u.result))}ws(t,n,r,o){return r.documentReadCount<this.Vs?(co()<=Bt.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",ho(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),B.resolve()):(co()<=Bt.DEBUG&&st("QueryEngine","Query:",ho(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ds*o?(co()<=Bt.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",ho(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Dn(n))):B.resolve())}gs(t,n){if(dT(n))return B.resolve(null);let r=Dn(n);return this.indexManager.getIndexType(t,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=nf(n,null,"F"),r=Dn(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next((u=>{const c=Dt(...u);return this.fs.getDocuments(t,c).next((m=>this.indexManager.getMinOffset(t,r).next((g=>{const p=this.bs(n,m);return this.Ss(n,p,c,g.readTime)?this.gs(t,nf(n,null,"F")):this.Ds(t,p,n,g)}))))})))))}ps(t,n,r,o){return dT(n)||o.isEqual(Et.min())?B.resolve(null):this.fs.getDocuments(t,r).next((u=>{const c=this.bs(n,u);return this.Ss(n,c,r,o)?B.resolve(null):(co()<=Bt.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ho(n)),this.Ds(t,c,n,sS(o,To)).next((m=>m)))}))}bs(t,n){let r=new Zt(FS(t));return n.forEach(((o,u)=>{Fu(t,u)&&(r=r.add(u))})),r}Ss(t,n,r,o){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(t,n,r){return co()<=Bt.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",ho(n)),this.fs.getDocumentsMatchingQuery(t,n,Vn.min(),r)}Ds(t,n,r,o){return this.fs.getDocumentsMatchingQuery(t,r,o).next((u=>(n.forEach((c=>{u=u.insert(c.key,c)})),u)))}}const wp="LocalStore",Nx=3e8;class Ox{constructor(t,n,r,o){this.persistence=t,this.Cs=n,this.serializer=o,this.vs=new re(bt),this.Fs=new cr((u=>ss(u)),qu),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(r)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new VA(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.vs)))}}function MA(a,t,n,r){return new Ox(a,t,n,r)}async function PA(a,t){const n=pt(a);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,n.Os(t),n.mutationQueue.getAllMutationBatches(r)))).next((u=>{const c=[],m=[];let g=Dt();for(const p of o){c.push(p.batchId);for(const v of p.mutations)g=g.add(v.key)}for(const p of u){m.push(p.batchId);for(const v of p.mutations)g=g.add(v.key)}return n.localDocuments.getDocuments(r,g).next((p=>({Ns:p,removedBatchIds:c,addedBatchIds:m})))}))}))}function Mx(a,t){const n=pt(a);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=t.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(m,g,p,v){const T=p.batch,b=T.keys();let D=B.resolve();return b.forEach((G=>{D=D.next((()=>v.getEntry(g,G))).next((Q=>{const K=p.docVersions.get(G);_t(K!==null,48541),Q.version.compareTo(K)<0&&(T.applyToRemoteDocument(Q,p),Q.isValidDocument()&&(Q.setReadTime(p.commitVersion),v.addEntry(Q)))}))})),D.next((()=>m.mutationQueue.removeMutationBatch(g,T)))})(n,r,t,u).next((()=>u.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(m){let g=Dt();for(let p=0;p<m.mutationResults.length;++p)m.mutationResults[p].transformResults.length>0&&(g=g.add(m.batch.mutations[p].key));return g})(t)))).next((()=>n.localDocuments.getDocuments(r,o)))}))}function zA(a){const t=pt(a);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.li.getLastRemoteSnapshotVersion(n)))}function Px(a,t){const n=pt(a),r=t.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const c=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const m=[];t.targetChanges.forEach(((v,T)=>{const b=o.get(T);if(!b)return;m.push(n.li.removeMatchingKeys(u,v.removedDocuments,T).next((()=>n.li.addMatchingKeys(u,v.addedDocuments,T))));let D=b.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(T)!==null?D=D.withResumeToken(Se.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):v.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(v.resumeToken,r)),o=o.insert(T,D),(function(Q,K,z){return Q.resumeToken.approximateByteSize()===0||K.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=Nx?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0})(b,D,v)&&m.push(n.li.updateTargetData(u,D))}));let g=xn(),p=Dt();if(t.documentUpdates.forEach((v=>{t.resolvedLimboDocuments.has(v)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,v))})),m.push(zx(u,c,t.documentUpdates).next((v=>{g=v.Bs,p=v.Ls}))),!r.isEqual(Et.min())){const v=n.li.getLastRemoteSnapshotVersion(u).next((T=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,r)));m.push(v)}return B.waitFor(m).next((()=>c.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,p))).next((()=>g))})).then((u=>(n.vs=o,u)))}function zx(a,t,n){let r=Dt(),o=Dt();return n.forEach((u=>r=r.add(u))),t.getEntries(a,r).next((u=>{let c=xn();return n.forEach(((m,g)=>{const p=u.get(m);g.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(Et.min())?(t.removeEntry(m,g.readTime),c=c.insert(m,g)):!p.isValidDocument()||g.version.compareTo(p.version)>0||g.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(g),c=c.insert(m,g)):st(wp,"Ignoring outdated watch update for ",m,". Current version:",p.version," Watch version:",g.version)})),{Bs:c,Ls:o}}))}function Lx(a,t){const n=pt(a);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Wa),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function cf(a,t){const n=pt(a);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.li.getTargetData(r,t).next((u=>u?(o=u,B.resolve(o)):n.li.allocateTargetId(r).next((c=>(o=new ir(t,c,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.vs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(t,r.targetId)),r}))}async function Mo(a,t,n){const r=pt(a),o=r.vs.get(t),u=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",u,(c=>r.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!la(c))throw c;st(wp,`Failed to update sequence numbers for target ${t}: ${c}`)}r.vs=r.vs.remove(t),r.Fs.delete(o.target)}function Mg(a,t,n){const r=pt(a);let o=Et.min(),u=Dt();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(g,p,v){const T=pt(g),b=T.Fs.get(v);return b!==void 0?B.resolve(T.vs.get(b)):T.li.getTargetData(p,v)})(r,c,Dn(t)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(c,m.targetId).next((g=>{u=g}))})).next((()=>r.Cs.getDocumentsMatchingQuery(c,t,n?o:Et.min(),n?u:Dt()))).next((m=>(BA(r,qS(t),m),{documents:m,ks:u})))))}function LA(a,t){const n=pt(a),r=pt(n.li),o=n.vs.get(t);return o?Promise.resolve(o.target):n.persistence.runTransaction("Get target data","readonly",(u=>r.At(u,t).next((c=>c?c.target:null))))}function UA(a,t){const n=pt(a),r=n.Ms.get(t)||Et.min();return n.persistence.runTransaction("Get new document changes","readonly",(o=>n.xs.getAllFromCollectionGroup(o,t,sS(r,To),Number.MAX_SAFE_INTEGER))).then((o=>(BA(n,t,o),o)))}function BA(a,t,n){let r=a.Ms.get(t)||Et.min();n.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),a.Ms.set(t,r)}const kA="firestore_clients";function HT(a,t){return`${kA}_${a}_${t}`}const jA="firestore_mutations";function GT(a,t,n){let r=`${jA}_${a}_${n}`;return t.isAuthenticated()&&(r+=`_${t.uid}`),r}const qA="firestore_targets";function ng(a,t){return`${qA}_${a}_${t}`}const Vi="SharedClientState";class hf{constructor(t,n,r,o){this.user=t,this.batchId=n,this.state=r,this.error=o}static $s(t,n,r){const o=JSON.parse(r);let u,c=typeof o=="object"&&["pending","acknowledged","rejected"].indexOf(o.state)!==-1&&(o.error===void 0||typeof o.error=="object");return c&&o.error&&(c=typeof o.error.message=="string"&&typeof o.error.code=="string",c&&(u=new lt(o.error.code,o.error.message))),c?new hf(t,n,o.state,u):(Te(Vi,`Failed to parse mutation state for ID '${n}': ${r}`),null)}Ws(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class vu{constructor(t,n,r){this.targetId=t,this.state=n,this.error=r}static $s(t,n){const r=JSON.parse(n);let o,u=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return u&&r.error&&(u=typeof r.error.message=="string"&&typeof r.error.code=="string",u&&(o=new lt(r.error.code,r.error.message))),u?new vu(t,r.state,o):(Te(Vi,`Failed to parse target state for ID '${t}': ${n}`),null)}Ws(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class ff{constructor(t,n){this.clientId=t,this.activeTargetIds=n}static $s(t,n){const r=JSON.parse(n);let o=typeof r=="object"&&r.activeTargetIds instanceof Array,u=hp();for(let c=0;o&&c<r.activeTargetIds.length;++c)o=hS(r.activeTargetIds[c]),u=u.add(r.activeTargetIds[c]);return o?new ff(t,u):(Te(Vi,`Failed to parse client data for instance '${t}': ${n}`),null)}}class Rp{constructor(t,n){this.clientId=t,this.onlineState=n}static $s(t){const n=JSON.parse(t);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new Rp(n.clientId,n.onlineState):(Te(Vi,`Failed to parse online state: ${t}`),null)}}class Pg{constructor(){this.activeTargetIds=hp()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class ig{constructor(t,n,r,o,u){this.window=t,this.Ci=n,this.persistenceKey=r,this.zs=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.js=this.Hs.bind(this),this.Js=new re(bt),this.started=!1,this.Zs=[];const c=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.Xs=HT(this.persistenceKey,this.zs),this.Ys=(function(g){return`firestore_sequence_number_${g}`})(this.persistenceKey),this.Js=this.Js.insert(this.zs,new Pg),this.eo=new RegExp(`^${kA}_${c}_([^_]*)$`),this.no=new RegExp(`^${jA}_${c}_(\\d+)(?:_(.*))?$`),this.ro=new RegExp(`^${qA}_${c}_(\\d+)$`),this.io=(function(g){return`firestore_online_state_${g}`})(this.persistenceKey),this.so=(function(g){return`firestore_bundle_loaded_v2_${g}`})(this.persistenceKey),this.window.addEventListener("storage",this.js)}static v(t){return!(!t||!t.localStorage)}async start(){const t=await this.syncEngine.hs();for(const r of t){if(r===this.zs)continue;const o=this.getItem(HT(this.persistenceKey,r));if(o){const u=ff.$s(r,o);u&&(this.Js=this.Js.insert(u.clientId,u))}}this.oo();const n=this.storage.getItem(this.io);if(n){const r=this._o(n);r&&this.ao(r)}for(const r of this.Zs)this.Hs(r);this.Zs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(t){this.setItem(this.Ys,JSON.stringify(t))}getAllActiveQueryTargets(){return this.uo(this.Js)}isActiveQueryTarget(t){let n=!1;return this.Js.forEach(((r,o)=>{o.activeTargetIds.has(t)&&(n=!0)})),n}addPendingMutation(t){this.co(t,"pending")}updateMutationState(t,n,r){this.co(t,n,r),this.lo(t)}addLocalQueryTarget(t,n=!0){let r="not-current";if(this.isActiveQueryTarget(t)){const o=this.storage.getItem(ng(this.persistenceKey,t));if(o){const u=vu.$s(t,o);u&&(r=u.state)}}return n&&this.ho.Qs(t),this.oo(),r}removeLocalQueryTarget(t){this.ho.Gs(t),this.oo()}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(ng(this.persistenceKey,t))}updateQueryState(t,n,r){this.Po(t,n,r)}handleUserChange(t,n,r){n.forEach((o=>{this.lo(o)})),this.currentUser=t,r.forEach((o=>{this.addPendingMutation(o)}))}setOnlineState(t){this.To(t)}notifyBundleLoaded(t){this.Io(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.js),this.removeItem(this.Xs),this.started=!1)}getItem(t){const n=this.storage.getItem(t);return st(Vi,"READ",t,n),n}setItem(t,n){st(Vi,"SET",t,n),this.storage.setItem(t,n)}removeItem(t){st(Vi,"REMOVE",t),this.storage.removeItem(t)}Hs(t){const n=t;if(n.storageArea===this.storage){if(st(Vi,"EVENT",n.key,n.newValue),n.key===this.Xs)return void Te("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ci.enqueueRetryable((async()=>{if(this.started){if(n.key!==null){if(this.eo.test(n.key)){if(n.newValue==null){const r=this.Eo(n.key);return this.Ro(r,null)}{const r=this.Ao(n.key,n.newValue);if(r)return this.Ro(r.clientId,r)}}else if(this.no.test(n.key)){if(n.newValue!==null){const r=this.Vo(n.key,n.newValue);if(r)return this.mo(r)}}else if(this.ro.test(n.key)){if(n.newValue!==null){const r=this.fo(n.key,n.newValue);if(r)return this.po(r)}}else if(n.key===this.io){if(n.newValue!==null){const r=this._o(n.newValue);if(r)return this.ao(r)}}else if(n.key===this.Ys){const r=(function(u){let c=gn.ce;if(u!=null)try{const m=JSON.parse(u);_t(typeof m=="number",30636,{yo:u}),c=m}catch(m){Te(Vi,"Failed to read sequence number from WebStorage",m)}return c})(n.newValue);r!==gn.ce&&this.sequenceNumberHandler(r)}else if(n.key===this.so){const r=this.wo(n.newValue);await Promise.all(r.map((o=>this.syncEngine.bo(o))))}}}else this.Zs.push(n)}))}}get ho(){return this.Js.get(this.zs)}oo(){this.setItem(this.Xs,this.ho.Ws())}co(t,n,r){const o=new hf(this.currentUser,t,n,r),u=GT(this.persistenceKey,this.currentUser,t);this.setItem(u,o.Ws())}lo(t){const n=GT(this.persistenceKey,this.currentUser,t);this.removeItem(n)}To(t){const n={clientId:this.zs,onlineState:t};this.storage.setItem(this.io,JSON.stringify(n))}Po(t,n,r){const o=ng(this.persistenceKey,t),u=new vu(t,n,r);this.setItem(o,u.Ws())}Io(t){const n=JSON.stringify(Array.from(t));this.setItem(this.so,n)}Eo(t){const n=this.eo.exec(t);return n?n[1]:null}Ao(t,n){const r=this.Eo(t);return ff.$s(r,n)}Vo(t,n){const r=this.no.exec(t),o=Number(r[1]),u=r[2]!==void 0?r[2]:null;return hf.$s(new We(u),o,n)}fo(t,n){const r=this.ro.exec(t),o=Number(r[1]);return vu.$s(o,n)}_o(t){return Rp.$s(t)}wo(t){return JSON.parse(t)}async mo(t){if(t.user.uid===this.currentUser.uid)return this.syncEngine.So(t.batchId,t.state,t.error);st(Vi,`Ignoring mutation for non-active user ${t.user.uid}`)}po(t){return this.syncEngine.Do(t.targetId,t.state,t.error)}Ro(t,n){const r=n?this.Js.insert(t,n):this.Js.remove(t),o=this.uo(this.Js),u=this.uo(r),c=[],m=[];return u.forEach((g=>{o.has(g)||c.push(g)})),o.forEach((g=>{u.has(g)||m.push(g)})),this.syncEngine.Co(c,m).then((()=>{this.Js=r}))}ao(t){this.Js.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}uo(t){let n=hp();return t.forEach(((r,o)=>{n=n.unionWith(o.activeTargetIds)})),n}}class FA{constructor(){this.vo=new Pg,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,n,r){this.Fo[t]=n}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new Pg,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class Ux{Mo(t){}shutdown(){}}const KT="ConnectivityMonitor";class QT{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){st(KT,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){st(KT,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Dh=null;function zg(){return Dh===null?Dh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Dh++,"0x"+Dh.toString(16)}const rg="RestConnection",Bx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class kx{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+t.host,this.Uo=`projects/${r}/databases/${o}`,this.$o=this.databaseId.database===Wh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(t,n,r,o,u){const c=zg(),m=this.Qo(t,n.toUriEncodedString());st(rg,`Sending RPC '${t}' ${c}:`,m,r);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,o,u);const{host:p}=new URL(m),v=B0(p);return this.zo(t,m,g,r,v).then((T=>(st(rg,`Received RPC '${t}' ${c}: `,T),T)),(T=>{throw vo(rg,`RPC '${t}' ${c} failed with error: `,T,"url: ",m,"request:",r),T}))}jo(t,n,r,o,u,c){return this.Wo(t,n,r,o,u)}Go(t,n,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+jo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>t[u]=o)),r&&r.headers.forEach(((o,u)=>t[u]=o))}Qo(t,n){const r=Bx[t];let o=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class jx{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const Ze="WebChannelConnection",au=(a,t,n)=>{a.listen(t,(r=>{try{n(r)}catch(o){setTimeout((()=>{throw o}),0)}}))};class yo extends kx{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!yo.c_){const t=tS();au(t,W0.STAT_EVENT,(n=>{n.stat===mg.PROXY?st(Ze,"STAT_EVENT: detected buffering proxy"):n.stat===mg.NOPROXY&&st(Ze,"STAT_EVENT: detected no buffering proxy")})),yo.c_=!0}}zo(t,n,r,o,u){const c=zg();return new Promise(((m,g)=>{const p=new J0;p.setWithCredentials(!0),p.listenOnce(Z0.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Oh.NO_ERROR:const T=p.getResponseJson();st(Ze,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(T)),m(T);break;case Oh.TIMEOUT:st(Ze,`RPC '${t}' ${c} timed out`),g(new lt(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Oh.HTTP_ERROR:const b=p.getStatus();if(st(Ze,`RPC '${t}' ${c} failed with status:`,b,"response text:",p.getResponseText()),b>0){let D=p.getResponseJson();Array.isArray(D)&&(D=D[0]);const G=D?.error;if(G&&G.status&&G.message){const Q=(function(z){const H=z.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(H)>=0?H:Z.UNKNOWN})(G.status);g(new lt(Q,G.message))}else g(new lt(Z.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new lt(Z.UNAVAILABLE,"Connection failed."));break;default:mt(9055,{l_:t,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{st(Ze,`RPC '${t}' ${c} completed.`)}}));const v=JSON.stringify(o);st(Ze,`RPC '${t}' ${c} sending request:`,o),p.send(n,"POST",v,r,15)}))}T_(t,n,r){const o=zg(),u=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,n,r),m.encodeInitMessageHeaders=!0;const p=u.join("");st(Ze,`Creating RPC '${t}' stream ${o}: ${p}`,m);const v=c.createWebChannel(p,m);this.I_(v);let T=!1,b=!1;const D=new jx({Ho:G=>{b?st(Ze,`Not sending because RPC '${t}' stream ${o} is closed:`,G):(T||(st(Ze,`Opening RPC '${t}' stream ${o} transport.`),v.open(),T=!0),st(Ze,`RPC '${t}' stream ${o} sending:`,G),v.send(G))},Jo:()=>v.close()});return au(v,su.EventType.OPEN,(()=>{b||(st(Ze,`RPC '${t}' stream ${o} transport opened.`),D.i_())})),au(v,su.EventType.CLOSE,(()=>{b||(b=!0,st(Ze,`RPC '${t}' stream ${o} transport closed`),D.o_(),this.E_(v))})),au(v,su.EventType.ERROR,(G=>{b||(b=!0,vo(Ze,`RPC '${t}' stream ${o} transport errored. Name:`,G.name,"Message:",G.message),D.o_(new lt(Z.UNAVAILABLE,"The operation could not be completed")))})),au(v,su.EventType.MESSAGE,(G=>{if(!b){const Q=G.data[0];_t(!!Q,16349);const K=Q,z=K?.error||K[0]?.error;if(z){st(Ze,`RPC '${t}' stream ${o} received error:`,z);const H=z.status;let J=(function(ot){const R=Ne[ot];if(R!==void 0)return nA(R)})(H),et=z.message;H==="NOT_FOUND"&&et.includes("database")&&et.includes("does not exist")&&et.includes(this.databaseId.database)&&vo(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),J===void 0&&(J=Z.INTERNAL,et="Unknown error status: "+H+" with message "+z.message),b=!0,D.o_(new lt(J,et)),v.close()}else st(Ze,`RPC '${t}' stream ${o} received:`,Q),D.__(Q)}})),yo.u_(),setTimeout((()=>{D.s_()}),0),D}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((n=>n===t))}Go(t,n,r){super.Go(t,n,r),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return eS()}}function qx(a){return new yo(a)}function HA(){return typeof window<"u"?window:null}function Fh(){return typeof document<"u"?document:null}function Nf(a){return new YC(a,!0)}yo.c_=!1;class GA{constructor(t,n,r=1e3,o=1.5,u=6e4){this.Ci=t,this.timerId=n,this.R_=r,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-r);o>0&&st("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const YT="PersistentStream";class KA{constructor(t,n,r,o,u,c,m,g){this.Ci=t,this.b_=r,this.S_=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new GA(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(Te(n.toString()),Te("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(n)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===n&&this.G_(r,o)}),(r=>{t((()=>{const o=new lt(Z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(t,n){const r=this.Q_(this.D_);this.stream=this.j_(t,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return st(YT,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return n=>{this.Ci.enqueueAndForget((()=>this.D_===t?n():(st(YT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Fx extends KA{constructor(t,n,r,o,u,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,c),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=JC(this.serializer,t),r=(function(u){if(!("targetChange"in u))return Et.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?Et.min():c.readTime?on(c.readTime):Et.min()})(t);return this.listener.J_(n,r)}Z_(t){const n={};n.database=xg(this.serializer),n.addTarget=(function(u,c){let m;const g=c.target;if(m=tf(g)?{documents:cA(u,g)}:{query:hA(u,g).ft},m.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){m.resumeToken=aA(u,c.resumeToken);const p=Ig(u,c.expectedCount);p!==null&&(m.expectedCount=p)}else if(c.snapshotVersion.compareTo(Et.min())>0){m.readTime=Oo(u,c.snapshotVersion.toTimestamp());const p=Ig(u,c.expectedCount);p!==null&&(m.expectedCount=p)}return m})(this.serializer,t);const r=WC(this.serializer,t);r&&(n.labels=r),this.K_(n)}X_(t){const n={};n.database=xg(this.serializer),n.removeTarget=t,this.K_(n)}}class Hx extends KA{constructor(t,n,r,o,u,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,c),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}H_(t){return _t(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,_t(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){_t(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=ZC(t.writeResults,t.commitTime),r=on(t.commitTime);return this.listener.na(r,n)}ra(){const t={};t.database=xg(this.serializer),this.K_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((r=>af(this.serializer,r)))};this.K_(n)}}class Gx{}class Kx extends Gx{constructor(t,n,r,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new lt(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Wo(t,Cg(n,r),o,u,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new lt(Z.UNKNOWN,u.toString())}))}jo(t,n,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,m])=>this.connection.jo(t,Cg(n,r),o,c,m,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new lt(Z.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function Qx(a,t,n,r){return new Kx(a,t,n,r)}class Yx{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Te(n),this.aa=!1):st("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const cs="RemoteStore";class Xx{constructor(t,n,r,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((c=>{r.enqueueAndForget((async()=>{ds(this)&&(st(cs,"Restarting streams for network reachability change."),await(async function(g){const p=pt(g);p.Ea.add(4),await Ku(p),p.Va.set("Unknown"),p.Ea.delete(4),await Of(p)})(this))}))})),this.Va=new Yx(r,o)}}async function Of(a){if(ds(a))for(const t of a.Ra)await t(!0)}async function Ku(a){for(const t of a.Ra)await t(!1)}function Mf(a,t){const n=pt(a);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),xp(n)?Cp(n):Go(n).O_()&&Ip(n,t))}function Po(a,t){const n=pt(a),r=Go(n);n.Ia.delete(t),r.O_()&&QA(n,t),n.Ia.size===0&&(r.O_()?r.L_():ds(n)&&n.Va.set("Unknown"))}function Ip(a,t){if(a.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Et.min())>0){const n=a.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Go(a).Z_(t)}function QA(a,t){a.da.$e(t),Go(a).X_(t)}function Cp(a){a.da=new HC({getRemoteKeysForTarget:t=>a.remoteSyncer.getRemoteKeysForTarget(t),At:t=>a.Ia.get(t)||null,ht:()=>a.datastore.serializer.databaseId}),Go(a).start(),a.Va.ua()}function xp(a){return ds(a)&&!Go(a).x_()&&a.Ia.size>0}function ds(a){return pt(a).Ea.size===0}function YA(a){a.da=void 0}async function $x(a){a.Va.set("Online")}async function Jx(a){a.Ia.forEach(((t,n)=>{Ip(a,t)}))}async function Zx(a,t){YA(a),xp(a)?(a.Va.ha(t),Cp(a)):a.Va.set("Unknown")}async function Wx(a,t,n){if(a.Va.set("Online"),t instanceof rA&&t.state===2&&t.cause)try{await(async function(o,u){const c=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,c),o.Ia.delete(m),o.da.removeTarget(m))})(a,t)}catch(r){st(cs,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await df(a,r)}else if(t instanceof jh?a.da.Xe(t):t instanceof iA?a.da.st(t):a.da.tt(t),!n.isEqual(Et.min()))try{const r=await zA(a.localStore);n.compareTo(r)>=0&&await(function(u,c){const m=u.da.Tt(c);return m.targetChanges.forEach(((g,p)=>{if(g.resumeToken.approximateByteSize()>0){const v=u.Ia.get(p);v&&u.Ia.set(p,v.withResumeToken(g.resumeToken,c))}})),m.targetMismatches.forEach(((g,p)=>{const v=u.Ia.get(g);if(!v)return;u.Ia.set(g,v.withResumeToken(Se.EMPTY_BYTE_STRING,v.snapshotVersion)),QA(u,g);const T=new ir(v.target,g,p,v.sequenceNumber);Ip(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(a,n)}catch(r){st(cs,"Failed to raise snapshot:",r),await df(a,r)}}async function df(a,t,n){if(!la(t))throw t;a.Ea.add(1),await Ku(a),a.Va.set("Offline"),n||(n=()=>zA(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{st(cs,"Retrying IndexedDB access"),await n(),a.Ea.delete(1),await Of(a)}))}function XA(a,t){return t().catch((n=>df(a,n,t)))}async function Ho(a){const t=pt(a),n=ra(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Wa;for(;tD(t);)try{const o=await Lx(t.localStore,r);if(o===null){t.Ta.length===0&&n.L_();break}r=o.batchId,eD(t,o)}catch(o){await df(t,o)}$A(t)&&JA(t)}function tD(a){return ds(a)&&a.Ta.length<10}function eD(a,t){a.Ta.push(t);const n=ra(a);n.O_()&&n.Y_&&n.ea(t.mutations)}function $A(a){return ds(a)&&!ra(a).x_()&&a.Ta.length>0}function JA(a){ra(a).start()}async function nD(a){ra(a).ra()}async function iD(a){const t=ra(a);for(const n of a.Ta)t.ea(n.mutations)}async function rD(a,t,n){const r=a.Ta.shift(),o=gp.from(r,t,n);await XA(a,(()=>a.remoteSyncer.applySuccessfulWrite(o))),await Ho(a)}async function aD(a,t){t&&ra(a).Y_&&await(async function(r,o){if((function(c){return jC(c)&&c!==Z.ABORTED})(o.code)){const u=r.Ta.shift();ra(r).B_(),await XA(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Ho(r)}})(a,t),$A(a)&&JA(a)}async function XT(a,t){const n=pt(a);n.asyncQueue.verifyOperationInProgress(),st(cs,"RemoteStore received new credentials");const r=ds(n);n.Ea.add(3),await Ku(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Of(n)}async function Lg(a,t){const n=pt(a);t?(n.Ea.delete(2),await Of(n)):t||(n.Ea.add(2),await Ku(n),n.Va.set("Unknown"))}function Go(a){return a.ma||(a.ma=(function(n,r,o){const u=pt(n);return u.sa(),new Fx(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(a.datastore,a.asyncQueue,{Zo:$x.bind(null,a),Yo:Jx.bind(null,a),t_:Zx.bind(null,a),J_:Wx.bind(null,a)}),a.Ra.push((async t=>{t?(a.ma.B_(),xp(a)?Cp(a):a.Va.set("Unknown")):(await a.ma.stop(),YA(a))}))),a.ma}function ra(a){return a.fa||(a.fa=(function(n,r,o){const u=pt(n);return u.sa(),new Hx(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(a.datastore,a.asyncQueue,{Zo:()=>Promise.resolve(),Yo:nD.bind(null,a),t_:aD.bind(null,a),ta:iD.bind(null,a),na:rD.bind(null,a)}),a.Ra.push((async t=>{t?(a.fa.B_(),await Ho(a)):(await a.fa.stop(),a.Ta.length>0&&(st(cs,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}class Dp{constructor(t,n,r,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new ar,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,o,u){const c=Date.now()+r,m=new Dp(t,n,c,o,u);return m.start(r),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt(Z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vp(a,t){if(Te("AsyncQueue",`${t}: ${a}`),la(a))return new lt(Z.UNAVAILABLE,`${t}: ${a}`);throw a}class _o{static emptySet(t){return new _o(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||ct.comparator(n.key,r.key):(n,r)=>ct.comparator(n.key,r.key),this.keyedMap=ou(),this.sortedSet=new re(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,r)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof _o)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new _o;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}class $T{constructor(){this.ga=new re(ct.comparator)}track(t){const n=t.doc.key,r=this.ga.get(n);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(n,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(n):t.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):mt(63341,{Vt:t,pa:r}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,r)=>{t.push(r)})),t}}class zo{constructor(t,n,r,o,u,c,m,g,p){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=p}static fromInitialDocuments(t,n,r,o,u){const c=[];return n.forEach((m=>{c.push({type:0,doc:m})})),new zo(t,n,_o.emptySet(n),c,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Rf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}class sD{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class oD{constructor(){this.queries=JT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=pt(n),u=o.queries;o.queries=JT(),u.forEach(((c,m)=>{for(const g of m.ba)g.onError(r)}))})(this,new lt(Z.ABORTED,"Firestore shutting down"))}}function JT(){return new cr((a=>jS(a)),Rf)}async function ZA(a,t){const n=pt(a);let r=3;const o=t.query;let u=n.queries.get(o);u?!u.Sa()&&t.Da()&&(r=2):(u=new sD,r=t.Da()?0:1);try{switch(r){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(c){const m=Vp(c,`Initialization of query '${ho(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.ba.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&Np(n)}async function WA(a,t){const n=pt(a),r=t.query;let o=3;const u=n.queries.get(r);if(u){const c=u.ba.indexOf(t);c>=0&&(u.ba.splice(c,1),u.ba.length===0?o=t.Da()?0:1:!u.Sa()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function lD(a,t){const n=pt(a);let r=!1;for(const o of t){const u=o.query,c=n.queries.get(u);if(c){for(const m of c.ba)m.Fa(o)&&(r=!0);c.wa=o}}r&&Np(n)}function uD(a,t,n){const r=pt(a),o=r.queries.get(t);if(o)for(const u of o.ba)u.onError(n);r.queries.delete(t)}function Np(a){a.Ca.forEach((t=>{t.next()}))}var Ug,ZT;(ZT=Ug||(Ug={})).Ma="default",ZT.Cache="cache";class tb{constructor(t,n,r){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new zo(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=zo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Ug.Cache}}class eb{constructor(t){this.key=t}}class nb{constructor(t){this.key=t}}class cD{constructor(t,n){this.query=t,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Dt(),this.mutatedKeys=Dt(),this.eu=FS(t),this.tu=new _o(this.eu)}get nu(){return this.Za}ru(t,n){const r=n?n.iu:new $T,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,c=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((v,T)=>{const b=o.get(v),D=Fu(this.query,T)?T:null,G=!!b&&this.mutatedKeys.has(b.key),Q=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let K=!1;b&&D?b.data.isEqual(D.data)?G!==Q&&(r.track({type:3,doc:D}),K=!0):this.su(b,D)||(r.track({type:2,doc:D}),K=!0,(g&&this.eu(D,g)>0||p&&this.eu(D,p)<0)&&(m=!0)):!b&&D?(r.track({type:0,doc:D}),K=!0):b&&!D&&(r.track({type:1,doc:b}),K=!0,(g||p)&&(m=!0)),K&&(D?(c=c.add(D),u=Q?u.add(v):u.delete(v)):(c=c.delete(v),u=u.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),u=u.delete(v.key),r.track({type:1,doc:v})}return{tu:c,iu:r,Ss:m,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((v,T)=>(function(D,G){const Q=K=>{switch(K){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mt(20277,{Vt:K})}};return Q(D)-Q(G)})(v.type,T.type)||this.eu(v.doc,T.doc))),this.ou(r),o=o??!1;const m=n&&!o?this._u():[],g=this.Ya.size===0&&this.current&&!o?1:0,p=g!==this.Xa;return this.Xa=g,c.length!==0||p?{snapshot:new zo(this.query,t.tu,u,c,t.mutatedKeys,g===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new $T,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Dt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return t.forEach((r=>{this.Ya.has(r)||n.push(new nb(r))})),this.Ya.forEach((r=>{t.has(r)||n.push(new eb(r))})),n}cu(t){this.Za=t.ks,this.Ya=Dt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return zo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Ko="SyncEngine";class hD{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class fD{constructor(t){this.key=t,this.hu=!1}}class dD{constructor(t,n,r,o,u,c){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new cr((m=>jS(m)),Rf),this.Iu=new Map,this.Eu=new Set,this.Ru=new re(ct.comparator),this.Au=new Map,this.Vu=new Tp,this.du={},this.mu=new Map,this.fu=us.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function mD(a,t,n=!0){const r=Pf(a);let o;const u=r.Tu.get(t);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await ib(r,t,n,!0),o}async function gD(a,t){const n=Pf(a);await ib(n,t,!0,!1)}async function ib(a,t,n,r){const o=await cf(a.localStore,Dn(t)),u=o.targetId,c=a.sharedClientState.addLocalQueryTarget(u,n);let m;return r&&(m=await Op(a,t,u,c==="current",o.resumeToken)),a.isPrimaryClient&&n&&Mf(a.remoteStore,o),m}async function Op(a,t,n,r,o){a.pu=(T,b,D)=>(async function(Q,K,z,H){let J=K.view.ru(z);J.Ss&&(J=await Mg(Q.localStore,K.query,!1).then((({documents:R})=>K.view.ru(R,J))));const et=H&&H.targetChanges.get(K.targetId),at=H&&H.targetMismatches.get(K.targetId)!=null,ot=K.view.applyChanges(J,Q.isPrimaryClient,et,at);return Bg(Q,K.targetId,ot.au),ot.snapshot})(a,T,b,D);const u=await Mg(a.localStore,t,!0),c=new cD(t,u.ks),m=c.ru(u.documents),g=Gu.createSynthesizedTargetChangeForCurrentChange(n,r&&a.onlineState!=="Offline",o),p=c.applyChanges(m,a.isPrimaryClient,g);Bg(a,n,p.au);const v=new hD(t,n,c);return a.Tu.set(t,v),a.Iu.has(n)?a.Iu.get(n).push(t):a.Iu.set(n,[t]),p.snapshot}async function pD(a,t,n){const r=pt(a),o=r.Tu.get(t),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((c=>!Rf(c,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Mo(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&Po(r.remoteStore,o.targetId),Lo(r,o.targetId)})).catch(oa)):(Lo(r,o.targetId),await Mo(r.localStore,o.targetId,!0))}async function yD(a,t){const n=pt(a),r=n.Tu.get(t),o=n.Iu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Po(n.remoteStore,r.targetId))}async function _D(a,t,n){const r=Lp(a);try{const o=await(function(c,m){const g=pt(c),p=$t.now(),v=m.reduce(((D,G)=>D.add(G.key)),Dt());let T,b;return g.persistence.runTransaction("Locally write mutations","readwrite",(D=>{let G=xn(),Q=Dt();return g.xs.getEntries(D,v).next((K=>{G=K,G.forEach(((z,H)=>{H.isValidDocument()||(Q=Q.add(z))}))})).next((()=>g.localDocuments.getOverlayedDocuments(D,G))).next((K=>{T=K;const z=[];for(const H of m){const J=BC(H,T.get(H.key).overlayedDocument);J!=null&&z.push(new hr(H.key,J,VS(J.value.mapValue),yn.exists(!0)))}return g.mutationQueue.addMutationBatch(D,p,z,m)})).next((K=>{b=K;const z=K.applyToLocalDocumentSet(T,Q);return g.documentOverlayCache.saveOverlays(D,K.batchId,z)}))})).then((()=>({batchId:b.batchId,changes:GS(T)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),(function(c,m,g){let p=c.du[c.currentUser.toKey()];p||(p=new re(bt)),p=p.insert(m,g),c.du[c.currentUser.toKey()]=p})(r,o.batchId,n),await ca(r,o.changes),await Ho(r.remoteStore)}catch(o){const u=Vp(o,"Failed to persist write");n.reject(u)}}async function rb(a,t){const n=pt(a);try{const r=await Px(n.localStore,t);t.targetChanges.forEach(((o,u)=>{const c=n.Au.get(u);c&&(_t(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?_t(c.hu,14607):o.removedDocuments.size>0&&(_t(c.hu,42227),c.hu=!1))})),await ca(n,r,t)}catch(r){await oa(r)}}function WT(a,t,n){const r=pt(a);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Tu.forEach(((u,c)=>{const m=c.view.va(t);m.snapshot&&o.push(m.snapshot)})),(function(c,m){const g=pt(c);g.onlineState=m;let p=!1;g.queries.forEach(((v,T)=>{for(const b of T.ba)b.va(m)&&(p=!0)})),p&&Np(g)})(r.eventManager,t),o.length&&r.Pu.J_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function vD(a,t,n){const r=pt(a);r.sharedClientState.updateQueryState(t,"rejected",n);const o=r.Au.get(t),u=o&&o.key;if(u){let c=new re(ct.comparator);c=c.insert(u,pe.newNoDocument(u,Et.min()));const m=Dt().add(u),g=new Hu(Et.min(),new Map,new re(bt),c,m);await rb(r,g),r.Ru=r.Ru.remove(u),r.Au.delete(t),zp(r)}else await Mo(r.localStore,t,!1).then((()=>Lo(r,t,n))).catch(oa)}async function ED(a,t){const n=pt(a),r=t.batch.batchId;try{const o=await Mx(n.localStore,t);Pp(n,r,null),Mp(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ca(n,o)}catch(o){await oa(o)}}async function TD(a,t,n){const r=pt(a);try{const o=await(function(c,m){const g=pt(c);return g.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let v;return g.mutationQueue.lookupMutationBatch(p,m).next((T=>(_t(T!==null,37113),v=T.keys(),g.mutationQueue.removeMutationBatch(p,T)))).next((()=>g.mutationQueue.performConsistencyCheck(p))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(p,v,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v))).next((()=>g.localDocuments.getDocuments(p,v)))}))})(r.localStore,t);Pp(r,t,n),Mp(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await ca(r,o)}catch(o){await oa(o)}}function Mp(a,t){(a.mu.get(t)||[]).forEach((n=>{n.resolve()})),a.mu.delete(t)}function Pp(a,t,n){const r=pt(a);let o=r.du[r.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),r.du[r.currentUser.toKey()]=o}}function Lo(a,t,n=null){a.sharedClientState.removeLocalQueryTarget(t);for(const r of a.Iu.get(t))a.Tu.delete(r),n&&a.Pu.yu(r,n);a.Iu.delete(t),a.isPrimaryClient&&a.Vu.Gr(t).forEach((r=>{a.Vu.containsKey(r)||ab(a,r)}))}function ab(a,t){a.Eu.delete(t.path.canonicalString());const n=a.Ru.get(t);n!==null&&(Po(a.remoteStore,n),a.Ru=a.Ru.remove(t),a.Au.delete(n),zp(a))}function Bg(a,t,n){for(const r of n)r instanceof eb?(a.Vu.addReference(r.key,t),SD(a,r)):r instanceof nb?(st(Ko,"Document no longer in limbo: "+r.key),a.Vu.removeReference(r.key,t),a.Vu.containsKey(r.key)||ab(a,r.key)):mt(19791,{wu:r})}function SD(a,t){const n=t.key,r=n.path.canonicalString();a.Ru.get(n)||a.Eu.has(r)||(st(Ko,"New document in limbo: "+n),a.Eu.add(r),zp(a))}function zp(a){for(;a.Eu.size>0&&a.Ru.size<a.maxConcurrentLimboResolutions;){const t=a.Eu.values().next().value;a.Eu.delete(t);const n=new ct(Gt.fromString(t)),r=a.fu.next();a.Au.set(r,new fD(n)),a.Ru=a.Ru.insert(n,r),Mf(a.remoteStore,new ir(Dn(wf(n.path)),r,"TargetPurposeLimboResolution",gn.ce))}}async function ca(a,t,n){const r=pt(a),o=[],u=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((m,g)=>{c.push(r.pu(g,t,n).then((p=>{if((p||n)&&r.isPrimaryClient){const v=p?!p.fromCache:n?.targetChanges.get(g.targetId)?.current;r.sharedClientState.updateQueryState(g.targetId,v?"current":"not-current")}if(p){o.push(p);const v=bp.Es(g.targetId,p);u.push(v)}})))})),await Promise.all(c),r.Pu.J_(o),await(async function(g,p){const v=pt(g);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>B.forEach(p,(b=>B.forEach(b.Ts,(D=>v.persistence.referenceDelegate.addReference(T,b.targetId,D))).next((()=>B.forEach(b.Is,(D=>v.persistence.referenceDelegate.removeReference(T,b.targetId,D)))))))))}catch(T){if(!la(T))throw T;st(wp,"Failed to update sequence numbers: "+T)}for(const T of p){const b=T.targetId;if(!T.fromCache){const D=v.vs.get(b),G=D.snapshotVersion,Q=D.withLastLimboFreeSnapshotVersion(G);v.vs=v.vs.insert(b,Q)}}})(r.localStore,u))}async function AD(a,t){const n=pt(a);if(!n.currentUser.isEqual(t)){st(Ko,"User change. New user:",t.toKey());const r=await PA(n.localStore,t);n.currentUser=t,(function(u,c){u.mu.forEach((m=>{m.forEach((g=>{g.reject(new lt(Z.CANCELLED,c))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await ca(n,r.Ns)}}function bD(a,t){const n=pt(a),r=n.Au.get(t);if(r&&r.hu)return Dt().add(r.key);{let o=Dt();const u=n.Iu.get(t);if(!u)return o;for(const c of u){const m=n.Tu.get(c);o=o.unionWith(m.view.nu)}return o}}async function wD(a,t){const n=pt(a),r=await Mg(n.localStore,t.query,!0),o=t.view.cu(r);return n.isPrimaryClient&&Bg(n,t.targetId,o.au),o}async function RD(a,t){const n=pt(a);return UA(n.localStore,t).then((r=>ca(n,r)))}async function ID(a,t,n,r){const o=pt(a),u=await(function(m,g){const p=pt(m),v=pt(p.mutationQueue);return p.persistence.runTransaction("Lookup mutation documents","readonly",(T=>v.Xn(T,g).next((b=>b?p.localDocuments.getDocuments(T,b):B.resolve(null)))))})(o.localStore,t);u!==null?(n==="pending"?await Ho(o.remoteStore):n==="acknowledged"||n==="rejected"?(Pp(o,t,r||null),Mp(o,t),(function(m,g){pt(pt(m).mutationQueue).nr(g)})(o.localStore,t)):mt(6720,"Unknown batchState",{bu:n}),await ca(o,u)):st(Ko,"Cannot apply mutation batch with id: "+t)}async function CD(a,t){const n=pt(a);if(Pf(n),Lp(n),t===!0&&n.gu!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),o=await t0(n,r.toArray());n.gu=!0,await Lg(n.remoteStore,!0);for(const u of o)Mf(n.remoteStore,u)}else if(t===!1&&n.gu!==!1){const r=[];let o=Promise.resolve();n.Iu.forEach(((u,c)=>{n.sharedClientState.isLocalQueryTarget(c)?r.push(c):o=o.then((()=>(Lo(n,c),Mo(n.localStore,c,!0)))),Po(n.remoteStore,c)})),await o,await t0(n,r),(function(c){const m=pt(c);m.Au.forEach(((g,p)=>{Po(m.remoteStore,p)})),m.Vu.zr(),m.Au=new Map,m.Ru=new re(ct.comparator)})(n),n.gu=!1,await Lg(n.remoteStore,!1)}}async function t0(a,t,n){const r=pt(a),o=[],u=[];for(const c of t){let m;const g=r.Iu.get(c);if(g&&g.length!==0){m=await cf(r.localStore,Dn(g[0]));for(const p of g){const v=r.Tu.get(p),T=await wD(r,v);T.snapshot&&u.push(T.snapshot)}}else{const p=await LA(r.localStore,c);m=await cf(r.localStore,p),await Op(r,sb(p),c,!1,m.resumeToken)}o.push(m)}return r.Pu.J_(u),o}function sb(a){return BS(a.path,a.collectionGroup,a.orderBy,a.filters,a.limit,"F",a.startAt,a.endAt)}function xD(a){return(function(n){return pt(pt(n).persistence).hs()})(pt(a).localStore)}async function DD(a,t,n,r){const o=pt(a);if(o.gu)return void st(Ko,"Ignoring unexpected query state notification.");const u=o.Iu.get(t);if(u&&u.length>0)switch(n){case"current":case"not-current":{const c=await UA(o.localStore,qS(u[0])),m=Hu.createSynthesizedRemoteEventForCurrentChange(t,n==="current",Se.EMPTY_BYTE_STRING);await ca(o,c,m);break}case"rejected":await Mo(o.localStore,t,!0),Lo(o,t,r);break;default:mt(64155,n)}}async function VD(a,t,n){const r=Pf(a);if(r.gu){for(const o of t){if(r.Iu.has(o)&&r.sharedClientState.isActiveQueryTarget(o)){st(Ko,"Adding an already active target "+o);continue}const u=await LA(r.localStore,o),c=await cf(r.localStore,u);await Op(r,sb(u),c.targetId,!1,c.resumeToken),Mf(r.remoteStore,c)}for(const o of n)r.Iu.has(o)&&await Mo(r.localStore,o,!1).then((()=>{Po(r.remoteStore,o),Lo(r,o)})).catch(oa)}}function Pf(a){const t=pt(a);return t.remoteStore.remoteSyncer.applyRemoteEvent=rb.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=bD.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=vD.bind(null,t),t.Pu.J_=lD.bind(null,t.eventManager),t.Pu.yu=uD.bind(null,t.eventManager),t}function Lp(a){const t=pt(a);return t.remoteStore.remoteSyncer.applySuccessfulWrite=ED.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=TD.bind(null,t),t}class Pu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Nf(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return MA(this.persistence,new OA,t.initialUser,this.serializer)}Cu(t){return new Sp(Vf.Vi,this.serializer)}Du(t){return new FA}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Pu.provider={build:()=>new Pu};class ND extends Pu{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){_t(this.persistence.referenceDelegate instanceof uf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new IA(r,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?tn.withCacheSize(this.cacheSizeBytes):tn.DEFAULT;return new Sp((r=>uf.Vi(r,n)),this.serializer)}}class ob extends Pu{constructor(t,n,r){super(),this.xu=t,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(t){await super.initialize(t),await this.xu.initialize(this,t),await Lp(this.xu.syncEngine),await Ho(this.xu.remoteStore),await this.persistence.zi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(t){return MA(this.persistence,new OA,t.initialUser,this.serializer)}Fu(t,n){const r=this.persistence.referenceDelegate.garbageCollector;return new IA(r,t.asyncQueue,n)}Mu(t,n){const r=new B2(n,this.persistence);return new U2(t.asyncQueue,r)}Cu(t){const n=NA(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?tn.withCacheSize(this.cacheSizeBytes):tn.DEFAULT;return new Ap(this.synchronizeTabs,n,t.clientId,r,t.asyncQueue,HA(),Fh(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(t){return new FA}}class OD extends ob{constructor(t,n){super(t,n,!1),this.xu=t,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(t){await super.initialize(t);const n=this.xu.syncEngine;this.sharedClientState instanceof ig&&(this.sharedClientState.syncEngine={So:ID.bind(null,n),Do:DD.bind(null,n),Co:VD.bind(null,n),hs:xD.bind(null,n),bo:RD.bind(null,n)},await this.sharedClientState.start()),await this.persistence.zi((async r=>{await CD(this.xu.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())}))}Du(t){const n=HA();if(!ig.v(n))throw new lt(Z.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=NA(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new ig(n,t.asyncQueue,r,t.clientId,t.initialUser)}}class zu{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>WT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=AD.bind(null,this.syncEngine),await Lg(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new oD})()}createDatastore(t){const n=Nf(t.databaseInfo.databaseId),r=qx(t.databaseInfo);return Qx(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return(function(r,o,u,c,m){return new Xx(r,o,u,c,m)})(this.localStore,this.datastore,t.asyncQueue,(n=>WT(this.syncEngine,n,0)),(function(){return QT.v()?new QT:new Ux})())}createSyncEngine(t,n){return(function(o,u,c,m,g,p,v){const T=new dD(o,u,c,m,g,p);return v&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=pt(n);st(cs,"RemoteStore shutting down."),r.Ea.add(5),await Ku(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}zu.provider={build:()=>new zu};class lb{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Te("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const aa="FirestoreClient";class MD{constructor(t,n,r,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=o,this.user=We.UNAUTHENTICATED,this.clientId=tp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async c=>{st(aa,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(st(aa,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ar;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=Vp(n,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function ag(a,t){a.asyncQueue.verifyOperationInProgress(),st(aa,"Initializing OfflineComponentProvider");const n=a.configuration;await t.initialize(n);let r=n.initialUser;a.setCredentialChangeListener((async o=>{r.isEqual(o)||(await PA(t.localStore,o),r=o)})),t.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=t}async function e0(a,t){a.asyncQueue.verifyOperationInProgress();const n=await PD(a);st(aa,"Initializing OnlineComponentProvider"),await t.initialize(n,a.configuration),a.setCredentialChangeListener((r=>XT(t.remoteStore,r))),a.setAppCheckTokenChangeListener(((r,o)=>XT(t.remoteStore,o))),a._onlineComponents=t}async function PD(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){st(aa,"Using user provided OfflineComponentProvider");try{await ag(a,a._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;vo("Error using user provided cache. Falling back to memory cache: "+n),await ag(a,new Pu)}}else st(aa,"Using default OfflineComponentProvider"),await ag(a,new ND(void 0));return a._offlineComponents}async function ub(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(st(aa,"Using user provided OnlineComponentProvider"),await e0(a,a._uninitializedComponentsProvider._online)):(st(aa,"Using default OnlineComponentProvider"),await e0(a,new zu))),a._onlineComponents}function zD(a){return ub(a).then((t=>t.syncEngine))}async function kg(a){const t=await ub(a),n=t.eventManager;return n.onListen=mD.bind(null,t.syncEngine),n.onUnlisten=pD.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=gD.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=yD.bind(null,t.syncEngine),n}function LD(a,t,n,r){const o=new lb(r),u=new tb(t,o,n);return a.asyncQueue.enqueueAndForget((async()=>ZA(await kg(a),u))),()=>{o.Nu(),a.asyncQueue.enqueueAndForget((async()=>WA(await kg(a),u)))}}function UD(a,t,n={}){const r=new ar;return a.asyncQueue.enqueueAndForget((async()=>(function(u,c,m,g,p){const v=new lb({next:b=>{v.Nu(),c.enqueueAndForget((()=>WA(u,T))),b.fromCache&&g.source==="server"?p.reject(new lt(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(b)},error:b=>p.reject(b)}),T=new tb(m,v,{includeMetadataChanges:!0,Ka:!0});return ZA(u,T)})(await kg(a),a.asyncQueue,t,n,r))),r.promise}function BD(a,t){const n=new ar;return a.asyncQueue.enqueueAndForget((async()=>_D(await zD(a),t,n))),n.promise}function cb(a){const t={};return a.timeoutSeconds!==void 0&&(t.timeoutSeconds=a.timeoutSeconds),t}const kD="ComponentProvider",n0=new Map;function jD(a,t,n,r,o){return new dC(a,t,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,cb(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,r)}const qD="firestore.googleapis.com",i0=!0;class r0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new lt(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=qD,this.ssl=i0}else this.host=t.host,this.ssl=t.ssl??i0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=SA;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<RA)throw new lt(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}M2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=cb(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new lt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new lt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new lt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Up{constructor(t,n,r,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new r0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new lt(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new r0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new w2;switch(r.type){case"firstParty":return new C2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new lt(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=n0.get(n);r&&(st(kD,"Removing Datastore"),n0.delete(n),r.terminate())})(this),Promise.resolve()}}class fr{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new fr(this.firestore,t,this._query)}}class Me{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ea(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Me(this.firestore,t,this._key)}toJSON(){return{type:Me._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,r){if(ku(n,Me._jsonSchema))return new Me(t,r||null,new ct(Gt.fromString(n.referencePath)))}}Me._jsonSchemaVersion="firestore/documentReference/1.0",Me._jsonSchema={type:Oe("string",Me._jsonSchemaVersion),referencePath:Oe("string")};class ea extends fr{constructor(t,n,r){super(t,n,wf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Me(this.firestore,null,new ct(t))}withConverter(t){return new ea(this.firestore,t,this._path)}}function Eu(a,t,...n){if(a=Pi(a),rS("collection","path",t),a instanceof Up){const r=Gt.fromString(t,...n);return YE(r),new ea(a,null,r)}{if(!(a instanceof Me||a instanceof ea))throw new lt(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(Gt.fromString(t,...n));return YE(r),new ea(a.firestore,null,r)}}function jg(a,t,...n){if(a=Pi(a),arguments.length===1&&(t=tp.newId()),rS("doc","path",t),a instanceof Up){const r=Gt.fromString(t,...n);return QE(r),new Me(a,null,new ct(r))}{if(!(a instanceof Me||a instanceof ea))throw new lt(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(Gt.fromString(t,...n));return QE(r),new Me(a.firestore,a instanceof ea?a.converter:null,new ct(r))}}const a0="AsyncQueue";class s0{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new GA(this,"async_queue_retry"),this._c=()=>{const r=Fh();r&&st(a0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const n=Fh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Fh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ar;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!la(t))throw t;st(a0,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,Te("INTERNAL UNHANDLED ERROR: ",o0(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(t,n,r){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const o=Dp.createAndSchedule(this,t,n,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&mt(47125,{Pc:o0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function o0(a){let t=a.message||"";return a.stack&&(t=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),t}class Uo extends Up{constructor(t,n,r,o){super(t,n,r,o),this.type="firestore",this._queue=new s0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new s0(t),this._firestoreClient=void 0,await t}}}function FD(a,t,n){n||(n=Wh);const r=a2(a,"firestore");if(r.isInitialized(n)){const o=r.getImmediate({identifier:n}),u=r.getOptions(n);if(Qh(u,t))return o;throw new lt(Z.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(t.cacheSizeBytes!==void 0&&t.localCache!==void 0)throw new lt(Z.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(t.cacheSizeBytes!==void 0&&t.cacheSizeBytes!==-1&&t.cacheSizeBytes<RA)throw new lt(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return t.host&&B0(t.host)&&iI(t.host),r.initialize({options:t,instanceIdentifier:n})}function Bp(a){if(a._terminated)throw new lt(Z.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||HD(a),a._firestoreClient}function HD(a){const t=a._freezeSettings(),n=jD(a._databaseId,a._app?.options.appId||"",a._persistenceKey,a._app?.options.apiKey,t);a._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),a._firestoreClient=new MD(a._authCredentials,a._appCheckCredentials,a._queue,n,a._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(a._componentsProvider))}class Gn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Gn(Se.fromBase64String(t))}catch(n){throw new lt(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Gn(Se.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Gn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(ku(t,Gn._jsonSchema))return Gn.fromBase64String(t.bytes)}}Gn._jsonSchemaVersion="firestore/bytes/1.0",Gn._jsonSchema={type:Oe("string",Gn._jsonSchemaVersion),bytes:Oe("string")};class kp{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new lt(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class zf{constructor(t){this._methodName=t}}class Mi{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new lt(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new lt(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return bt(this._lat,t._lat)||bt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Mi._jsonSchemaVersion}}static fromJSON(t){if(ku(t,Mi._jsonSchema))return new Mi(t.latitude,t.longitude)}}Mi._jsonSchemaVersion="firestore/geoPoint/1.0",Mi._jsonSchema={type:Oe("string",Mi._jsonSchemaVersion),latitude:Oe("number"),longitude:Oe("number")};class si{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:si._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(ku(t,si._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new si(t.vectorValues);throw new lt(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}si._jsonSchemaVersion="firestore/vectorValue/1.0",si._jsonSchema={type:Oe("string",si._jsonSchemaVersion),vectorValues:Oe("object")};const GD=/^__.*__$/;class KD{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new hr(t,this.data,this.fieldMask,n,this.fieldTransforms):new Fo(t,this.data,n,this.fieldTransforms)}}class hb{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new hr(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function fb(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mt(40011,{dataSource:a})}}class jp{constructor(t,n,r,o,u,c){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new jp({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const n=this.path?.child(t),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(t),r}childContextForFieldPath(t){const n=this.path?.child(t),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return mf(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(fb(this.dataSource)&&GD.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class QD{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Nf(t)}createContext(t,n,r,o=!1){return new jp({dataSource:t,methodName:n,targetDoc:r,path:fe.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qp(a){const t=a._freezeSettings(),n=Nf(a._databaseId);return new QD(a._databaseId,!!t.ignoreUndefinedProperties,n)}function YD(a,t,n,r,o,u={}){const c=a.createContext(u.merge||u.mergeFields?2:0,t,n,o);Hp("Data must be an object, but it was:",c,r);const m=db(r,c);let g,p;if(u.merge)g=new pn(c.fieldMask),p=c.fieldTransforms;else if(u.mergeFields){const v=[];for(const T of u.mergeFields){const b=hs(t,T,n);if(!c.contains(b))throw new lt(Z.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);pb(v,b)||v.push(b)}g=new pn(v),p=c.fieldTransforms.filter((T=>g.covers(T.field)))}else g=null,p=c.fieldTransforms;return new KD(new en(m),g,p)}class Lf extends zf{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Lf}}class Fp extends zf{_toFieldTransform(t){return new ZS(t.path,new Do)}isEqual(t){return t instanceof Fp}}function XD(a,t,n,r){const o=a.createContext(1,t,n);Hp("Data must be an object, but it was:",o,r);const u=[],c=en.empty();ua(r,((g,p)=>{const v=gb(t,g,n);p=Pi(p);const T=o.childContextForFieldPath(v);if(p instanceof Lf)u.push(v);else{const b=Qu(p,T);b!=null&&(u.push(v),c.set(v,b))}}));const m=new pn(u);return new hb(c,m,o.fieldTransforms)}function $D(a,t,n,r,o,u){const c=a.createContext(1,t,n),m=[hs(t,r,n)],g=[o];if(u.length%2!=0)throw new lt(Z.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<u.length;b+=2)m.push(hs(t,u[b])),g.push(u[b+1]);const p=[],v=en.empty();for(let b=m.length-1;b>=0;--b)if(!pb(p,m[b])){const D=m[b];let G=g[b];G=Pi(G);const Q=c.childContextForFieldPath(D);if(G instanceof Lf)p.push(D);else{const K=Qu(G,Q);K!=null&&(p.push(D),v.set(D,K))}}const T=new pn(p);return new hb(v,T,c.fieldTransforms)}function JD(a,t,n,r=!1){return Qu(n,a.createContext(r?4:3,t))}function Qu(a,t){if(mb(a=Pi(a)))return Hp("Unsupported field value:",t,a),db(a,t);if(a instanceof zf)return(function(r,o){if(!fb(o.dataSource))throw o.createError(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(a,t),null;if(a===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),a instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(r,o){const u=[];let c=0;for(const m of r){let g=Qu(m,o.childContextForArray(c));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),c++}return{arrayValue:{values:u}}})(a,t)}return(function(r,o){if((r=Pi(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return OC(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=$t.fromDate(r);return{timestampValue:Oo(o.serializer,u)}}if(r instanceof $t){const u=new $t(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Oo(o.serializer,u)}}if(r instanceof Mi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Gn)return{bytesValue:aA(o.serializer,r._byteString)};if(r instanceof Me){const u=o.databaseId,c=r.firestore._databaseId;if(!c.isEqual(u))throw o.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:_p(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof si)return(function(c,m){const g=c instanceof si?c.toArray():c;return{mapValue:{fields:{[lp]:{stringValue:up},[Ro]:{arrayValue:{values:g.map((v=>{if(typeof v!="number")throw m.createError("VectorValues must only contain numeric values.");return fp(m.serializer,v)}))}}}}}})(r,o);if(pA(r))return r._toProto(o.serializer);throw o.createError(`Unsupported field value: ${yf(r)}`)})(a,t)}function db(a,t){const n={};return SS(a)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ua(a,((r,o)=>{const u=Qu(o,t.childContextForField(r));u!=null&&(n[r]=u)})),{mapValue:{fields:n}}}function mb(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof $t||a instanceof Mi||a instanceof Gn||a instanceof Me||a instanceof zf||a instanceof si||pA(a))}function Hp(a,t,n){if(!mb(n)||!aS(n)){const r=yf(n);throw r==="an object"?t.createError(a+" a custom object"):t.createError(a+" "+r)}}function hs(a,t,n){if((t=Pi(t))instanceof kp)return t._internalPath;if(typeof t=="string")return gb(a,t);throw mf("Field path arguments must be of type string or ",a,!1,void 0,n)}const ZD=new RegExp("[~\\*/\\[\\]]");function gb(a,t,n){if(t.search(ZD)>=0)throw mf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,n);try{return new kp(...t.split("."))._internalPath}catch{throw mf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,n)}}function mf(a,t,n,r,o){const u=r&&!r.isEmpty(),c=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||c)&&(g+=" (found",u&&(g+=` in field ${r}`),c&&(g+=` in document ${o}`),g+=")"),new lt(Z.INVALID_ARGUMENT,m+a+g)}function pb(a,t){return a.some((n=>n.isEqual(t)))}class WD{convertValue(t,n="none"){switch(na(t)){case 0:return null;case 1:return t.booleanValue;case 2:return he(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(ur(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw mt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return ua(t,((o,u)=>{r[o]=this.convertValue(u,n)})),r}convertVectorValue(t){const n=t.fields?.[Ro].arrayValue?.values?.map((r=>he(r.doubleValue)));return new si(n)}convertGeoPoint(t){return new Mi(he(t.latitude),he(t.longitude))}convertArray(t,n){return(t.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const r=Af(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(xu(t));default:return null}}convertTimestamp(t){const n=lr(t);return new $t(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=Gt.fromString(t);_t(gA(r),9688,{name:t});const o=new as(r.get(1),r.get(3)),u=new ct(r.popFirst(5));return o.isEqual(n)||Te(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class Gp extends WD{constructor(t){super(),this.firestore=t}convertBytes(t){return new Gn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Me(this.firestore,null,n)}}function qg(){return new Fp("serverTimestamp")}const l0="@firebase/firestore",u0="4.11.0";function c0(a){return(function(n,r){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of r)if(u in o&&typeof o[u]=="function")return!0;return!1})(a,["next","error","complete"])}class yb{constructor(t,n,r,o,u){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Me(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new tV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const n=this._document.data.field(hs("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class tV extends yb{data(){return super.data()}}function _b(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new lt(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Kp{}class Qp extends Kp{}function Fg(a,t,...n){let r=[];t instanceof Kp&&r.push(t),r=r.concat(n),(function(u){const c=u.filter((g=>g instanceof Yp)).length,m=u.filter((g=>g instanceof Uf)).length;if(c>1||c>0&&m>0)throw new lt(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)a=o._apply(a);return a}class Uf extends Qp{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new Uf(t,n,r)}_apply(t){const n=this._parse(t);return Eb(t._query,n),new fr(t.firestore,t.converter,Rg(t._query,n))}_parse(t){const n=qp(t.firestore);return(function(u,c,m,g,p,v,T){let b;if(p.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new lt(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){f0(T,v);const G=[];for(const Q of T)G.push(h0(g,u,Q));b={arrayValue:{values:G}}}else b=h0(g,u,T)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||f0(T,v),b=JD(m,c,T,v==="in"||v==="not-in");return Pt.create(p,v,b)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function eV(a,t,n){const r=t,o=hs("where",a);return Uf._create(o,r,n)}class Yp extends Kp{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Yp(t,n)}_parse(t){const n=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Jt.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(o,u){let c=o;const m=u.getFlattenedFilters();for(const g of m)Eb(c,g),c=Rg(c,g)})(t._query,n),new fr(t.firestore,t.converter,Rg(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Xp extends Qp{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new Xp(t,n)}_apply(t){const n=(function(o,u,c){if(o.startAt!==null)throw new lt(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new lt(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ou(u,c)})(t._query,this._field,this._direction);return new fr(t.firestore,t.converter,IC(t._query,n))}}function Hg(a,t="asc"){const n=t,r=hs("orderBy",a);return Xp._create(r,n)}class $p extends Qp{constructor(t,n,r){super(),this.type=t,this._limit=n,this._limitType=r}static _create(t,n,r){return new $p(t,n,r)}_apply(t){return new fr(t.firestore,t.converter,nf(t._query,this._limit,this._limitType))}}function vb(a){return P2("limit",a),$p._create("limit",a,"F")}function h0(a,t,n){if(typeof(n=Pi(n))=="string"){if(n==="")throw new lt(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!kS(t)&&n.indexOf("/")!==-1)throw new lt(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Gt.fromString(n));if(!ct.isDocumentKey(r))throw new lt(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Vu(a,new ct(r))}if(n instanceof Me)return Vu(a,n._key);throw new lt(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${yf(n)}.`)}function f0(a,t){if(!Array.isArray(a)||a.length===0)throw new lt(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Eb(a,t){const n=(function(o,u){for(const c of o)for(const m of c.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(a.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new lt(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new lt(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function nV(a,t,n){let r;return r=a?a.toFirestore(t):t,r}class iV{constructor(t){let n;this.kind="persistent",t?.tabManager?(t.tabManager._initialize(t),n=t.tabManager):(n=oV(void 0),n._initialize(t)),this._onlineComponentProvider=n._onlineComponentProvider,this._offlineComponentProvider=n._offlineComponentProvider}toJSON(){return{kind:this.kind}}}function rV(a){return new iV(a)}class aV{constructor(t){this.forceOwnership=t,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(t){this._onlineComponentProvider=zu.provider,this._offlineComponentProvider={build:n=>new ob(n,t?.cacheSizeBytes,this.forceOwnership)}}}class sV{constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(t){this._onlineComponentProvider=zu.provider,this._offlineComponentProvider={build:n=>new OD(n,t?.cacheSizeBytes)}}}function oV(a){return new aV(a?.forceOwnership)}function lV(){return new sV}class cu{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ns extends yb{constructor(t,n,r,o,u,c){super(t,n,r,o,c),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Hh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(hs("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=ns._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ns._jsonSchemaVersion="firestore/documentSnapshot/1.0",ns._jsonSchema={type:Oe("string",ns._jsonSchemaVersion),bundleSource:Oe("string","DocumentSnapshot"),bundleName:Oe("string"),bundle:Oe("string")};class Hh extends ns{data(t={}){return super.data(t)}}class is{constructor(t,n,r,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new cu(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((r=>{t.call(n,new Hh(this._firestore,this._userDataWriter,r.key,r,new cu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new lt(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((m=>{const g=new Hh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new cu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const g=new Hh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new cu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,v=-1;return m.type!==0&&(p=c.indexOf(m.doc.key),c=c.delete(m.doc.key)),m.type!==1&&(c=c.add(m.doc),v=c.indexOf(m.doc.key)),{type:uV(m.type),doc:g,oldIndex:p,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=is._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=tp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function uV(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mt(61501,{type:a})}}is._jsonSchemaVersion="firestore/querySnapshot/1.0",is._jsonSchema={type:Oe("string",is._jsonSchemaVersion),bundleSource:Oe("string","QuerySnapshot"),bundleName:Oe("string"),bundle:Oe("string")};function cV(a){a=Wr(a,fr);const t=Wr(a.firestore,Uo),n=Bp(t),r=new Gp(t);return _b(a._query),UD(n,a._query).then((o=>new is(t,r,a,o)))}function d0(a,t,n,...r){a=Wr(a,Me);const o=Wr(a.firestore,Uo),u=qp(o);let c;return c=typeof(t=Pi(t))=="string"||t instanceof kp?$D(u,"updateDoc",a._key,t,n,r):XD(u,"updateDoc",a._key,t),Ab(o,[c.toMutation(a._key,yn.exists(!0))])}function Tb(a,t){const n=Wr(a.firestore,Uo),r=jg(a),o=nV(a.converter,t),u=qp(a.firestore);return Ab(n,[YD(u,"addDoc",r._key,o,a.converter!==null,{}).toMutation(r._key,yn.exists(!1))]).then((()=>r))}function Sb(a,...t){a=Pi(a);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||c0(t[r])||(n=t[r++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(c0(t[r])){const p=t[r];t[r]=p.next?.bind(p),t[r+1]=p.error?.bind(p),t[r+2]=p.complete?.bind(p)}let u,c,m;if(a instanceof Me)c=Wr(a.firestore,Uo),m=wf(a._key.path),u={next:p=>{t[r]&&t[r](hV(c,a,p))},error:t[r+1],complete:t[r+2]};else{const p=Wr(a,fr);c=Wr(p.firestore,Uo),m=p._query;const v=new Gp(c);u={next:T=>{t[r]&&t[r](new is(c,v,p,T))},error:t[r+1],complete:t[r+2]},_b(a._query)}const g=Bp(c);return LD(g,m,o,u)}function Ab(a,t){const n=Bp(a);return BD(n,t)}function hV(a,t,n){const r=n.docs.get(t._key),o=new Gp(a);return new ns(a,o,t._key,r,new cu(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){A2(u2),Yh(new Su("firestore",((r,{instanceIdentifier:o,options:u})=>{const c=r.getProvider("app").getImmediate(),m=new Uo(new R2(r.getProvider("auth-internal")),new x2(c,r.getProvider("app-check-internal")),mC(c,o),c);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),po(l0,u0,t),po(l0,u0,"esm2020")})();const Jp={apiKey:"AIzaSyAnaZXAIsLyuEsup_fdHGa291Lngo20dBA",authDomain:"kchacha-order-project.firebaseapp.com",projectId:"kchacha-order-project",storageBucket:"kchacha-order-project.firebasestorage.app",messagingSenderId:"323137584836",appId:"1:323137584836:web:c23d7c71dfc62f5d0bd391"},fV=c2(Jp),In=FD(fV,{localCache:rV({tabManager:lV()})});console.log("Firebase initialized for project:",Jp.projectId);Jp.apiKey==="YOUR_API_KEY"&&console.error("CRITICAL: Firebase API Key is not set! Please check your .env file.");const Bf=()=>{const[a,t]=Y.useState([]),[n,r]=Y.useState(!0),[o,u]=Y.useState(!1);return Y.useEffect(()=>{if(!In){console.warn("Firebase DB not initialized"),r(!1);return}const p=Fg(Eu(In,"orders"),Hg("createdAt","asc"));console.log("Initializing Firestore Snapshot Listener for 'orders'...");const v=Sb(p,{includeMetadataChanges:!0},T=>{const b=T.metadata.fromCache;u(!b);const D=T.docs.map(G=>{const Q=G.data({serverTimestamps:"estimate"});return{id:G.id,...Q,createdAt:Q.createdAt?.toDate()||new Date}});t(D),r(!1)},T=>{console.error("CRITICAL: Firestore Snapshot Error:",T),u(!1),r(!1)});return()=>v()},[]),{orders:a,loading:n,isConnected:o,addOrder:async(p,v,T)=>{if(!In)return console.error("addOrder failed: Firestore 'db' is not initialized."),!1;try{const b=Fg(Eu(In,"orders"),Hg("createdAt","desc"),vb(1)),D=await cV(b);let G=1;D.empty||(G=(D.docs[0].data().orderNum||0)%25+1);const Q=await Tb(Eu(In,"orders"),{items:p,totalAmount:v,receivedAmount:T,change:T-v,status:"pending",orderNum:G,createdAt:qg()});return!0}catch(b){return console.error("addOrder ERROR:",b),!1}},updateOrderStatus:async(p,v)=>{if(In)try{const T=jg(In,"orders",p);await d0(T,{status:v,completedAt:v==="completed"?qg():null})}catch(T){console.error("Error updating order:",T)}},updateItemStatus:async(p,v,T)=>{if(In)try{const b=jg(In,"orders",p),D=a.find(Q=>Q.id===p);if(!D)return;const G=[...D.items];G[v]={...G[v],completed:T},await d0(b,{items:G})}catch(b){console.error("Error updating item status:",b)}}}},sg=[{id:"tea",name:"",price:700,color:"#6E6702"},{id:"manju",name:"",price:500,color:"#C05805"},{id:"custom",name:"",price:0,color:"#8B4513"},{id:"latte",name:"",price:500,color:"#2E2300"},{id:"latte_topping",name:`
()`,price:600,color:"#DE9501"}],dV=()=>{const{addOrder:a,isConnected:t}=Bf(),[n,r]=Y.useState({}),[o,u]=Y.useState(""),[c,m]=Y.useState(!1),[g,p]=Y.useState(!1),[v,T]=Y.useState(""),b=Object.entries(n).reduce((z,[H,J])=>{const et=sg.find(w=>w.id===H);if(typeof J=="number")return z+et.price*J;const{count:at,customPrice:ot}=J,R=ot!==void 0?ot:et.price;return z+R*at},0),D=z=>{if(console.log("Product clicked:",z),z==="custom")if(g){const H=parseInt(v,10);if(!H||H<=0){alert("");return}r(J=>{const et=J[z]||{count:0},at=typeof et=="number"?et:et.count;if(at>=10)return console.warn("Item limit reached for:",z),J;const ot={...J,[z]:{count:at+1,customPrice:H}};return console.log("Added custom item with price:",H),ot}),p(!1),T("");return}else{p(!0),T(""),console.log("Entered custom price mode");return}r(H=>{const J=H[z]||{count:0},et=typeof J=="number"?J:J.count;if(et>=10)return console.warn("Item limit reached for:",z),H;const at={...H,[z]:{count:et+1}};return console.log("New Cart State:",at),at})},G=(z,H)=>{H&&H.stopPropagation(),console.log("Decrement clicked:",z),r(J=>{const et=J[z];if(!et)return J;const ot=(typeof et=="number"?et:et.count)-1;if(ot<=0){const{[z]:w,...I}=J;return console.log("Item removed from cart:",z),I}const R={...J,[z]:typeof et=="number"?ot:{...et,count:ot}};return console.log("Updated Cart State (minus):",R),R})},Q=z=>{console.log("NumPad clicked:",z);const H=g?T:u;if(z==="AC"){H(""),g&&p(!1);return}if(z==="back"){H(J=>J.slice(0,-1));return}if(z==="00"){H(J=>J+"00");return}H(J=>J+z)},K=async()=>{if(c)return;if(b===0){alert("");return}const z=parseInt(o,10);if(!z||z<b){alert("");return}m(!0);try{const H=Object.entries(n).map(([et,at])=>{const ot=sg.find(I=>I.id===et),R=typeof at=="number"?at:at.count,w=typeof at=="object"?at.customPrice:void 0;return{...ot,price:w!==void 0?w:ot.price,quantity:R}}),J=await Promise.race([a(H,b,z),new Promise(et=>setTimeout(()=>et("timeout"),2e3))]);try{const et="/Kcha-neworder-project/",at=(et.endsWith("/")?et:et+"/")+"checkout.mp3";new Audio(at).play().catch(()=>{})}catch{}r({}),u(""),J==="timeout"?console.warn("Firestore local resolve timed out. Resetting anyway for speed."):J||alert("Wi-Fi")}catch(H){console.error("CRITICAL Checkout Error:",H),alert("")}finally{m(!1)}};return U.jsxs("div",{className:"order-screen-container",children:[U.jsx("div",{className:"pos-product-grid",children:sg.map(z=>{const H=n[z.id],J=H?typeof H=="number"?H:H.count:0,et=z.id==="custom"&&g;return U.jsxs("div",{className:`pos-product-card ${et?"custom-mode":""}`,style:{backgroundColor:z.color},children:[U.jsxs("div",{className:"product-info-area",onClick:()=>D(z.id),children:[U.jsx("span",{className:"pos-product-name",children:z.name}),et?U.jsxs("span",{className:"pos-product-price custom-price-input",children:["",v||"0"]}):U.jsxs("span",{className:"pos-product-price",children:["",z.price]})]}),U.jsxs("div",{className:"product-counter-area",children:[U.jsx("button",{className:"counter-btn minus",onClick:at=>G(z.id,at),disabled:J===0,children:""}),U.jsx("span",{className:"counter-value",children:J}),U.jsx("button",{className:"counter-btn plus",onClick:at=>D(z.id),children:""})]})]},z.id)})}),U.jsxs("div",{className:"control-panel",children:[g&&U.jsxs("div",{className:"custom-price-indicator",children:[U.jsx("div",{className:"indicator-text",children:""}),U.jsxs("div",{className:"indicator-amount",children:["",(parseInt(v,10)||0).toLocaleString()]})]}),U.jsx("div",{className:"customer-display-box",children:U.jsxs("div",{className:"customer-text-upside-down",children:[U.jsx("div",{className:"label",children:""}),U.jsxs("div",{className:"amount",children:["",b.toLocaleString()]})]})}),U.jsxs("div",{className:"staff-display-box",children:[U.jsxs("div",{className:"display-row",children:[U.jsx("span",{className:"label",children:""}),U.jsxs("span",{className:"value",children:["",(parseInt(o,10)||0).toLocaleString()]})]}),U.jsxs("div",{className:"display-row staff-total-row",children:[U.jsx("span",{className:"label",children:""}),U.jsxs("span",{className:"value",children:["",b.toLocaleString()]})]}),U.jsxs("div",{className:"display-row change",children:[U.jsx("span",{className:"label",children:""}),U.jsxs("span",{className:"value",children:["",Math.max(0,(parseInt(o,10)||0)-b).toLocaleString()]})]})]}),U.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"5px"},children:[U.jsxs("div",{style:{fontSize:"0.7rem",color:t?"#4caf50":"#f44336",display:"flex",alignItems:"center",gap:"3px"},children:[U.jsx("span",{style:{width:"6px",height:"6px",backgroundColor:t?"#4caf50":"#f44336",borderRadius:"50%",display:"inline-block"}}),t?"":""]}),U.jsx("div",{style:{fontSize:"0.9rem",color:"#ff6600",fontWeight:"bold"},children:"NEW v3.1.0 (UI)"})]}),U.jsx("div",{className:"keypad-container",children:U.jsxs("div",{className:"keypad",children:[[7,8,9,"AC",4,5,6,"back",1,2,3,"00",0].map((z,H)=>U.jsx("button",{className:`key-btn ${z==="AC"?"ac-btn":""} ${z===0?"zero-btn":""}`,onClick:()=>Q(String(z)),children:z==="back"?"":z},H)),U.jsx("button",{className:`pos-complete-btn ${!c&&b>0?"ready":""}`,onClick:K,disabled:c||b===0,children:c?"...":""})]})})]})]})},mV=()=>{const{orders:a,isConnected:t,updateItemStatus:n}=Bf(),[r,o]=Y.useState(new Date);Y.useEffect(()=>{const T=setInterval(()=>o(new Date),1e3);return()=>clearInterval(T)},[]);const c=a.filter(T=>T.status==="pending").flatMap(T=>T.items.map((b,D)=>({...b,originalIndex:D})).filter(b=>(b.id==="latte"||b.id==="latte_topping")&&!b.completed).map(b=>({...b,orderId:T.id,createdAt:T.createdAt,uniqueKey:`${T.id}-${b.originalIndex}`}))),m=T=>T?Math.floor((r-T)/1e3):0,g=T=>{const b=Math.floor(T/60),D=T%60;return`${b}:${D.toString().padStart(2,"0")}`},p=T=>T>=300?"urgent-time":T>=180?"warning-time":"normal-time",v=(T,b)=>{try{const D="/Kcha-neworder-project/",G=(D.endsWith("/")?D:D+"/")+"complete.mp3";new Audio(G).play().catch(()=>{})}catch{}n(T,b,!0)};return U.jsxs("div",{className:"kitchen-banner-container",children:[U.jsxs("div",{style:{position:"fixed",top:"10px",right:"10px",fontSize:"0.8rem",color:t?"#4caf50":"#f44336",display:"flex",alignItems:"center",gap:"5px",backgroundColor:"rgba(255,255,255,0.9)",padding:"4px 8px",borderRadius:"20px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",zIndex:1e3},children:[U.jsx("span",{style:{width:"8px",height:"8px",backgroundColor:t?"#4caf50":"#f44336",borderRadius:"50%",display:"inline-block"}}),t?"":" (...)"]}),U.jsxs("div",{className:"kitchen-banner-title",children:[U.jsx("span",{children:""}),U.jsxs("span",{style:{fontSize:"1.5rem",color:"#334155",fontWeight:"bold"},children:[": ",U.jsxs("span",{style:{fontSize:"3rem",color:"#ef4444",marginLeft:"10px"},children:[c.length,""]})]})]}),U.jsxs("div",{className:"banners-list",children:[c.length===0&&U.jsx("div",{className:"no-banners",children:"..."}),c.map(T=>{const b=m(T.createdAt),D=T.orderNum||T.orderId.slice(-4).toUpperCase(),G=T.createdAt?.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return U.jsxs("div",{className:`kitchen-banner banner-${T.id}`,children:[U.jsxs("div",{className:"banner-left",children:[U.jsxs("div",{className:"order-metadata",style:{backgroundColor:"#ffed4a",padding:"2px 8px",borderRadius:"4px",color:"#000",fontSize:"1.2rem"},children:["No. ",D," | ",G]}),U.jsxs("div",{className:"product-info-row",children:[U.jsx("span",{className:"kitchen-product-name",children:T.name}),U.jsxs("span",{className:"kitchen-product-qty",children:["x",T.quantity]})]})]}),U.jsxs("div",{className:"banner-right",children:[U.jsx("button",{className:"complete-btn-kitchen",onClick:()=>v(T.orderId,T.originalIndex),children:""}),U.jsx("div",{className:`time-counter ${p(b)}`,children:g(b)})]})]},T.uniqueKey)})]})]})},gV=()=>{const{orders:a}=Bf(),[t,n]=Y.useState(null),r=Y.useMemo(()=>{const g=new Date;return g.setHours(0,0,0,0),a.filter(p=>p.createdAt>=g)},[a]),o=Y.useMemo(()=>{const g={tea:{name:"",count:0,unit:""},manju:{name:"",count:0,unit:""},latte:{name:"",count:0,unit:""},latte_topping:{name:"",count:0,unit:""}};return r.forEach(p=>{p.items.forEach(v=>{g[v.id]&&(g[v.id].count+=v.quantity)})}),g},[r]),u=Y.useMemo(()=>{const g={};return r.forEach(p=>{p.items.forEach(v=>{if(v.id==="custom"){const T=v.price||0;g[T]=(g[T]||0)+v.quantity}})}),Object.entries(g).sort(([p],[v])=>Number(v)-Number(p)).map(([p,v])=>({price:p,count:v}))},[r]),c=Y.useMemo(()=>{const g={};for(let p=10;p<=18;p++)g[p]={latte:0,topping:0};return r.forEach(p=>{const v=p.createdAt?.getHours();v>=10&&v<=18&&g[v]&&p.items.forEach(T=>{T.id==="latte"&&(g[v].latte+=T.quantity),T.id==="latte_topping"&&(g[v].topping+=T.quantity)})}),g},[r]),m=()=>{const g=Object.keys(c).map(Number),p=450,v=800,T=60,b=40,D=40,G=60,Q=100,K=et=>T+(et-10)*(v-T-b)/8,z=et=>p-G-Math.min(et,Q)*(p-D-G)/Q,H=et=>g.map((at,ot)=>`${ot===0?"M":"L"} ${K(at)} ${z(c[at][et])}`).join(" "),J=Array.from({length:11},(et,at)=>at*10);return U.jsxs("svg",{viewBox:`0 0 ${v} ${p}`,className:"premium-graph",onClick:()=>n(null),children:[J.map(et=>U.jsxs("g",{children:[U.jsx("line",{x1:T,y1:z(et),x2:v-b,y2:z(et),stroke:"#e5e5e5",strokeWidth:et%50===0?"2":"1",strokeDasharray:et%50===0?"":"3,3"}),U.jsx("text",{x:T-12,y:z(et)+5,textAnchor:"end",fontSize:"13",fill:"#666",fontWeight:et%50===0?"bold":"normal",children:et})]},et)),U.jsx("line",{x1:T,y1:p-G,x2:v-b,y2:p-G,stroke:"#333",strokeWidth:"2"}),U.jsx("line",{x1:T,y1:D,x2:T,y2:p-G,stroke:"#333",strokeWidth:"2"}),g.map(et=>U.jsxs("text",{x:K(et),y:p-25,textAnchor:"middle",fontSize:"14",fill:"#333",fontWeight:"bold",children:[et,":00"]},et)),U.jsx("path",{d:H("latte"),fill:"none",stroke:"#81c784",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),U.jsx("path",{d:H("topping"),fill:"none",stroke:"#f06292",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),g.map(et=>U.jsxs("g",{children:[U.jsx("circle",{cx:K(et),cy:z(c[et].latte),r:"9",fill:"#fff",stroke:"#81c784",strokeWidth:"3",cursor:"pointer",onClick:at=>{at.stopPropagation(),n({x:K(et),y:z(c[et].latte),count:c[et].latte,label:""})}}),U.jsx("circle",{cx:K(et),cy:z(c[et].topping),r:"9",fill:"#fff",stroke:"#f06292",strokeWidth:"3",cursor:"pointer",onClick:at=>{at.stopPropagation(),n({x:K(et),y:z(c[et].topping),count:c[et].topping,label:""})}})]},et)),t&&U.jsxs("g",{transform:`translate(${t.x}, ${t.y-45})`,children:[U.jsx("path",{d:"M -30 -30 L 30 -30 L 30 0 L 5 0 L 0 8 L -5 0 L -30 0 Z",fill:"#333"}),U.jsxs("text",{x:"0",y:"-10",textAnchor:"middle",fill:"#fff",fontSize:"14",fontWeight:"bold",children:[t.count,""]})]}),U.jsxs("g",{transform:`translate(${v-180}, ${D-10})`,children:[U.jsx("rect",{x:"-10",y:"-10",width:"180",height:"70",rx:"10",fill:"rgba(255,255,255,0.8)"}),U.jsx("line",{x1:"10",y1:"15",x2:"40",y2:"15",stroke:"#81c784",strokeWidth:"5"}),U.jsx("text",{x:"50",y:"20",fontSize:"16",fontWeight:"bold",children:""}),U.jsx("line",{x1:"10",y1:"45",x2:"40",y2:"45",stroke:"#f06292",strokeWidth:"5"}),U.jsx("text",{x:"50",y:"50",fontSize:"16",fontWeight:"bold",children:""})]})]})};return U.jsx("div",{className:"dashboard-root",children:U.jsxs("div",{className:"dashboard-content",children:[U.jsxs("header",{className:"dashboard-header",children:[U.jsx("h1",{className:"header-title",children:""}),U.jsx("div",{className:"header-underline"})]}),U.jsxs("div",{className:"main-layout",children:[U.jsx("div",{className:"chart-section",children:U.jsxs("div",{className:"chart-card",children:[m(),U.jsxs("div",{className:"custom-breakdown-container",children:[U.jsx("h3",{className:"breakdown-title",children:""}),U.jsx("div",{className:"breakdown-list",children:u.length>0?u.map((g,p)=>U.jsxs("span",{className:"breakdown-item",children:["",g.price,"",g.count]},p)):U.jsx("span",{className:"no-data",children:""})})]})]})}),U.jsx("aside",{className:"stats-sidebar",children:U.jsx("div",{className:"sidebar-card",children:Object.values(o).map(g=>U.jsxs("div",{className:"sidebar-item",children:[U.jsx("span",{className:"item-name",children:g.name}),U.jsxs("span",{className:"item-count",children:[U.jsx("span",{className:"number",children:g.count}),U.jsxs("span",{className:"unit",children:["(",g.unit,")"]})]})]},g.name))})})]})]})})},pV=()=>{const[a,t]=Y.useState([]),[n,r]=Y.useState(!0);return Y.useEffect(()=>{if(!In)return;const u=new Date;u.setMonth(u.getMonth()-6);const c=Fg(Eu(In,"memos"),eV("createdAt",">=",u),Hg("createdAt","desc"),vb(100)),m=Sb(c,g=>{const p=g.docs.map(v=>({id:v.id,...v.data(),createdAt:v.data().createdAt?.toDate()||new Date})).reverse();t(p),r(!1)});return()=>m()},[]),{memos:a,loading:n,addMemo:async u=>{if(!(!In||!u.trim()))try{await Tb(Eu(In,"memos"),{text:u,createdAt:qg()})}catch(c){console.error("Error adding memo:",c)}}}},yV=()=>{const{orders:a}=Bf(),{memos:t,addMemo:n}=pV(),[r,o]=Y.useState(""),[u,c]=Y.useState(!1),m=Y.useRef(null);Y.useEffect(()=>{m.current&&(m.current.scrollTop=m.current.scrollHeight)},[t]);const g=z=>{const H=String(z.getFullYear()).slice(-2),J=String(z.getMonth()+1).padStart(2,"0"),et=String(z.getDate()).padStart(2,"0"),at=String(z.getHours()).padStart(2,"0"),ot=String(z.getMinutes()).padStart(2,"0");return`${H},${J},${et},${at}:${ot}`},p=new Date,v=p.getFullYear(),T=p.getMonth()+1,b=p.getDate(),D=Y.useMemo(()=>{const z=new Date;return z.setHours(0,0,0,0),a.filter(H=>H.status==="completed"&&H.createdAt>=z).reduce((H,J)=>H+(J.totalAmount||0),0)},[a]),G=[{date:"2025/11/21",latte:47,topping:31,total:47*500+31*600},{date:"2025/11/22",latte:134,topping:31,total:134*500+31*600},{date:"2025/11/23",latte:131,topping:50,total:131*500+50*600},{date:"2025/11/24",latte:73,topping:58,total:73*500+58*600}],Q=Y.useMemo(()=>{const z={};a.filter(at=>at.status==="completed").forEach(at=>{const ot=at.createdAt.toLocaleDateString("ja-JP",{year:"numeric",month:"2-digit",day:"2-digit"}),R=at.createdAt.getFullYear().toString();z[ot]||(z[ot]={date:ot,year:R,latte:0,topping:0,total:0}),at.items.forEach(w=>{w.id==="latte"&&(z[ot].latte+=w.quantity),w.id==="latte_topping"&&(z[ot].topping+=w.quantity)}),z[ot].total+=at.totalAmount||0});const H=G.map(at=>({...at,year:"2025"})),et=[...Object.values(z),...H].reduce((at,ot)=>{const R=ot.year;return at[R]||(at[R]=[]),at[R].push(ot),at},{});return Object.keys(et).forEach(at=>{et[at].sort((ot,R)=>new Date(R.date)-new Date(ot.date))}),Object.entries(et).sort((at,ot)=>ot[0]-at[0])},[a]),K=z=>{z.preventDefault(),r.trim()&&(n(r),o(""))};return U.jsxs("div",{className:"extras-container",children:[U.jsxs("div",{className:"extras-grid",children:[U.jsxs("div",{className:"panel sales-panel",children:[U.jsx("h2",{className:"panel-title sales-title",children:""}),U.jsxs("div",{className:"date-display",children:[U.jsxs("span",{className:"year",children:[v,""]}),U.jsxs("div",{className:"month-day",children:[T," ",b,""]})]}),U.jsxs("div",{className:"amount-display",children:[U.jsx("span",{className:"currency",children:""}),U.jsx("span",{className:"amount",children:D.toLocaleString()})]}),U.jsx("div",{className:"dash-line"})]}),U.jsxs("div",{className:"panel memo-panel",children:[U.jsx("h2",{className:"panel-title",children:""}),U.jsx("div",{className:"memo-list",ref:m,children:t.map(z=>U.jsxs("div",{className:"memo-item",children:[U.jsx("span",{className:"memo-time",children:g(z.createdAt)}),U.jsx("span",{className:"memo-text",children:z.text})]},z.id))}),U.jsxs("form",{onSubmit:K,className:"memo-input-form",children:[U.jsx("input",{type:"text",placeholder:"...",value:r,onChange:z=>o(z.target.value)}),U.jsx("button",{type:"submit",children:""})]})]}),U.jsx("div",{className:"button-area",children:U.jsxs("button",{className:"past-data-btn",onClick:()=>c(!0),children:["",U.jsx("br",{}),""]})})]}),u&&U.jsx("div",{className:"history-overlay",onClick:()=>c(!1),children:U.jsxs("div",{className:"history-modal",onClick:z=>z.stopPropagation(),children:[U.jsxs("div",{className:"modal-header",children:[U.jsx("h3",{children:""}),U.jsx("button",{className:"close-btn",onClick:()=>c(!1),children:""})]}),U.jsx("div",{className:"history-list",children:Q.map(([z,H])=>U.jsxs("div",{className:"year-section",children:[U.jsxs("div",{className:"year-header",children:[U.jsxs("span",{className:"year-label",children:[z,""]}),U.jsx("div",{className:"year-divider"})]}),U.jsxs("table",{className:"history-table",children:[U.jsx("thead",{children:U.jsxs("tr",{children:[U.jsx("th",{children:""}),U.jsx("th",{children:""}),U.jsx("th",{children:""}),U.jsx("th",{children:""})]})}),U.jsx("tbody",{children:H.map(J=>U.jsxs("tr",{children:[U.jsx("td",{className:"date-col",children:J.date}),U.jsxs("td",{className:"count-col",children:[J.latte,""]}),U.jsxs("td",{className:"count-col",children:[J.topping,""]}),U.jsxs("td",{className:"amount-col",children:["",J.total.toLocaleString()]})]},J.date))})]})]},z))})]})})]})};function _V(){return U.jsx(PR,{children:U.jsx(hR,{children:U.jsxs(Fa,{path:"/",element:U.jsx(GR,{}),children:[U.jsx(Fa,{index:!0,element:U.jsx(KR,{})}),U.jsx(Fa,{path:"order",element:U.jsx(dV,{})}),U.jsx(Fa,{path:"kitchen",element:U.jsx(mV,{})}),U.jsx(Fa,{path:"dashboard",element:U.jsx(gV,{})}),U.jsx(Fa,{path:"extras",element:U.jsx(yV,{})})]})})})}h1.createRoot(document.getElementById("root")).render(U.jsx(Y.StrictMode,{children:U.jsx(_V,{})}));
